import{r as ds,c as be,a as hi,i as $t,g as Vh}from"./index-1b0aad19.js";import{e as ps,t as G,b as qh,i as Gh}from"./index-aebc0079.js";function Zh(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var _a={},ii={},gs={};Object.defineProperty(gs,"__esModule",{value:!0});gs.walletLogo=void 0;const Qh=(t,e)=>{let r;switch(t){case"standard":return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=e,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*e).toFixed(2),`data:image/svg+xml,%3Csvg width='${e}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=e,`data:image/svg+xml,%3Csvg width='${e}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};gs.walletLogo=Qh;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.ScopedLocalStorage=void 0;class Kh{constructor(e){this.scope=e}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`${this.scope}:${e}`}}ys.ScopedLocalStorage=Kh;var mn={},On={};Object.defineProperty(On,"__esModule",{value:!0});const Yh=ps.exports;function pu(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function Jh(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}let Xh=class extends Yh.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")pu(s,this,r);else{const o=s.length,a=Jh(s);for(let d=0;d<o;d+=1)pu(a[d],this,r)}return!0}};On.default=Xh;var di={exports:{}};(function(t){(function(e,r){function n(v,u){if(!v)throw new Error(u||"Assertion failed")}function i(v,u){v.super_=u;var h=function(){};h.prototype=u.prototype,v.prototype=new h,v.prototype.constructor=v}function s(v,u,h){if(s.isBN(v))return v;this.negative=0,this.words=null,this.length=0,this.red=null,v!==null&&((u==="le"||u==="be")&&(h=u,u=10),this._init(v||0,u||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=ds.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,h){return u.cmp(h)>0?u:h},s.min=function(u,h){return u.cmp(h)<0?u:h},s.prototype._init=function(u,h,b){if(typeof u=="number")return this._initNumber(u,h,b);if(typeof u=="object")return this._initArray(u,h,b);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),u=u.toString().replace(/\s+/g,"");var w=0;u[0]==="-"&&(w++,this.negative=1),w<u.length&&(h===16?this._parseHex(u,w,b):(this._parseBase(u,h,w),b==="le"&&this._initArray(this.toArray(),h,b)))},s.prototype._initNumber=function(u,h,b){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(n(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),b==="le"&&this._initArray(this.toArray(),h,b)},s.prototype._initArray=function(u,h,b){if(n(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,A,P=0;if(b==="be")for(w=u.length-1,S=0;w>=0;w-=3)A=u[w]|u[w-1]<<8|u[w-2]<<16,this.words[S]|=A<<P&67108863,this.words[S+1]=A>>>26-P&67108863,P+=24,P>=26&&(P-=26,S++);else if(b==="le")for(w=0,S=0;w<u.length;w+=3)A=u[w]|u[w+1]<<8|u[w+2]<<16,this.words[S]|=A<<P&67108863,this.words[S+1]=A>>>26-P&67108863,P+=24,P>=26&&(P-=26,S++);return this._strip()};function a(v,u){var h=v.charCodeAt(u);if(h>=48&&h<=57)return h-48;if(h>=65&&h<=70)return h-55;if(h>=97&&h<=102)return h-87;n(!1,"Invalid character in "+v)}function d(v,u,h){var b=a(v,h);return h-1>=u&&(b|=a(v,h-1)<<4),b}s.prototype._parseHex=function(u,h,b){this.length=Math.ceil((u.length-h)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S=0,A=0,P;if(b==="be")for(w=u.length-1;w>=h;w-=2)P=d(u,h,w)<<S,this.words[A]|=P&67108863,S>=18?(S-=18,A+=1,this.words[A]|=P>>>26):S+=8;else{var p=u.length-h;for(w=p%2===0?h+1:h;w<u.length;w+=2)P=d(u,h,w)<<S,this.words[A]|=P&67108863,S>=18?(S-=18,A+=1,this.words[A]|=P>>>26):S+=8}this._strip()};function g(v,u,h,b){for(var w=0,S=0,A=Math.min(v.length,h),P=u;P<A;P++){var p=v.charCodeAt(P)-48;w*=b,p>=49?S=p-49+10:p>=17?S=p-17+10:S=p,n(p>=0&&S<b,"Invalid character"),w+=S}return w}s.prototype._parseBase=function(u,h,b){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=h)w++;w--,S=S/h|0;for(var A=u.length-b,P=A%w,p=Math.min(A,A-P)+b,c=0,_=b;_<p;_+=w)c=g(u,_,_+w,h),this.imuln(S),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(P!==0){var Z=1;for(c=g(u,_,u.length,h),_=0;_<P;_++)Z*=h;this.imuln(Z),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var h=0;h<this.length;h++)u.words[h]=this.words[h];u.length=this.length,u.negative=this.negative,u.red=this.red};function y(v,u){v.words=u.words,v.length=u.length,v.negative=u.negative,v.red=u.red}if(s.prototype._move=function(u){y(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=T}catch{s.prototype.inspect=T}else s.prototype.inspect=T;function T(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],I=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,h){u=u||10,h=h|0||1;var b;if(u===16||u==="hex"){b="";for(var w=0,S=0,A=0;A<this.length;A++){var P=this.words[A],p=((P<<w|S)&16777215).toString(16);S=P>>>24-w&16777215,w+=2,w>=26&&(w-=26,A--),S!==0||A!==this.length-1?b=x[6-p.length]+p+b:b=p+b}for(S!==0&&(b=S.toString(16)+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}if(u===(u|0)&&u>=2&&u<=36){var c=I[u],_=N[u];b="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var V=Z.modrn(_).toString(u);Z=Z.idivn(_),Z.isZero()?b=V+b:b=x[c-V.length]+V+b}for(this.isZero()&&(b="0"+b);b.length%h!==0;)b="0"+b;return this.negative!==0&&(b="-"+b),b}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(u,h){return this.toArrayLike(o,u,h)}),s.prototype.toArray=function(u,h){return this.toArrayLike(Array,u,h)};var $=function(u,h){return u.allocUnsafe?u.allocUnsafe(h):new u(h)};s.prototype.toArrayLike=function(u,h,b){this._strip();var w=this.byteLength(),S=b||Math.max(1,w);n(w<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var A=$(u,S),P=h==="le"?"LE":"BE";return this["_toArrayLike"+P](A,w),A},s.prototype._toArrayLikeLE=function(u,h){for(var b=0,w=0,S=0,A=0;S<this.length;S++){var P=this.words[S]<<A|w;u[b++]=P&255,b<u.length&&(u[b++]=P>>8&255),b<u.length&&(u[b++]=P>>16&255),A===6?(b<u.length&&(u[b++]=P>>24&255),w=0,A=0):(w=P>>>24,A+=2)}if(b<u.length)for(u[b++]=w;b<u.length;)u[b++]=0},s.prototype._toArrayLikeBE=function(u,h){for(var b=u.length-1,w=0,S=0,A=0;S<this.length;S++){var P=this.words[S]<<A|w;u[b--]=P&255,b>=0&&(u[b--]=P>>8&255),b>=0&&(u[b--]=P>>16&255),A===6?(b>=0&&(u[b--]=P>>24&255),w=0,A=0):(w=P>>>24,A+=2)}if(b>=0)for(u[b--]=w;b>=0;)u[b--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var h=u,b=0;return h>=4096&&(b+=13,h>>>=13),h>=64&&(b+=7,h>>>=7),h>=8&&(b+=4,h>>>=4),h>=2&&(b+=2,h>>>=2),b+h},s.prototype._zeroBits=function(u){if(u===0)return 26;var h=u,b=0;return h&8191||(b+=13,h>>>=13),h&127||(b+=7,h>>>=7),h&15||(b+=4,h>>>=4),h&3||(b+=2,h>>>=2),h&1||b++,b},s.prototype.bitLength=function(){var u=this.words[this.length-1],h=this._countBits(u);return(this.length-1)*26+h};function W(v){for(var u=new Array(v.bitLength()),h=0;h<u.length;h++){var b=h/26|0,w=h%26;u[h]=v.words[b]>>>w&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,h=0;h<this.length;h++){var b=this._zeroBits(this.words[h]);if(u+=b,b!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var h=0;h<u.length;h++)this.words[h]=this.words[h]|u.words[h];return this._strip()},s.prototype.ior=function(u){return n((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var h;this.length>u.length?h=u:h=this;for(var b=0;b<h.length;b++)this.words[b]=this.words[b]&u.words[b];return this.length=h.length,this._strip()},s.prototype.iand=function(u){return n((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var h,b;this.length>u.length?(h=this,b=u):(h=u,b=this);for(var w=0;w<b.length;w++)this.words[w]=h.words[w]^b.words[w];if(this!==h)for(;w<h.length;w++)this.words[w]=h.words[w];return this.length=h.length,this._strip()},s.prototype.ixor=function(u){return n((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){n(typeof u=="number"&&u>=0);var h=Math.ceil(u/26)|0,b=u%26;this._expand(h),b>0&&h--;for(var w=0;w<h;w++)this.words[w]=~this.words[w]&67108863;return b>0&&(this.words[w]=~this.words[w]&67108863>>26-b),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,h){n(typeof u=="number"&&u>=0);var b=u/26|0,w=u%26;return this._expand(b+1),h?this.words[b]=this.words[b]|1<<w:this.words[b]=this.words[b]&~(1<<w),this._strip()},s.prototype.iadd=function(u){var h;if(this.negative!==0&&u.negative===0)return this.negative=0,h=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,h=this.isub(u),u.negative=1,h._normSign();var b,w;this.length>u.length?(b=this,w=u):(b=u,w=this);for(var S=0,A=0;A<w.length;A++)h=(b.words[A]|0)+(w.words[A]|0)+S,this.words[A]=h&67108863,S=h>>>26;for(;S!==0&&A<b.length;A++)h=(b.words[A]|0)+S,this.words[A]=h&67108863,S=h>>>26;if(this.length=b.length,S!==0)this.words[this.length]=S,this.length++;else if(b!==this)for(;A<b.length;A++)this.words[A]=b.words[A];return this},s.prototype.add=function(u){var h;return u.negative!==0&&this.negative===0?(u.negative=0,h=this.sub(u),u.negative^=1,h):u.negative===0&&this.negative!==0?(this.negative=0,h=u.sub(this),this.negative=1,h):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var h=this.iadd(u);return u.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var b=this.cmp(u);if(b===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,S;b>0?(w=this,S=u):(w=u,S=this);for(var A=0,P=0;P<S.length;P++)h=(w.words[P]|0)-(S.words[P]|0)+A,A=h>>26,this.words[P]=h&67108863;for(;A!==0&&P<w.length;P++)h=(w.words[P]|0)+A,A=h>>26,this.words[P]=h&67108863;if(A===0&&P<w.length&&w!==this)for(;P<w.length;P++)this.words[P]=w.words[P];return this.length=Math.max(this.length,P),w!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function k(v,u,h){h.negative=u.negative^v.negative;var b=v.length+u.length|0;h.length=b,b=b-1|0;var w=v.words[0]|0,S=u.words[0]|0,A=w*S,P=A&67108863,p=A/67108864|0;h.words[0]=P;for(var c=1;c<b;c++){for(var _=p>>>26,Z=p&67108863,V=Math.min(c,u.length-1),R=Math.max(0,c-v.length+1);R<=V;R++){var O=c-R|0;w=v.words[O]|0,S=u.words[R]|0,A=w*S+Z,_+=A/67108864|0,Z=A&67108863}h.words[c]=Z|0,p=_|0}return p!==0?h.words[c]=p|0:h.length--,h._strip()}var L=function(u,h,b){var w=u.words,S=h.words,A=b.words,P=0,p,c,_,Z=w[0]|0,V=Z&8191,R=Z>>>13,O=w[1]|0,j=O&8191,q=O>>>13,ne=w[2]|0,M=ne&8191,C=ne>>>13,z=w[3]|0,Q=z&8191,fe=z>>>13,ge=w[4]|0,oe=ge&8191,xe=ge>>>13,Ct=w[5]|0,ke=Ct&8191,Ce=Ct>>>13,nt=w[6]|0,Ee=nt&8191,Ae=nt>>>13,st=w[7]|0,Me=st&8191,m=st>>>13,l=w[8]|0,f=l&8191,E=l>>>13,B=w[9]|0,D=B&8191,U=B>>>13,de=S[0]|0,he=de&8191,ce=de>>>13,Re=S[1]|0,ae=Re&8191,Oe=Re>>>13,Jr=S[2]|0,Ne=Jr&8191,Le=Jr>>>13,Xr=S[3]|0,Be=Xr&8191,Pe=Xr>>>13,en=S[4]|0,De=en&8191,Fe=en>>>13,tn=S[5]|0,je=tn&8191,$e=tn>>>13,rn=S[6]|0,Ue=rn&8191,We=rn>>>13,nn=S[7]|0,He=nn&8191,ze=nn>>>13,sn=S[8]|0,Ve=sn&8191,qe=sn>>>13,on=S[9]|0,Ge=on&8191,Ze=on>>>13;b.negative=u.negative^h.negative,b.length=19,p=Math.imul(V,he),c=Math.imul(V,ce),c=c+Math.imul(R,he)|0,_=Math.imul(R,ce);var Sr=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(Sr>>>26)|0,Sr&=67108863,p=Math.imul(j,he),c=Math.imul(j,ce),c=c+Math.imul(q,he)|0,_=Math.imul(q,ce),p=p+Math.imul(V,ae)|0,c=c+Math.imul(V,Oe)|0,c=c+Math.imul(R,ae)|0,_=_+Math.imul(R,Oe)|0;var xr=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(xr>>>26)|0,xr&=67108863,p=Math.imul(M,he),c=Math.imul(M,ce),c=c+Math.imul(C,he)|0,_=Math.imul(C,ce),p=p+Math.imul(j,ae)|0,c=c+Math.imul(j,Oe)|0,c=c+Math.imul(q,ae)|0,_=_+Math.imul(q,Oe)|0,p=p+Math.imul(V,Ne)|0,c=c+Math.imul(V,Le)|0,c=c+Math.imul(R,Ne)|0,_=_+Math.imul(R,Le)|0;var Er=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(Er>>>26)|0,Er&=67108863,p=Math.imul(Q,he),c=Math.imul(Q,ce),c=c+Math.imul(fe,he)|0,_=Math.imul(fe,ce),p=p+Math.imul(M,ae)|0,c=c+Math.imul(M,Oe)|0,c=c+Math.imul(C,ae)|0,_=_+Math.imul(C,Oe)|0,p=p+Math.imul(j,Ne)|0,c=c+Math.imul(j,Le)|0,c=c+Math.imul(q,Ne)|0,_=_+Math.imul(q,Le)|0,p=p+Math.imul(V,Be)|0,c=c+Math.imul(V,Pe)|0,c=c+Math.imul(R,Be)|0,_=_+Math.imul(R,Pe)|0;var Mr=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,p=Math.imul(oe,he),c=Math.imul(oe,ce),c=c+Math.imul(xe,he)|0,_=Math.imul(xe,ce),p=p+Math.imul(Q,ae)|0,c=c+Math.imul(Q,Oe)|0,c=c+Math.imul(fe,ae)|0,_=_+Math.imul(fe,Oe)|0,p=p+Math.imul(M,Ne)|0,c=c+Math.imul(M,Le)|0,c=c+Math.imul(C,Ne)|0,_=_+Math.imul(C,Le)|0,p=p+Math.imul(j,Be)|0,c=c+Math.imul(j,Pe)|0,c=c+Math.imul(q,Be)|0,_=_+Math.imul(q,Pe)|0,p=p+Math.imul(V,De)|0,c=c+Math.imul(V,Fe)|0,c=c+Math.imul(R,De)|0,_=_+Math.imul(R,Fe)|0;var Cr=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,p=Math.imul(ke,he),c=Math.imul(ke,ce),c=c+Math.imul(Ce,he)|0,_=Math.imul(Ce,ce),p=p+Math.imul(oe,ae)|0,c=c+Math.imul(oe,Oe)|0,c=c+Math.imul(xe,ae)|0,_=_+Math.imul(xe,Oe)|0,p=p+Math.imul(Q,Ne)|0,c=c+Math.imul(Q,Le)|0,c=c+Math.imul(fe,Ne)|0,_=_+Math.imul(fe,Le)|0,p=p+Math.imul(M,Be)|0,c=c+Math.imul(M,Pe)|0,c=c+Math.imul(C,Be)|0,_=_+Math.imul(C,Pe)|0,p=p+Math.imul(j,De)|0,c=c+Math.imul(j,Fe)|0,c=c+Math.imul(q,De)|0,_=_+Math.imul(q,Fe)|0,p=p+Math.imul(V,je)|0,c=c+Math.imul(V,$e)|0,c=c+Math.imul(R,je)|0,_=_+Math.imul(R,$e)|0;var Ir=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(Ir>>>26)|0,Ir&=67108863,p=Math.imul(Ee,he),c=Math.imul(Ee,ce),c=c+Math.imul(Ae,he)|0,_=Math.imul(Ae,ce),p=p+Math.imul(ke,ae)|0,c=c+Math.imul(ke,Oe)|0,c=c+Math.imul(Ce,ae)|0,_=_+Math.imul(Ce,Oe)|0,p=p+Math.imul(oe,Ne)|0,c=c+Math.imul(oe,Le)|0,c=c+Math.imul(xe,Ne)|0,_=_+Math.imul(xe,Le)|0,p=p+Math.imul(Q,Be)|0,c=c+Math.imul(Q,Pe)|0,c=c+Math.imul(fe,Be)|0,_=_+Math.imul(fe,Pe)|0,p=p+Math.imul(M,De)|0,c=c+Math.imul(M,Fe)|0,c=c+Math.imul(C,De)|0,_=_+Math.imul(C,Fe)|0,p=p+Math.imul(j,je)|0,c=c+Math.imul(j,$e)|0,c=c+Math.imul(q,je)|0,_=_+Math.imul(q,$e)|0,p=p+Math.imul(V,Ue)|0,c=c+Math.imul(V,We)|0,c=c+Math.imul(R,Ue)|0,_=_+Math.imul(R,We)|0;var kr=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(kr>>>26)|0,kr&=67108863,p=Math.imul(Me,he),c=Math.imul(Me,ce),c=c+Math.imul(m,he)|0,_=Math.imul(m,ce),p=p+Math.imul(Ee,ae)|0,c=c+Math.imul(Ee,Oe)|0,c=c+Math.imul(Ae,ae)|0,_=_+Math.imul(Ae,Oe)|0,p=p+Math.imul(ke,Ne)|0,c=c+Math.imul(ke,Le)|0,c=c+Math.imul(Ce,Ne)|0,_=_+Math.imul(Ce,Le)|0,p=p+Math.imul(oe,Be)|0,c=c+Math.imul(oe,Pe)|0,c=c+Math.imul(xe,Be)|0,_=_+Math.imul(xe,Pe)|0,p=p+Math.imul(Q,De)|0,c=c+Math.imul(Q,Fe)|0,c=c+Math.imul(fe,De)|0,_=_+Math.imul(fe,Fe)|0,p=p+Math.imul(M,je)|0,c=c+Math.imul(M,$e)|0,c=c+Math.imul(C,je)|0,_=_+Math.imul(C,$e)|0,p=p+Math.imul(j,Ue)|0,c=c+Math.imul(j,We)|0,c=c+Math.imul(q,Ue)|0,_=_+Math.imul(q,We)|0,p=p+Math.imul(V,He)|0,c=c+Math.imul(V,ze)|0,c=c+Math.imul(R,He)|0,_=_+Math.imul(R,ze)|0;var Ar=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(Ar>>>26)|0,Ar&=67108863,p=Math.imul(f,he),c=Math.imul(f,ce),c=c+Math.imul(E,he)|0,_=Math.imul(E,ce),p=p+Math.imul(Me,ae)|0,c=c+Math.imul(Me,Oe)|0,c=c+Math.imul(m,ae)|0,_=_+Math.imul(m,Oe)|0,p=p+Math.imul(Ee,Ne)|0,c=c+Math.imul(Ee,Le)|0,c=c+Math.imul(Ae,Ne)|0,_=_+Math.imul(Ae,Le)|0,p=p+Math.imul(ke,Be)|0,c=c+Math.imul(ke,Pe)|0,c=c+Math.imul(Ce,Be)|0,_=_+Math.imul(Ce,Pe)|0,p=p+Math.imul(oe,De)|0,c=c+Math.imul(oe,Fe)|0,c=c+Math.imul(xe,De)|0,_=_+Math.imul(xe,Fe)|0,p=p+Math.imul(Q,je)|0,c=c+Math.imul(Q,$e)|0,c=c+Math.imul(fe,je)|0,_=_+Math.imul(fe,$e)|0,p=p+Math.imul(M,Ue)|0,c=c+Math.imul(M,We)|0,c=c+Math.imul(C,Ue)|0,_=_+Math.imul(C,We)|0,p=p+Math.imul(j,He)|0,c=c+Math.imul(j,ze)|0,c=c+Math.imul(q,He)|0,_=_+Math.imul(q,ze)|0,p=p+Math.imul(V,Ve)|0,c=c+Math.imul(V,qe)|0,c=c+Math.imul(R,Ve)|0,_=_+Math.imul(R,qe)|0;var Rr=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(Rr>>>26)|0,Rr&=67108863,p=Math.imul(D,he),c=Math.imul(D,ce),c=c+Math.imul(U,he)|0,_=Math.imul(U,ce),p=p+Math.imul(f,ae)|0,c=c+Math.imul(f,Oe)|0,c=c+Math.imul(E,ae)|0,_=_+Math.imul(E,Oe)|0,p=p+Math.imul(Me,Ne)|0,c=c+Math.imul(Me,Le)|0,c=c+Math.imul(m,Ne)|0,_=_+Math.imul(m,Le)|0,p=p+Math.imul(Ee,Be)|0,c=c+Math.imul(Ee,Pe)|0,c=c+Math.imul(Ae,Be)|0,_=_+Math.imul(Ae,Pe)|0,p=p+Math.imul(ke,De)|0,c=c+Math.imul(ke,Fe)|0,c=c+Math.imul(Ce,De)|0,_=_+Math.imul(Ce,Fe)|0,p=p+Math.imul(oe,je)|0,c=c+Math.imul(oe,$e)|0,c=c+Math.imul(xe,je)|0,_=_+Math.imul(xe,$e)|0,p=p+Math.imul(Q,Ue)|0,c=c+Math.imul(Q,We)|0,c=c+Math.imul(fe,Ue)|0,_=_+Math.imul(fe,We)|0,p=p+Math.imul(M,He)|0,c=c+Math.imul(M,ze)|0,c=c+Math.imul(C,He)|0,_=_+Math.imul(C,ze)|0,p=p+Math.imul(j,Ve)|0,c=c+Math.imul(j,qe)|0,c=c+Math.imul(q,Ve)|0,_=_+Math.imul(q,qe)|0,p=p+Math.imul(V,Ge)|0,c=c+Math.imul(V,Ze)|0,c=c+Math.imul(R,Ge)|0,_=_+Math.imul(R,Ze)|0;var Tr=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,p=Math.imul(D,ae),c=Math.imul(D,Oe),c=c+Math.imul(U,ae)|0,_=Math.imul(U,Oe),p=p+Math.imul(f,Ne)|0,c=c+Math.imul(f,Le)|0,c=c+Math.imul(E,Ne)|0,_=_+Math.imul(E,Le)|0,p=p+Math.imul(Me,Be)|0,c=c+Math.imul(Me,Pe)|0,c=c+Math.imul(m,Be)|0,_=_+Math.imul(m,Pe)|0,p=p+Math.imul(Ee,De)|0,c=c+Math.imul(Ee,Fe)|0,c=c+Math.imul(Ae,De)|0,_=_+Math.imul(Ae,Fe)|0,p=p+Math.imul(ke,je)|0,c=c+Math.imul(ke,$e)|0,c=c+Math.imul(Ce,je)|0,_=_+Math.imul(Ce,$e)|0,p=p+Math.imul(oe,Ue)|0,c=c+Math.imul(oe,We)|0,c=c+Math.imul(xe,Ue)|0,_=_+Math.imul(xe,We)|0,p=p+Math.imul(Q,He)|0,c=c+Math.imul(Q,ze)|0,c=c+Math.imul(fe,He)|0,_=_+Math.imul(fe,ze)|0,p=p+Math.imul(M,Ve)|0,c=c+Math.imul(M,qe)|0,c=c+Math.imul(C,Ve)|0,_=_+Math.imul(C,qe)|0,p=p+Math.imul(j,Ge)|0,c=c+Math.imul(j,Ze)|0,c=c+Math.imul(q,Ge)|0,_=_+Math.imul(q,Ze)|0;var Or=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(Or>>>26)|0,Or&=67108863,p=Math.imul(D,Ne),c=Math.imul(D,Le),c=c+Math.imul(U,Ne)|0,_=Math.imul(U,Le),p=p+Math.imul(f,Be)|0,c=c+Math.imul(f,Pe)|0,c=c+Math.imul(E,Be)|0,_=_+Math.imul(E,Pe)|0,p=p+Math.imul(Me,De)|0,c=c+Math.imul(Me,Fe)|0,c=c+Math.imul(m,De)|0,_=_+Math.imul(m,Fe)|0,p=p+Math.imul(Ee,je)|0,c=c+Math.imul(Ee,$e)|0,c=c+Math.imul(Ae,je)|0,_=_+Math.imul(Ae,$e)|0,p=p+Math.imul(ke,Ue)|0,c=c+Math.imul(ke,We)|0,c=c+Math.imul(Ce,Ue)|0,_=_+Math.imul(Ce,We)|0,p=p+Math.imul(oe,He)|0,c=c+Math.imul(oe,ze)|0,c=c+Math.imul(xe,He)|0,_=_+Math.imul(xe,ze)|0,p=p+Math.imul(Q,Ve)|0,c=c+Math.imul(Q,qe)|0,c=c+Math.imul(fe,Ve)|0,_=_+Math.imul(fe,qe)|0,p=p+Math.imul(M,Ge)|0,c=c+Math.imul(M,Ze)|0,c=c+Math.imul(C,Ge)|0,_=_+Math.imul(C,Ze)|0;var Nr=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(Nr>>>26)|0,Nr&=67108863,p=Math.imul(D,Be),c=Math.imul(D,Pe),c=c+Math.imul(U,Be)|0,_=Math.imul(U,Pe),p=p+Math.imul(f,De)|0,c=c+Math.imul(f,Fe)|0,c=c+Math.imul(E,De)|0,_=_+Math.imul(E,Fe)|0,p=p+Math.imul(Me,je)|0,c=c+Math.imul(Me,$e)|0,c=c+Math.imul(m,je)|0,_=_+Math.imul(m,$e)|0,p=p+Math.imul(Ee,Ue)|0,c=c+Math.imul(Ee,We)|0,c=c+Math.imul(Ae,Ue)|0,_=_+Math.imul(Ae,We)|0,p=p+Math.imul(ke,He)|0,c=c+Math.imul(ke,ze)|0,c=c+Math.imul(Ce,He)|0,_=_+Math.imul(Ce,ze)|0,p=p+Math.imul(oe,Ve)|0,c=c+Math.imul(oe,qe)|0,c=c+Math.imul(xe,Ve)|0,_=_+Math.imul(xe,qe)|0,p=p+Math.imul(Q,Ge)|0,c=c+Math.imul(Q,Ze)|0,c=c+Math.imul(fe,Ge)|0,_=_+Math.imul(fe,Ze)|0;var Lr=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(Lr>>>26)|0,Lr&=67108863,p=Math.imul(D,De),c=Math.imul(D,Fe),c=c+Math.imul(U,De)|0,_=Math.imul(U,Fe),p=p+Math.imul(f,je)|0,c=c+Math.imul(f,$e)|0,c=c+Math.imul(E,je)|0,_=_+Math.imul(E,$e)|0,p=p+Math.imul(Me,Ue)|0,c=c+Math.imul(Me,We)|0,c=c+Math.imul(m,Ue)|0,_=_+Math.imul(m,We)|0,p=p+Math.imul(Ee,He)|0,c=c+Math.imul(Ee,ze)|0,c=c+Math.imul(Ae,He)|0,_=_+Math.imul(Ae,ze)|0,p=p+Math.imul(ke,Ve)|0,c=c+Math.imul(ke,qe)|0,c=c+Math.imul(Ce,Ve)|0,_=_+Math.imul(Ce,qe)|0,p=p+Math.imul(oe,Ge)|0,c=c+Math.imul(oe,Ze)|0,c=c+Math.imul(xe,Ge)|0,_=_+Math.imul(xe,Ze)|0;var Br=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(Br>>>26)|0,Br&=67108863,p=Math.imul(D,je),c=Math.imul(D,$e),c=c+Math.imul(U,je)|0,_=Math.imul(U,$e),p=p+Math.imul(f,Ue)|0,c=c+Math.imul(f,We)|0,c=c+Math.imul(E,Ue)|0,_=_+Math.imul(E,We)|0,p=p+Math.imul(Me,He)|0,c=c+Math.imul(Me,ze)|0,c=c+Math.imul(m,He)|0,_=_+Math.imul(m,ze)|0,p=p+Math.imul(Ee,Ve)|0,c=c+Math.imul(Ee,qe)|0,c=c+Math.imul(Ae,Ve)|0,_=_+Math.imul(Ae,qe)|0,p=p+Math.imul(ke,Ge)|0,c=c+Math.imul(ke,Ze)|0,c=c+Math.imul(Ce,Ge)|0,_=_+Math.imul(Ce,Ze)|0;var lo=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(lo>>>26)|0,lo&=67108863,p=Math.imul(D,Ue),c=Math.imul(D,We),c=c+Math.imul(U,Ue)|0,_=Math.imul(U,We),p=p+Math.imul(f,He)|0,c=c+Math.imul(f,ze)|0,c=c+Math.imul(E,He)|0,_=_+Math.imul(E,ze)|0,p=p+Math.imul(Me,Ve)|0,c=c+Math.imul(Me,qe)|0,c=c+Math.imul(m,Ve)|0,_=_+Math.imul(m,qe)|0,p=p+Math.imul(Ee,Ge)|0,c=c+Math.imul(Ee,Ze)|0,c=c+Math.imul(Ae,Ge)|0,_=_+Math.imul(Ae,Ze)|0;var fo=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(fo>>>26)|0,fo&=67108863,p=Math.imul(D,He),c=Math.imul(D,ze),c=c+Math.imul(U,He)|0,_=Math.imul(U,ze),p=p+Math.imul(f,Ve)|0,c=c+Math.imul(f,qe)|0,c=c+Math.imul(E,Ve)|0,_=_+Math.imul(E,qe)|0,p=p+Math.imul(Me,Ge)|0,c=c+Math.imul(Me,Ze)|0,c=c+Math.imul(m,Ge)|0,_=_+Math.imul(m,Ze)|0;var ho=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(ho>>>26)|0,ho&=67108863,p=Math.imul(D,Ve),c=Math.imul(D,qe),c=c+Math.imul(U,Ve)|0,_=Math.imul(U,qe),p=p+Math.imul(f,Ge)|0,c=c+Math.imul(f,Ze)|0,c=c+Math.imul(E,Ge)|0,_=_+Math.imul(E,Ze)|0;var po=(P+p|0)+((c&8191)<<13)|0;P=(_+(c>>>13)|0)+(po>>>26)|0,po&=67108863,p=Math.imul(D,Ge),c=Math.imul(D,Ze),c=c+Math.imul(U,Ge)|0,_=Math.imul(U,Ze);var go=(P+p|0)+((c&8191)<<13)|0;return P=(_+(c>>>13)|0)+(go>>>26)|0,go&=67108863,A[0]=Sr,A[1]=xr,A[2]=Er,A[3]=Mr,A[4]=Cr,A[5]=Ir,A[6]=kr,A[7]=Ar,A[8]=Rr,A[9]=Tr,A[10]=Or,A[11]=Nr,A[12]=Lr,A[13]=Br,A[14]=lo,A[15]=fo,A[16]=ho,A[17]=po,A[18]=go,P!==0&&(A[19]=P,b.length++),b};Math.imul||(L=k);function F(v,u,h){h.negative=u.negative^v.negative,h.length=v.length+u.length;for(var b=0,w=0,S=0;S<h.length-1;S++){var A=w;w=0;for(var P=b&67108863,p=Math.min(S,u.length-1),c=Math.max(0,S-v.length+1);c<=p;c++){var _=S-c,Z=v.words[_]|0,V=u.words[c]|0,R=Z*V,O=R&67108863;A=A+(R/67108864|0)|0,O=O+P|0,P=O&67108863,A=A+(O>>>26)|0,w+=A>>>26,A&=67108863}h.words[S]=P,b=A,A=w}return b!==0?h.words[S]=b:h.length--,h._strip()}function H(v,u,h){return F(v,u,h)}s.prototype.mulTo=function(u,h){var b,w=this.length+u.length;return this.length===10&&u.length===10?b=L(this,u,h):w<63?b=k(this,u,h):w<1024?b=F(this,u,h):b=H(this,u,h),b},s.prototype.mul=function(u){var h=new s(null);return h.words=new Array(this.length+u.length),this.mulTo(u,h)},s.prototype.mulf=function(u){var h=new s(null);return h.words=new Array(this.length+u.length),H(this,u,h)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var h=u<0;h&&(u=-u),n(typeof u=="number"),n(u<67108864);for(var b=0,w=0;w<this.length;w++){var S=(this.words[w]|0)*u,A=(S&67108863)+(b&67108863);b>>=26,b+=S/67108864|0,b+=A>>>26,this.words[w]=A&67108863}return b!==0&&(this.words[w]=b,this.length++),h?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var h=W(u);if(h.length===0)return new s(1);for(var b=this,w=0;w<h.length&&h[w]===0;w++,b=b.sqr());if(++w<h.length)for(var S=b.sqr();w<h.length;w++,S=S.sqr())h[w]!==0&&(b=b.mul(S));return b},s.prototype.iushln=function(u){n(typeof u=="number"&&u>=0);var h=u%26,b=(u-h)/26,w=67108863>>>26-h<<26-h,S;if(h!==0){var A=0;for(S=0;S<this.length;S++){var P=this.words[S]&w,p=(this.words[S]|0)-P<<h;this.words[S]=p|A,A=P>>>26-h}A&&(this.words[S]=A,this.length++)}if(b!==0){for(S=this.length-1;S>=0;S--)this.words[S+b]=this.words[S];for(S=0;S<b;S++)this.words[S]=0;this.length+=b}return this._strip()},s.prototype.ishln=function(u){return n(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,h,b){n(typeof u=="number"&&u>=0);var w;h?w=(h-h%26)/26:w=0;var S=u%26,A=Math.min((u-S)/26,this.length),P=67108863^67108863>>>S<<S,p=b;if(w-=A,w=Math.max(0,w),p){for(var c=0;c<A;c++)p.words[c]=this.words[c];p.length=A}if(A!==0)if(this.length>A)for(this.length-=A,c=0;c<this.length;c++)this.words[c]=this.words[c+A];else this.words[0]=0,this.length=1;var _=0;for(c=this.length-1;c>=0&&(_!==0||c>=w);c--){var Z=this.words[c]|0;this.words[c]=_<<26-S|Z>>>S,_=Z&P}return p&&_!==0&&(p.words[p.length++]=_),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,h,b){return n(this.negative===0),this.iushrn(u,h,b)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){n(typeof u=="number"&&u>=0);var h=u%26,b=(u-h)/26,w=1<<h;if(this.length<=b)return!1;var S=this.words[b];return!!(S&w)},s.prototype.imaskn=function(u){n(typeof u=="number"&&u>=0);var h=u%26,b=(u-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=b)return this;if(h!==0&&b++,this.length=Math.min(b,this.length),h!==0){var w=67108863^67108863>>>h<<h;this.words[this.length-1]&=w}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return n(typeof u=="number"),n(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(u){if(n(typeof u=="number"),n(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,h,b){var w=u.length+b,S;this._expand(w);var A,P=0;for(S=0;S<u.length;S++){A=(this.words[S+b]|0)+P;var p=(u.words[S]|0)*h;A-=p&67108863,P=(A>>26)-(p/67108864|0),this.words[S+b]=A&67108863}for(;S<this.length-b;S++)A=(this.words[S+b]|0)+P,P=A>>26,this.words[S+b]=A&67108863;if(P===0)return this._strip();for(n(P===-1),P=0,S=0;S<this.length;S++)A=-(this.words[S]|0)+P,P=A>>26,this.words[S]=A&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,h){var b=this.length-u.length,w=this.clone(),S=u,A=S.words[S.length-1]|0,P=this._countBits(A);b=26-P,b!==0&&(S=S.ushln(b),w.iushln(b),A=S.words[S.length-1]|0);var p=w.length-S.length,c;if(h!=="mod"){c=new s(null),c.length=p+1,c.words=new Array(c.length);for(var _=0;_<c.length;_++)c.words[_]=0}var Z=w.clone()._ishlnsubmul(S,1,p);Z.negative===0&&(w=Z,c&&(c.words[p]=1));for(var V=p-1;V>=0;V--){var R=(w.words[S.length+V]|0)*67108864+(w.words[S.length+V-1]|0);for(R=Math.min(R/A|0,67108863),w._ishlnsubmul(S,R,V);w.negative!==0;)R--,w.negative=0,w._ishlnsubmul(S,1,V),w.isZero()||(w.negative^=1);c&&(c.words[V]=R)}return c&&c._strip(),w._strip(),h!=="div"&&b!==0&&w.iushrn(b),{div:c||null,mod:w}},s.prototype.divmod=function(u,h,b){if(n(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var w,S,A;return this.negative!==0&&u.negative===0?(A=this.neg().divmod(u,h),h!=="mod"&&(w=A.div.neg()),h!=="div"&&(S=A.mod.neg(),b&&S.negative!==0&&S.iadd(u)),{div:w,mod:S}):this.negative===0&&u.negative!==0?(A=this.divmod(u.neg(),h),h!=="mod"&&(w=A.div.neg()),{div:w,mod:A.mod}):this.negative&u.negative?(A=this.neg().divmod(u.neg(),h),h!=="div"&&(S=A.mod.neg(),b&&S.negative!==0&&S.isub(u)),{div:A.div,mod:S}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?h==="div"?{div:this.divn(u.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,h)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var h=this.divmod(u);if(h.mod.isZero())return h.div;var b=h.div.negative!==0?h.mod.isub(u):h.mod,w=u.ushrn(1),S=u.andln(1),A=b.cmp(w);return A<0||S===1&&A===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modrn=function(u){var h=u<0;h&&(u=-u),n(u<=67108863);for(var b=(1<<26)%u,w=0,S=this.length-1;S>=0;S--)w=(b*w+(this.words[S]|0))%u;return h?-w:w},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var h=u<0;h&&(u=-u),n(u<=67108863);for(var b=0,w=this.length-1;w>=0;w--){var S=(this.words[w]|0)+b*67108864;this.words[w]=S/u|0,b=S%u}return this._strip(),h?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){n(u.negative===0),n(!u.isZero());var h=this,b=u.clone();h.negative!==0?h=h.umod(u):h=h.clone();for(var w=new s(1),S=new s(0),A=new s(0),P=new s(1),p=0;h.isEven()&&b.isEven();)h.iushrn(1),b.iushrn(1),++p;for(var c=b.clone(),_=h.clone();!h.isZero();){for(var Z=0,V=1;!(h.words[0]&V)&&Z<26;++Z,V<<=1);if(Z>0)for(h.iushrn(Z);Z-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(c),S.isub(_)),w.iushrn(1),S.iushrn(1);for(var R=0,O=1;!(b.words[0]&O)&&R<26;++R,O<<=1);if(R>0)for(b.iushrn(R);R-- >0;)(A.isOdd()||P.isOdd())&&(A.iadd(c),P.isub(_)),A.iushrn(1),P.iushrn(1);h.cmp(b)>=0?(h.isub(b),w.isub(A),S.isub(P)):(b.isub(h),A.isub(w),P.isub(S))}return{a:A,b:P,gcd:b.iushln(p)}},s.prototype._invmp=function(u){n(u.negative===0),n(!u.isZero());var h=this,b=u.clone();h.negative!==0?h=h.umod(u):h=h.clone();for(var w=new s(1),S=new s(0),A=b.clone();h.cmpn(1)>0&&b.cmpn(1)>0;){for(var P=0,p=1;!(h.words[0]&p)&&P<26;++P,p<<=1);if(P>0)for(h.iushrn(P);P-- >0;)w.isOdd()&&w.iadd(A),w.iushrn(1);for(var c=0,_=1;!(b.words[0]&_)&&c<26;++c,_<<=1);if(c>0)for(b.iushrn(c);c-- >0;)S.isOdd()&&S.iadd(A),S.iushrn(1);h.cmp(b)>=0?(h.isub(b),w.isub(S)):(b.isub(h),S.isub(w))}var Z;return h.cmpn(1)===0?Z=w:Z=S,Z.cmpn(0)<0&&Z.iadd(u),Z},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var h=this.clone(),b=u.clone();h.negative=0,b.negative=0;for(var w=0;h.isEven()&&b.isEven();w++)h.iushrn(1),b.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;b.isEven();)b.iushrn(1);var S=h.cmp(b);if(S<0){var A=h;h=b,b=A}else if(S===0||b.cmpn(1)===0)break;h.isub(b)}while(!0);return b.iushln(w)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){n(typeof u=="number");var h=u%26,b=(u-h)/26,w=1<<h;if(this.length<=b)return this._expand(b+1),this.words[b]|=w,this;for(var S=w,A=b;S!==0&&A<this.length;A++){var P=this.words[A]|0;P+=S,S=P>>>26,P&=67108863,this.words[A]=P}return S!==0&&(this.words[A]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var h=u<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this._strip();var b;if(this.length>1)b=1;else{h&&(u=-u),n(u<=67108863,"Number is too big");var w=this.words[0]|0;b=w===u?0:w<u?-1:1}return this.negative!==0?-b|0:b},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var h=this.ucmp(u);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var h=0,b=this.length-1;b>=0;b--){var w=this.words[b]|0,S=u.words[b]|0;if(w!==S){w<S?h=-1:w>S&&(h=1);break}}return h},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new re(u)},s.prototype.toRed=function(u){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return n(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return n(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var K={k256:null,p224:null,p192:null,p25519:null};function Y(v,u){this.name=v,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}Y.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},Y.prototype.ireduce=function(u){var h=u,b;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),b=h.bitLength();while(b>this.n);var w=b<this.n?-1:h.ucmp(this.p);return w===0?(h.words[0]=0,h.length=1):w>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},Y.prototype.split=function(u,h){u.iushrn(this.n,0,h)},Y.prototype.imulK=function(u){return u.imul(this.k)};function te(){Y.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(te,Y),te.prototype.split=function(u,h){for(var b=4194303,w=Math.min(u.length,9),S=0;S<w;S++)h.words[S]=u.words[S];if(h.length=w,u.length<=9){u.words[0]=0,u.length=1;return}var A=u.words[9];for(h.words[h.length++]=A&b,S=10;S<u.length;S++){var P=u.words[S]|0;u.words[S-10]=(P&b)<<4|A>>>22,A=P}A>>>=22,u.words[S-10]=A,A===0&&u.length>10?u.length-=10:u.length-=9},te.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var h=0,b=0;b<u.length;b++){var w=u.words[b]|0;h+=w*977,u.words[b]=h&67108863,h=w*64+(h/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function X(){Y.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(X,Y);function J(){Y.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(J,Y);function ee(){Y.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ee,Y),ee.prototype.imulK=function(u){for(var h=0,b=0;b<u.length;b++){var w=(u.words[b]|0)*19+h,S=w&67108863;w>>>=26,u.words[b]=S,h=w}return h!==0&&(u.words[u.length++]=h),u},s._prime=function(u){if(K[u])return K[u];var h;if(u==="k256")h=new te;else if(u==="p224")h=new X;else if(u==="p192")h=new J;else if(u==="p25519")h=new ee;else throw new Error("Unknown prime "+u);return K[u]=h,h};function re(v){if(typeof v=="string"){var u=s._prime(v);this.m=u.p,this.prime=u}else n(v.gtn(1),"modulus must be greater than 1"),this.m=v,this.prime=null}re.prototype._verify1=function(u){n(u.negative===0,"red works only with positives"),n(u.red,"red works only with red numbers")},re.prototype._verify2=function(u,h){n((u.negative|h.negative)===0,"red works only with positives"),n(u.red&&u.red===h.red,"red works only with red numbers")},re.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(y(u,u.umod(this.m)._forceRed(this)),u)},re.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},re.prototype.add=function(u,h){this._verify2(u,h);var b=u.add(h);return b.cmp(this.m)>=0&&b.isub(this.m),b._forceRed(this)},re.prototype.iadd=function(u,h){this._verify2(u,h);var b=u.iadd(h);return b.cmp(this.m)>=0&&b.isub(this.m),b},re.prototype.sub=function(u,h){this._verify2(u,h);var b=u.sub(h);return b.cmpn(0)<0&&b.iadd(this.m),b._forceRed(this)},re.prototype.isub=function(u,h){this._verify2(u,h);var b=u.isub(h);return b.cmpn(0)<0&&b.iadd(this.m),b},re.prototype.shl=function(u,h){return this._verify1(u),this.imod(u.ushln(h))},re.prototype.imul=function(u,h){return this._verify2(u,h),this.imod(u.imul(h))},re.prototype.mul=function(u,h){return this._verify2(u,h),this.imod(u.mul(h))},re.prototype.isqr=function(u){return this.imul(u,u.clone())},re.prototype.sqr=function(u){return this.mul(u,u)},re.prototype.sqrt=function(u){if(u.isZero())return u.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var b=this.m.add(new s(1)).iushrn(2);return this.pow(u,b)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);n(!w.isZero());var A=new s(1).toRed(this),P=A.redNeg(),p=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,p).cmp(P)!==0;)c.redIAdd(P);for(var _=this.pow(c,w),Z=this.pow(u,w.addn(1).iushrn(1)),V=this.pow(u,w),R=S;V.cmp(A)!==0;){for(var O=V,j=0;O.cmp(A)!==0;j++)O=O.redSqr();n(j<R);var q=this.pow(_,new s(1).iushln(R-j-1));Z=Z.redMul(q),_=q.redSqr(),V=V.redMul(_),R=j}return Z},re.prototype.invm=function(u){var h=u._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},re.prototype.pow=function(u,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return u.clone();var b=4,w=new Array(1<<b);w[0]=new s(1).toRed(this),w[1]=u;for(var S=2;S<w.length;S++)w[S]=this.mul(w[S-1],u);var A=w[0],P=0,p=0,c=h.bitLength()%26;for(c===0&&(c=26),S=h.length-1;S>=0;S--){for(var _=h.words[S],Z=c-1;Z>=0;Z--){var V=_>>Z&1;if(A!==w[0]&&(A=this.sqr(A)),V===0&&P===0){p=0;continue}P<<=1,P|=V,p++,!(p!==b&&(S!==0||Z!==0))&&(A=this.mul(A,w[P]),p=0,P=0)}c=26}return A},re.prototype.convertTo=function(u){var h=u.umod(this.m);return h===u?h.clone():h},re.prototype.convertFrom=function(u){var h=u.clone();return h.red=null,h},s.mont=function(u){return new ue(u)};function ue(v){re.call(this,v),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ue,re),ue.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},ue.prototype.convertFrom=function(u){var h=this.imod(u.mul(this.rinv));return h.red=null,h},ue.prototype.imul=function(u,h){if(u.isZero()||h.isZero())return u.words[0]=0,u.length=1,u;var b=u.imul(h),w=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=b.isub(w).iushrn(this.shift),A=S;return S.cmp(this.m)>=0?A=S.isub(this.m):S.cmpn(0)<0&&(A=S.iadd(this.m)),A._forceRed(this)},ue.prototype.mul=function(u,h){if(u.isZero()||h.isZero())return new s(0)._forceRed(this);var b=u.mul(h),w=b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=b.isub(w).iushrn(this.shift),A=S;return S.cmp(this.m)>=0?A=S.isub(this.m):S.cmpn(0)<0&&(A=S.iadd(this.m)),A._forceRed(this)},ue.prototype.invm=function(u){var h=this.imod(u._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,be)})(di);var bs={},dr={},nl=si;si.default=si;si.stable=ol;si.stableStringify=ol;var Yi="[...]",il="[Circular]",zr=[],Ur=[];function sl(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function si(t,e,r,n){typeof n>"u"&&(n=sl()),Xo(t,"",0,[],void 0,0,n);var i;try{Ur.length===0?i=JSON.stringify(t,e,r):i=JSON.stringify(t,al(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;zr.length!==0;){var s=zr.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function pn(t,e,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:t}),zr.push([n,r,e,i])):Ur.push([e,r,t]):(n[r]=t,zr.push([n,r,e]))}function Xo(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){pn(il,t,e,i);return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){pn(Yi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){pn(Yi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)Xo(t[a],a,a,n,t,s,o);else{var d=Object.keys(t);for(a=0;a<d.length;a++){var g=d[a];Xo(t[g],g,a,n,t,s,o)}}n.pop()}}function ed(t,e){return t<e?-1:t>e?1:0}function ol(t,e,r,n){typeof n>"u"&&(n=sl());var i=ea(t,"",0,[],void 0,0,n)||t,s;try{Ur.length===0?s=JSON.stringify(i,e,r):s=JSON.stringify(i,al(e),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;zr.length!==0;){var o=zr.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return s}function ea(t,e,r,n,i,s,o){s+=1;var a;if(typeof t=="object"&&t!==null){for(a=0;a<n.length;a++)if(n[a]===t){pn(il,t,e,i);return}try{if(typeof t.toJSON=="function")return}catch{return}if(typeof o.depthLimit<"u"&&s>o.depthLimit){pn(Yi,t,e,i);return}if(typeof o.edgesLimit<"u"&&r+1>o.edgesLimit){pn(Yi,t,e,i);return}if(n.push(t),Array.isArray(t))for(a=0;a<t.length;a++)ea(t[a],a,a,n,t,s,o);else{var d={},g=Object.keys(t).sort(ed);for(a=0;a<g.length;a++){var y=g[a];ea(t[y],y,a,n,t,s,o),d[y]=t[y]}if(typeof i<"u")zr.push([i,e,t]),i[e]=d;else return d}n.pop()}}function al(t){return t=typeof t<"u"?t:function(e,r){return r},function(e,r){if(Ur.length>0)for(var n=0;n<Ur.length;n++){var i=Ur[n];if(i[1]===e&&i[0]===r){r=i[2],Ur.splice(n,1);break}}return t.call(this,e,r)}}Object.defineProperty(dr,"__esModule",{value:!0});dr.EthereumProviderError=dr.EthereumRpcError=void 0;const td=nl;let ul=class extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return td.default(this.serialize(),id,2)}};dr.EthereumRpcError=ul;let rd=class extends ul{constructor(e,r,n){if(!nd(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}};dr.EthereumProviderError=rd;function nd(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function id(t,e){if(e!=="[Circular]")return e}var wa={},pr={};Object.defineProperty(pr,"__esModule",{value:!0});pr.errorValues=pr.errorCodes=void 0;pr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};pr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=pr,r=dr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(x,I=i){if(Number.isInteger(x)){const N=x.toString();if(T(e.errorValues,N))return e.errorValues[N].message;if(g(x))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return I}t.getMessageFromCode=o;function a(x){if(!Number.isInteger(x))return!1;const I=x.toString();return!!(e.errorValues[I]||g(x))}t.isValidCode=a;function d(x,{fallbackError:I=s,shouldIncludeStack:N=!1}={}){var $,W;if(!I||!Number.isInteger(I.code)||typeof I.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(x instanceof r.EthereumRpcError)return x.serialize();const k={};if(x&&typeof x=="object"&&!Array.isArray(x)&&T(x,"code")&&a(x.code)){const F=x;k.code=F.code,F.message&&typeof F.message=="string"?(k.message=F.message,T(F,"data")&&(k.data=F.data)):(k.message=o(k.code),k.data={originalError:y(x)})}else{k.code=I.code;const F=($=x)===null||$===void 0?void 0:$.message;k.message=F&&typeof F=="string"?F:I.message,k.data={originalError:y(x)}}const L=(W=x)===null||W===void 0?void 0:W.stack;return N&&x&&L&&typeof L=="string"&&(k.stack=L),k}t.serializeError=d;function g(x){return x>=-32099&&x<=-32e3}function y(x){return x&&typeof x=="object"&&!Array.isArray(x)?Object.assign({},x):x}function T(x,I){return Object.prototype.hasOwnProperty.call(x,I)}})(wa);var vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.ethErrors=void 0;const Sa=dr,cl=wa,dt=pr;vs.ethErrors={rpc:{parse:t=>It(dt.errorCodes.rpc.parse,t),invalidRequest:t=>It(dt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>It(dt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>It(dt.errorCodes.rpc.methodNotFound,t),internal:t=>It(dt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return It(e,t)},invalidInput:t=>It(dt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>It(dt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>It(dt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>It(dt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>It(dt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>It(dt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Hn(dt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Hn(dt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Hn(dt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Hn(dt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Hn(dt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Sa.EthereumProviderError(e,r,n)}}};function It(t,e){const[r,n]=ll(e);return new Sa.EthereumRpcError(t,r||cl.getMessageFromCode(t),n)}function Hn(t,e){const[r,n]=ll(e);return new Sa.EthereumProviderError(t,r||cl.getMessageFromCode(t),n)}function ll(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=dr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=wa;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=vs;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=pr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(bs);var Nn={};Object.defineProperty(Nn,"__esModule",{value:!0});Nn.EVENTS=void 0;Nn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var Ln={};function _n(t){return typeof t=="function"}var gu=!1,Rt={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;""+e.stack}gu=t},get useDeprecatedSynchronousErrorHandling(){return gu}};function hn(t){setTimeout(function(){throw t},0)}var Ji={closed:!0,next:function(t){},error:function(t){if(Rt.useDeprecatedSynchronousErrorHandling)throw t;hn(t)},complete:function(){}},_t=function(){return Array.isArray||function(t){return t&&typeof t.length=="number"}}();function xa(t){return t!==null&&typeof t=="object"}var sd=function(){function t(e){return Error.call(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e,this}return t.prototype=Object.create(Error.prototype),t}(),Kn=sd,Je=function(){function t(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this,n=r._parentOrParents,i=r._ctorUnsubscribe,s=r._unsubscribe,o=r._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(n!==null)for(var a=0;a<n.length;++a){var d=n[a];d.remove(this)}if(_n(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(T){e=T instanceof Kn?yu(T.errors):[T]}}if(_t(o))for(var a=-1,g=o.length;++a<g;){var y=o[a];if(xa(y))try{y.unsubscribe()}catch(x){e=e||[],x instanceof Kn?e=e.concat(yu(x.errors)):e.push(x)}}if(e)throw new Kn(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||typeof r.unsubscribe!="function")return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;r=new t,r._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=r._parentOrParents;if(i===null)r._parentOrParents=this;else if(i instanceof t){if(i===this)return r;r._parentOrParents=[i,this]}else if(i.indexOf(this)===-1)i.push(this);else return r;var s=this._subscriptions;return s===null?this._subscriptions=[r]:s.push(r),r},t.prototype.remove=function(e){var r=this._subscriptions;if(r){var n=r.indexOf(e);n!==-1&&r.splice(n,1)}},t.EMPTY=function(e){return e.closed=!0,e}(new t),t}();function yu(t){return t.reduce(function(e,r){return e.concat(r instanceof Kn?r.errors:r)},[])}var Xi=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),se=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=Ji;break;case 1:if(!r){s.destination=Ji;break}if(typeof r=="object"){r instanceof e?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new bu(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new bu(s,r,n,i);break}return s}return e.prototype[Xi]=function(){return this},e.create=function(r,n,i){var s=new e(r,n,i);return s.syncErrorThrowable=!1,s},e.prototype.next=function(r){this.isStopped||this._next(r)},e.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(r){this.destination.next(r)},e.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},e}(Je),bu=function(t){G.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this)||this;o._parentSubscriber=r;var a,d=o;return _n(n)?a=n:n&&(a=n.next,i=n.error,s=n.complete,n!==Ji&&(d=Object.create(n),_n(d.unsubscribe)&&o.add(d.unsubscribe.bind(d)),d.unsubscribe=o.unsubscribe.bind(o))),o._context=d,o._next=a,o._error=i,o._complete=s,o}return e.prototype.next=function(r){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!Rt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,r):this.__tryOrSetError(n,this._next,r)&&this.unsubscribe()}},e.prototype.error=function(r){if(!this.isStopped){var n=this._parentSubscriber,i=Rt.useDeprecatedSynchronousErrorHandling;if(this._error)!i||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,r),this.unsubscribe()):(this.__tryOrSetError(n,this._error,r),this.unsubscribe());else if(n.syncErrorThrowable)i?(n.syncErrorValue=r,n.syncErrorThrown=!0):hn(r),this.unsubscribe();else{if(this.unsubscribe(),i)throw r;hn(r)}}},e.prototype.complete=function(){var r=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var i=function(){return r._complete.call(r._context)};!Rt.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(i),this.unsubscribe()):(this.__tryOrSetError(n,i),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(r,n){try{r.call(this._context,n)}catch(i){if(this.unsubscribe(),Rt.useDeprecatedSynchronousErrorHandling)throw i;hn(i)}},e.prototype.__tryOrSetError=function(r,n,i){if(!Rt.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,i)}catch(s){return Rt.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=s,r.syncErrorThrown=!0,!0):(hn(s),!0)}return!1},e.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},e}(se);function Ea(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;n&&n instanceof se?t=n:t=null}return!0}function od(t,e,r){if(t){if(t instanceof se)return t;if(t[Xi])return t[Xi]()}return!t&&!e&&!r?new se(Ji):new se(t,e,r)}var Bn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function gr(t){return t}function ta(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return fl(t)}function fl(t){return t.length===0?gr:t.length===1?t[0]:function(r){return t.reduce(function(n,i){return i(n)},r)}}var me=function(){function t(e){this._isScalar=!1,e&&(this._subscribe=e)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(e,r,n){var i=this.operator,s=od(e,r,n);if(i?s.add(i.call(s,this.source)):s.add(this.source||Rt.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),Rt.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(r){Rt.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=r),Ea(e)?e.error(r):console.warn(r)}},t.prototype.forEach=function(e,r){var n=this;return r=vu(r),new r(function(i,s){var o;o=n.subscribe(function(a){try{e(a)}catch(d){s(d),o&&o.unsubscribe()}},s,i)})},t.prototype._subscribe=function(e){var r=this.source;return r&&r.subscribe(e)},t.prototype[Bn]=function(){return this},t.prototype.pipe=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return e.length===0?this:fl(e)(this)},t.prototype.toPromise=function(e){var r=this;return e=vu(e),new e(function(n,i){var s;r.subscribe(function(o){return s=o},function(o){return i(o)},function(){return n(s)})})},t.create=function(e){return new t(e)},t}();function vu(t){if(t||(t=Rt.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var ad=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),cr=ad,hl=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.subject=r,i.subscriber=n,i.closed=!1,i}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var r=this.subject,n=r.observers;if(this.subject=null,!(!n||n.length===0||r.isStopped||r.closed)){var i=n.indexOf(this.subscriber);i!==-1&&n.splice(i,1)}}},e}(Je),dl=function(t){G.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.destination=r,n}return e}(se),lt=function(t){G.exports.__extends(e,t);function e(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return e.prototype[Xi]=function(){return new dl(this)},e.prototype.lift=function(r){var n=new mu(this,this);return n.operator=r,n},e.prototype.next=function(r){if(this.closed)throw new cr;if(!this.isStopped)for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].next(r)},e.prototype.error=function(r){if(this.closed)throw new cr;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var n=this.observers,i=n.length,s=n.slice(),o=0;o<i;o++)s[o].error(r);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new cr;this.isStopped=!0;for(var r=this.observers,n=r.length,i=r.slice(),s=0;s<n;s++)i[s].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(r){if(this.closed)throw new cr;return t.prototype._trySubscribe.call(this,r)},e.prototype._subscribe=function(r){if(this.closed)throw new cr;return this.hasError?(r.error(this.thrownError),Je.EMPTY):this.isStopped?(r.complete(),Je.EMPTY):(this.observers.push(r),new hl(this,r))},e.prototype.asObservable=function(){var r=new me;return r.source=this,r},e.create=function(r,n){return new mu(r,n)},e}(me),mu=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.destination=r,i.source=n,i}return e.prototype.next=function(r){var n=this.destination;n&&n.next&&n.next(r)},e.prototype.error=function(r){var n=this.destination;n&&n.error&&this.destination.error(r)},e.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},e.prototype._subscribe=function(r){var n=this.source;return n?this.source.subscribe(r):Je.EMPTY},e}(lt);function Ma(){return function(e){return e.lift(new ud(e))}}var ud=function(){function t(e){this.connectable=e}return t.prototype.call=function(e,r){var n=this.connectable;n._refCount++;var i=new cd(e,n),s=r.subscribe(i);return i.closed||(i.connection=n.connect()),s},t}(),cd=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._unsubscribe=function(){var r=this.connectable;if(!r){this.connection=null;return}this.connectable=null;var n=r._refCount;if(n<=0){this.connection=null;return}if(r._refCount=n-1,n>1){this.connection=null;return}var i=this.connection,s=r._connection;this.connection=null,s&&(!i||s===i)&&s.unsubscribe()},e}(se),pl=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return e.prototype._subscribe=function(r){return this.getSubject().subscribe(r)},e.prototype.getSubject=function(){var r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var r=this._connection;return r||(this._isComplete=!1,r=this._connection=new Je,r.add(this.source.subscribe(new fd(this.getSubject(),this))),r.closed&&(this._connection=null,r=Je.EMPTY)),r},e.prototype.refCount=function(){return Ma()(this)},e}(me),ld=function(){var t=pl.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),fd=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.connectable=n,i}return e.prototype._error=function(r){this._unsubscribe(),t.prototype._error.call(this,r)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.connectable;if(r){this.connectable=null;var n=r._connection;r._refCount=0,r._subject=null,r._connection=null,n&&n.unsubscribe()}},e}(dl);function hd(t,e,r,n){return function(i){return i.lift(new dd(t,e,r,n))}}var dd=function(){function t(e,r,n,i){this.keySelector=e,this.elementSelector=r,this.durationSelector=n,this.subjectSelector=i}return t.prototype.call=function(e,r){return r.subscribe(new pd(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),pd=function(t){G.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.keySelector=n,a.elementSelector=i,a.durationSelector=s,a.subjectSelector=o,a.groups=null,a.attemptedToUnsubscribe=!1,a.count=0,a}return e.prototype._next=function(r){var n;try{n=this.keySelector(r)}catch(i){this.error(i);return}this._group(r,n)},e.prototype._group=function(r,n){var i=this.groups;i||(i=this.groups=new Map);var s=i.get(n),o;if(this.elementSelector)try{o=this.elementSelector(r)}catch(g){this.error(g)}else o=r;if(!s){s=this.subjectSelector?this.subjectSelector():new lt,i.set(n,s);var a=new ra(n,s,this);if(this.destination.next(a),this.durationSelector){var d=void 0;try{d=this.durationSelector(new ra(n,s))}catch(g){this.error(g);return}this.add(d.subscribe(new gd(n,s,this)))}}s.closed||s.next(o)},e.prototype._error=function(r){var n=this.groups;n&&(n.forEach(function(i,s){i.error(r)}),n.clear()),this.destination.error(r)},e.prototype._complete=function(){var r=this.groups;r&&(r.forEach(function(n,i){n.complete()}),r.clear()),this.destination.complete()},e.prototype.removeGroup=function(r){this.groups.delete(r)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,this.count===0&&t.prototype.unsubscribe.call(this))},e}(se),gd=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,n)||this;return s.key=r,s.group=n,s.parent=i,s}return e.prototype._next=function(r){this.complete()},e.prototype._unsubscribe=function(){var r=this,n=r.parent,i=r.key;this.key=this.parent=null,n&&n.removeGroup(i)},e}(se),ra=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;return s.key=r,s.groupSubject=n,s.refCountSubscription=i,s}return e.prototype._subscribe=function(r){var n=new Je,i=this,s=i.refCountSubscription,o=i.groupSubject;return s&&!s.closed&&n.add(new yd(s)),n.add(o.subscribe(r)),n},e}(me),yd=function(t){G.exports.__extends(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,r.count++,n}return e.prototype.unsubscribe=function(){var r=this.parent;!r.closed&&!this.closed&&(t.prototype.unsubscribe.call(this),r.count-=1,r.count===0&&r.attemptedToUnsubscribe&&r.unsubscribe())},e}(Je),gl=function(t){G.exports.__extends(e,t);function e(r){var n=t.call(this)||this;return n._value=r,n}return Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(r){var n=t.prototype._subscribe.call(this,r);return n&&!n.closed&&r.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new cr;return this._value},e.prototype.next=function(r){t.prototype.next.call(this,this._value=r)},e}(lt),bd=function(t){G.exports.__extends(e,t);function e(r,n){return t.call(this)||this}return e.prototype.schedule=function(r,n){return this},e}(Je),pi=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i.pending=!1,i}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),this.closed)return this;this.state=r;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(s,this.id,n),this},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),setInterval(r.flush.bind(r,this),i)},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&this.delay===i&&this.pending===!1)return n;clearInterval(n)},e.prototype.execute=function(r,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(r,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(r,n){var i=!1,s=void 0;try{this.work(r)}catch(o){i=!0,s=!!o&&o||new Error(o)}if(i)return this.unsubscribe(),s},e.prototype._unsubscribe=function(){var r=this.id,n=this.scheduler,i=n.actions,s=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,s!==-1&&i.splice(s,1),r!=null&&(this.id=this.recycleAsyncId(n,r,null)),this.delay=null},e}(bd),vd=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.schedule=function(r,n){return n===void 0&&(n=0),n>0?t.prototype.schedule.call(this,r,n):(this.delay=n,this.state=r,this.scheduler.flush(this),this)},e.prototype.execute=function(r,n){return n>0||this.closed?t.prototype.execute.call(this,r,n):this._execute(r,n)},e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0?t.prototype.requestAsyncId.call(this,r,n,i):r.flush(this)},e}(pi),na=function(){function t(e,r){r===void 0&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(e,r,n){return r===void 0&&(r=0),new this.SchedulerAction(this,e).schedule(n,r)},t.now=function(){return Date.now()},t}(),gi=function(t){G.exports.__extends(e,t);function e(r,n){n===void 0&&(n=na.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return e.prototype.schedule=function(r,n,i){return n===void 0&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(r){var n=this.actions;if(this.active){n.push(r);return}var i;this.active=!0;do if(i=r.execute(r.state,r.delay))break;while(r=n.shift());if(this.active=!1,i){for(;r=n.shift();)r.unsubscribe();throw i}},e}(na),md=function(t){G.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(gi),yl=new md(vd),bl=yl,wn=new me(function(t){return t.complete()});function Pn(t){return t?_d(t):wn}function _d(t){return new me(function(e){return t.schedule(function(){return e.complete()})})}function Et(t){return t&&typeof t.schedule=="function"}var vl=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.complete()}};function Ca(t,e){return new me(function(r){var n=new Je,i=0;return n.add(e.schedule(function(){if(i===t.length){r.complete();return}r.next(t[i++]),r.closed||n.add(this.schedule())})),n})}function yi(t,e){return e?Ca(t,e):new me(vl(t))}function ms(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Et(r)?(t.pop(),Ca(t,r)):yi(t)}function Ia(t,e){return e?new me(function(r){return e.schedule(wd,0,{error:t,subscriber:r})}):new me(function(r){return r.error(t)})}function wd(t){var e=t.error,r=t.subscriber;r.error(e)}var ia;ia||(ia={});var er=function(){function t(e,r,n){this.kind=e,this.value=r,this.error=n,this.hasValue=e==="N"}return t.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},t.prototype.do=function(e,r,n){var i=this.kind;switch(i){case"N":return e&&e(this.value);case"E":return r&&r(this.error);case"C":return n&&n()}},t.prototype.accept=function(e,r,n){return e&&typeof e.next=="function"?this.observe(e):this.do(e,r,n)},t.prototype.toObservable=function(){var e=this.kind;switch(e){case"N":return ms(this.value);case"E":return Ia(this.error);case"C":return Pn()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return typeof e<"u"?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function Sd(t,e){return e===void 0&&(e=0),function(n){return n.lift(new xd(t,e))}}var xd=function(){function t(e,r){r===void 0&&(r=0),this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return r.subscribe(new ml(e,this.scheduler,this.delay))},t}(),ml=function(t){G.exports.__extends(e,t);function e(r,n,i){i===void 0&&(i=0);var s=t.call(this,r)||this;return s.scheduler=n,s.delay=i,s}return e.dispatch=function(r){var n=r.notification,i=r.destination;n.observe(i),this.unsubscribe()},e.prototype.scheduleMessage=function(r){var n=this.destination;n.add(this.scheduler.schedule(e.dispatch,this.delay,new Ed(r,this.destination)))},e.prototype._next=function(r){this.scheduleMessage(er.createNext(r))},e.prototype._error=function(r){this.scheduleMessage(er.createError(r)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(er.createComplete()),this.unsubscribe()},e}(se),Ed=function(){function t(e,r){this.notification=e,this.destination=r}return t}(),ka=function(t){G.exports.__extends(e,t);function e(r,n,i){r===void 0&&(r=Number.POSITIVE_INFINITY),n===void 0&&(n=Number.POSITIVE_INFINITY);var s=t.call(this)||this;return s.scheduler=i,s._events=[],s._infiniteTimeWindow=!1,s._bufferSize=r<1?1:r,s._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(s._infiniteTimeWindow=!0,s.next=s.nextInfiniteTimeWindow):s.next=s.nextTimeWindow,s}return e.prototype.nextInfiniteTimeWindow=function(r){if(!this.isStopped){var n=this._events;n.push(r),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,r)},e.prototype.nextTimeWindow=function(r){this.isStopped||(this._events.push(new Md(this._getNow(),r)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,r)},e.prototype._subscribe=function(r){var n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,o=i.length,a;if(this.closed)throw new cr;if(this.isStopped||this.hasError?a=Je.EMPTY:(this.observers.push(r),a=new hl(this,r)),s&&r.add(r=new ml(r,s)),n)for(var d=0;d<o&&!r.closed;d++)r.next(i[d]);else for(var d=0;d<o&&!r.closed;d++)r.next(i[d].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),a},e.prototype._getNow=function(){return(this.scheduler||bl).now()},e.prototype._trimBufferThenGetEvents=function(){for(var r=this._getNow(),n=this._bufferSize,i=this._windowTime,s=this._events,o=s.length,a=0;a<o&&!(r-s[a].time<i);)a++;return o>n&&(a=Math.max(a,o-n)),a>0&&s.splice(0,a),s},e}(lt),Md=function(){function t(e,r){this.time=e,this.value=r}return t}(),Dn=function(t){G.exports.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.value=null,r.hasNext=!1,r.hasCompleted=!1,r}return e.prototype._subscribe=function(r){return this.hasError?(r.error(this.thrownError),Je.EMPTY):this.hasCompleted&&this.hasNext?(r.next(this.value),r.complete(),Je.EMPTY):t.prototype._subscribe.call(this,r)},e.prototype.next=function(r){this.hasCompleted||(this.value=r,this.hasNext=!0)},e.prototype.error=function(r){this.hasCompleted||t.prototype.error.call(this,r)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(lt),Cd=1,Id=function(){return Promise.resolve()}(),sa={};function _u(t){return t in sa?(delete sa[t],!0):!1}var wu={setImmediate:function(t){var e=Cd++;return sa[e]=!0,Id.then(function(){return _u(e)&&t()}),e},clearImmediate:function(t){_u(t)}},kd=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=wu.setImmediate(r.flush.bind(r,null))))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(wu.clearImmediate(n),r.scheduled=void 0)},e}(pi),Ad=function(t){G.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(gi),_l=new Ad(kd),qi=_l,wl=new gi(pi),wt=wl,Rd=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.scheduler=r,i.work=n,i}return e.prototype.requestAsyncId=function(r,n,i){return i===void 0&&(i=0),i!==null&&i>0?t.prototype.requestAsyncId.call(this,r,n,i):(r.actions.push(this),r.scheduled||(r.scheduled=requestAnimationFrame(function(){return r.flush(null)})))},e.prototype.recycleAsyncId=function(r,n,i){if(i===void 0&&(i=0),i!==null&&i>0||i===null&&this.delay>0)return t.prototype.recycleAsyncId.call(this,r,n,i);r.actions.length===0&&(cancelAnimationFrame(n),r.scheduled=void 0)},e}(pi),Td=function(t){G.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.flush=function(r){this.active=!0,this.scheduled=void 0;var n=this.actions,i,s=-1,o=n.length;r=r||n.shift();do if(i=r.execute(r.state,r.delay))break;while(++s<o&&(r=n.shift()));if(this.active=!1,i){for(;++s<o&&(r=n.shift());)r.unsubscribe();throw i}},e}(gi),Sl=new Td(Rd),Od=Sl,Nd=function(t){G.exports.__extends(e,t);function e(r,n){r===void 0&&(r=xl),n===void 0&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,r,function(){return i.frame})||this;return i.maxFrames=n,i.frame=0,i.index=-1,i}return e.prototype.flush=function(){for(var r=this,n=r.actions,i=r.maxFrames,s,o;(o=n[0])&&o.delay<=i&&(n.shift(),this.frame=o.delay,!(s=o.execute(o.state,o.delay))););if(s){for(;o=n.shift();)o.unsubscribe();throw s}},e.frameTimeFactor=10,e}(gi),xl=function(t){G.exports.__extends(e,t);function e(r,n,i){i===void 0&&(i=r.index+=1);var s=t.call(this,r,n)||this;return s.scheduler=r,s.work=n,s.index=i,s.active=!0,s.index=r.index=i,s}return e.prototype.schedule=function(r,n){if(n===void 0&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(r,n,i){i===void 0&&(i=0),this.delay=r.frame+i;var s=r.actions;return s.push(this),s.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(r,n,i){},e.prototype._execute=function(r,n){if(this.active===!0)return t.prototype._execute.call(this,r,n)},e.sortActions=function(r,n){return r.delay===n.delay?r.index===n.index?0:r.index>n.index?1:-1:r.delay>n.delay?1:-1},e}(pi);function Ht(){}function Ld(t){return!!t&&(t instanceof me||typeof t.lift=="function"&&typeof t.subscribe=="function")}var Bd=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Sn=Bd,Pd=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),bi=Pd,Dd=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}(),El=Dd;function Lt(t,e){return function(n){if(typeof t!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Fd(t,e))}}var Fd=function(){function t(e,r){this.project=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new jd(e,this.project,this.thisArg))},t}(),jd=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.project=n,s.count=0,s.thisArg=i||s,s}return e.prototype._next=function(r){var n;try{n=this.project.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(se);function Ml(t,e,r){if(e)if(Et(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Ml(t,r).apply(void 0,n).pipe(Lt(function(s){return _t(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s=this,o,a={context:s,subject:o,callbackFunc:t,scheduler:r};return new me(function(d){if(r){var y={args:n,subscriber:d,params:a};return r.schedule($d,0,y)}else{if(!o){o=new Dn;var g=function(){for(var T=[],x=0;x<arguments.length;x++)T[x]=arguments[x];o.next(T.length<=1?T[0]:T),o.complete()};try{t.apply(s,n.concat([g]))}catch(T){Ea(o)?o.error(T):console.warn(T)}}return o.subscribe(d)}})}}function $d(t){var e=this,r=t.args,n=t.subscriber,i=t.params,s=i.callbackFunc,o=i.context,a=i.scheduler,d=i.subject;if(!d){d=i.subject=new Dn;var g=function(){for(var y=[],T=0;T<arguments.length;T++)y[T]=arguments[T];var x=y.length<=1?y[0]:y;e.add(a.schedule(Ud,0,{value:x,subject:d}))};try{s.apply(o,r.concat([g]))}catch(y){d.error(y)}}this.add(d.subscribe(n))}function Ud(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Cl(t,e,r){if(e)if(Et(e))r=e;else return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return Cl(t,r).apply(void 0,n).pipe(Lt(function(s){return _t(s)?e.apply(void 0,s):e(s)}))};return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var s={subject:void 0,args:n,callbackFunc:t,scheduler:r,context:this};return new me(function(o){var a=s.context,d=s.subject;if(r)return r.schedule(Wd,0,{params:s,subscriber:o,context:a});if(!d){d=s.subject=new Dn;var g=function(){for(var y=[],T=0;T<arguments.length;T++)y[T]=arguments[T];var x=y.shift();if(x){d.error(x);return}d.next(y.length<=1?y[0]:y),d.complete()};try{t.apply(a,n.concat([g]))}catch(y){Ea(d)?d.error(y):console.warn(y)}}return d.subscribe(o)})}}function Wd(t){var e=this,r=t.params,n=t.subscriber,i=t.context,s=r.callbackFunc,o=r.args,a=r.scheduler,d=r.subject;if(!d){d=r.subject=new Dn;var g=function(){for(var y=[],T=0;T<arguments.length;T++)y[T]=arguments[T];var x=y.shift();if(x)e.add(a.schedule(Su,0,{err:x,subject:d}));else{var I=y.length<=1?y[0]:y;e.add(a.schedule(Hd,0,{value:I,subject:d}))}};try{s.apply(i,o.concat([g]))}catch(y){this.add(a.schedule(Su,0,{err:y,subject:d}))}}this.add(d.subscribe(n))}function Hd(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function Su(t){var e=t.err,r=t.subject;r.error(e)}var Zr=function(t){G.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(n)},e.prototype.notifyError=function(r,n){this.destination.error(r)},e.prototype.notifyComplete=function(r){this.destination.complete()},e}(se),zd=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this)||this;return s.parent=r,s.outerValue=n,s.outerIndex=i,s.index=0,s}return e.prototype._next=function(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)},e.prototype._error=function(r){this.parent.notifyError(r,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(se),Vd=function(t){return function(e){return t.then(function(r){e.closed||(e.next(r),e.complete())},function(r){return e.error(r)}).then(null,hn),e}};function qd(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var yr=qd(),Gd=function(t){return function(e){var r=t[yr]();do{var n=void 0;try{n=r.next()}catch(i){return e.error(i),e}if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}while(!0);return typeof r.return=="function"&&e.add(function(){r.return&&r.return()}),e}},Zd=function(t){return function(e){var r=t[Bn]();if(typeof r.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},Il=function(t){return t&&typeof t.length=="number"&&typeof t!="function"};function kl(t){return!!t&&typeof t.subscribe!="function"&&typeof t.then=="function"}var oi=function(t){if(t&&typeof t[Bn]=="function")return Zd(t);if(Il(t))return vl(t);if(kl(t))return Vd(t);if(t&&typeof t[yr]=="function")return Gd(t);var e=xa(t)?"an invalid object":"'"+t+"'",r="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(r)};function tr(t,e,r,n,i){if(i===void 0&&(i=new zd(t,r,n)),!i.closed)return e instanceof me?e.subscribe(i):oi(e)(i)}var xu={};function Qd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=void 0,n=void 0;return Et(t[t.length-1])&&(n=t.pop()),typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&_t(t[0])&&(t=t[0]),yi(t,n).lift(new Aa(r))}var Aa=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Kd(e,this.resultSelector))},t}(),Kd=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return e.prototype._next=function(r){this.values.push(xu),this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{this.active=n,this.toRespond=n;for(var i=0;i<n;i++){var s=r[i];this.add(tr(this,s,void 0,i))}}},e.prototype.notifyComplete=function(r){(this.active-=1)===0&&this.destination.complete()},e.prototype.notifyNext=function(r,n,i){var s=this.values,o=s[i],a=this.toRespond?o===xu?--this.toRespond:this.toRespond:0;s[i]=n,a===0&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))},e.prototype._tryResultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Zr);function Yd(t,e){return new me(function(r){var n=new Je;return n.add(e.schedule(function(){var i=t[Bn]();n.add(i.subscribe({next:function(s){n.add(e.schedule(function(){return r.next(s)}))},error:function(s){n.add(e.schedule(function(){return r.error(s)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n})}function Jd(t,e){return new me(function(r){var n=new Je;return n.add(e.schedule(function(){return t.then(function(i){n.add(e.schedule(function(){r.next(i),n.add(e.schedule(function(){return r.complete()}))}))},function(i){n.add(e.schedule(function(){return r.error(i)}))})})),n})}function Xd(t,e){if(!t)throw new Error("Iterable cannot be null");return new me(function(r){var n=new Je,i;return n.add(function(){i&&typeof i.return=="function"&&i.return()}),n.add(e.schedule(function(){i=t[yr](),n.add(e.schedule(function(){if(!r.closed){var s,o;try{var a=i.next();s=a.value,o=a.done}catch(d){r.error(d);return}o?r.complete():(r.next(s),this.schedule())}}))})),n})}function ep(t){return t&&typeof t[Bn]=="function"}function tp(t){return t&&typeof t[yr]=="function"}function Al(t,e){if(t!=null){if(ep(t))return Yd(t,e);if(kl(t))return Jd(t,e);if(Il(t))return Ca(t,e);if(tp(t)||typeof t=="string")return Xd(t,e)}throw new TypeError((t!==null&&typeof t||t)+" is not observable")}function nr(t,e){return e?Al(t,e):t instanceof me?t:new me(oi(t))}var Xe=function(t){G.exports.__extends(e,t);function e(r){var n=t.call(this)||this;return n.parent=r,n}return e.prototype._next=function(r){this.parent.notifyNext(r)},e.prototype._error=function(r){this.parent.notifyError(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(se),et=function(t){G.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(se);function tt(t,e){if(!e.closed){if(t instanceof me)return t.subscribe(e);var r;try{r=oi(t)(e)}catch(n){e.error(n)}return r}}function Vr(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?function(n){return n.pipe(Vr(function(i,s){return nr(t(i,s)).pipe(Lt(function(o,a){return e(i,o,s,a)}))},r))}:(typeof e=="number"&&(r=e),function(n){return n.lift(new rp(t,r))})}var rp=function(){function t(e,r){r===void 0&&(r=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=r}return t.prototype.call=function(e,r){return r.subscribe(new np(e,this.project,this.concurrent))},t}(),np=function(t){G.exports.__extends(e,t);function e(r,n,i){i===void 0&&(i=Number.POSITIVE_INFINITY);var s=t.call(this,r)||this;return s.project=n,s.concurrent=i,s.hasCompleted=!1,s.buffer=[],s.active=0,s.index=0,s}return e.prototype._next=function(r){this.active<this.concurrent?this._tryNext(r):this.buffer.push(r)},e.prototype._tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.active++,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},e}(et),ip=Vr;function Ra(t){return t===void 0&&(t=Number.POSITIVE_INFINITY),Vr(gr,t)}function Rl(){return Ra(1)}function ai(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Rl()(ms.apply(void 0,t))}function Ta(t){return new me(function(e){var r;try{r=t()}catch(i){e.error(i);return}var n=r?nr(r):Pn();return n.subscribe(e)})}function sp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1){var r=t[0];if(_t(r))return Bi(r,null);if(xa(r)&&Object.getPrototypeOf(r)===Object.prototype){var n=Object.keys(r);return Bi(n.map(function(s){return r[s]}),n)}}if(typeof t[t.length-1]=="function"){var i=t.pop();return t=t.length===1&&_t(t[0])?t[0]:t,Bi(t,null).pipe(Lt(function(s){return i.apply(void 0,s)}))}return Bi(t,null)}function Bi(t,e){return new me(function(r){var n=t.length;if(n===0){r.complete();return}for(var i=new Array(n),s=0,o=0,a=function(g){var y=nr(t[g]),T=!1;r.add(y.subscribe({next:function(x){T||(T=!0,o++),i[g]=x},error:function(x){return r.error(x)},complete:function(){s++,(s===n||!T)&&(o===n&&r.next(e?e.reduce(function(x,I,N){return x[I]=i[N],x},{}):i),r.complete())}}))},d=0;d<n;d++)a(d)})}function Tl(t,e,r,n){return _n(r)&&(n=r,r=void 0),n?Tl(t,e,r).pipe(Lt(function(i){return _t(i)?n.apply(void 0,i):n(i)})):new me(function(i){function s(o){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(o)}Ol(t,e,s,i,r)})}function Ol(t,e,r,n,i){var s;if(up(t)){var o=t;t.addEventListener(e,r,i),s=function(){return o.removeEventListener(e,r,i)}}else if(ap(t)){var a=t;t.on(e,r),s=function(){return a.off(e,r)}}else if(op(t)){var d=t;t.addListener(e,r),s=function(){return d.removeListener(e,r)}}else if(t&&t.length)for(var g=0,y=t.length;g<y;g++)Ol(t[g],e,r,n,i);else throw new TypeError("Invalid event target");n.add(s)}function op(t){return t&&typeof t.addListener=="function"&&typeof t.removeListener=="function"}function ap(t){return t&&typeof t.on=="function"&&typeof t.off=="function"}function up(t){return t&&typeof t.addEventListener=="function"&&typeof t.removeEventListener=="function"}function Nl(t,e,r){return r?Nl(t,e).pipe(Lt(function(n){return _t(n)?r.apply(void 0,n):r(n)})):new me(function(n){var i=function(){for(var o=[],a=0;a<arguments.length;a++)o[a]=arguments[a];return n.next(o.length===1?o[0]:o)},s;try{s=t(i)}catch(o){n.error(o);return}if(_n(e))return function(){return e(i,s)}})}function cp(t,e,r,n,i){var s,o;if(arguments.length==1){var a=t;o=a.initialState,e=a.condition,r=a.iterate,s=a.resultSelector||gr,i=a.scheduler}else n===void 0||Et(n)?(o=t,s=gr,i=n):(o=t,s=n);return new me(function(d){var g=o;if(i)return i.schedule(lp,0,{subscriber:d,iterate:r,condition:e,resultSelector:s,state:g});do{if(e){var y=void 0;try{y=e(g)}catch(x){d.error(x);return}if(!y){d.complete();break}}var T=void 0;try{T=s(g)}catch(x){d.error(x);return}if(d.next(T),d.closed)break;try{g=r(g)}catch(x){d.error(x);return}}while(!0)})}function lp(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(s){e.error(s);return}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(s){e.error(s);return}if(!n){e.complete();return}if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(s){e.error(s);return}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function fp(t,e,r){return e===void 0&&(e=wn),r===void 0&&(r=wn),Ta(function(){return t()?e:r})}function xn(t){return!_t(t)&&t-parseFloat(t)+1>=0}function hp(t,e){return t===void 0&&(t=0),e===void 0&&(e=wt),(!xn(t)||t<0)&&(t=0),(!e||typeof e.schedule!="function")&&(e=wt),new me(function(r){return r.add(e.schedule(dp,t,{subscriber:r,counter:0,period:t})),r})}function dp(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function Ll(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return Et(i)?(n=t.pop(),t.length>1&&typeof t[t.length-1]=="number"&&(r=t.pop())):typeof i=="number"&&(r=t.pop()),n===null&&t.length===1&&t[0]instanceof me?t[0]:Ra(r)(yi(t,n))}var Bl=new me(Ht);function pp(){return Bl}function oa(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===0)return wn;var r=t[0],n=t.slice(1);return t.length===1&&_t(r)?oa.apply(void 0,r):new me(function(i){var s=function(){return i.add(oa.apply(void 0,n).subscribe(i))};return nr(r).subscribe({next:function(o){i.next(o)},error:s,complete:s})})}function gp(t,e){return e?new me(function(r){var n=Object.keys(t),i=new Je;return i.add(e.schedule(yp,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}):new me(function(r){for(var n=Object.keys(t),i=0;i<n.length&&!r.closed;i++){var s=n[i];t.hasOwnProperty(s)&&r.next([s,t[s]])}r.complete()})}function yp(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,s=t.obj;if(!n.closed)if(r<e.length){var o=e[r];n.next([o,s[o]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:s}))}else n.complete()}function Pl(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function br(t,e){return function(n){return n.lift(new bp(t,e))}}var bp=function(){function t(e,r){this.predicate=e,this.thisArg=r}return t.prototype.call=function(e,r){return r.subscribe(new vp(e,this.predicate,this.thisArg))},t}(),vp=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.thisArg=i,s.count=0,s}return e.prototype._next=function(r){var n;try{n=this.predicate.call(this.thisArg,r,this.count++)}catch(i){this.destination.error(i);return}n&&this.destination.next(r)},e}(se);function mp(t,e,r){return[br(e,r)(new me(oi(t))),br(Pl(e,r))(new me(oi(t)))]}function Dl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===1)if(_t(t[0]))t=t[0];else return t[0];return yi(t,void 0).lift(new _p)}var _p=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new wp(e))},t}(),wp=function(t){G.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return e.prototype._next=function(r){this.observables.push(r)},e.prototype._complete=function(){var r=this.observables,n=r.length;if(n===0)this.destination.complete();else{for(var i=0;i<n&&!this.hasFirst;i++){var s=r[i],o=tr(this,s,void 0,i);this.subscriptions&&this.subscriptions.push(o),this.add(o)}this.observables=null}},e.prototype.notifyNext=function(r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var s=0;s<this.subscriptions.length;s++)if(s!==i){var o=this.subscriptions[s];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(n)},e}(Zr);function Sp(t,e,r){return t===void 0&&(t=0),new me(function(n){e===void 0&&(e=t,t=0);var i=0,s=t;if(r)return r.schedule(xp,0,{index:i,count:e,start:t,subscriber:n});do{if(i++>=e){n.complete();break}if(n.next(s++),n.closed)break}while(!0)})}function xp(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;if(r>=n){i.complete();return}i.next(e),!i.closed&&(t.index=r+1,t.start=e+1,this.schedule(t))}function Fl(t,e,r){t===void 0&&(t=0);var n=-1;return xn(e)?n=Number(e)<1&&1||Number(e):Et(e)&&(r=e),Et(r)||(r=wt),new me(function(i){var s=xn(t)?t:+t-r.now();return r.schedule(Ep,s,{index:0,period:n,subscriber:i})})}function Ep(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(r===-1)return n.complete();t.index=e+1,this.schedule(t,r)}}function Mp(t,e){return new me(function(r){var n;try{n=t()}catch(a){r.error(a);return}var i;try{i=e(n)}catch(a){r.error(a);return}var s=i?nr(i):wn,o=s.subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function jl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return typeof r=="function"&&t.pop(),yi(t,void 0).lift(new $l(r))}var $l=function(){function t(e){this.resultSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Cp(e,this.resultSelector))},t}(),Cp=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.resultSelector=n,s.iterators=[],s.active=0,s.resultSelector=typeof n=="function"?n:void 0,s}return e.prototype._next=function(r){var n=this.iterators;_t(r)?n.push(new kp(r)):typeof r[yr]=="function"?n.push(new Ip(r[yr]())):n.push(new Ap(this.destination,this,r))},e.prototype._complete=function(){var r=this.iterators,n=r.length;if(this.unsubscribe(),n===0){this.destination.complete();return}this.active=n;for(var i=0;i<n;i++){var s=r[i];if(s.stillUnsubscribed){var o=this.destination;o.add(s.subscribe())}else this.active--}},e.prototype.notifyInactive=function(){this.active--,this.active===0&&this.destination.complete()},e.prototype.checkIterators=function(){for(var r=this.iterators,n=r.length,i=this.destination,s=0;s<n;s++){var o=r[s];if(typeof o.hasValue=="function"&&!o.hasValue())return}for(var a=!1,d=[],s=0;s<n;s++){var o=r[s],g=o.next();if(o.hasCompleted()&&(a=!0),g.done){i.complete();return}d.push(g.value)}this.resultSelector?this._tryresultSelector(d):i.next(d),a&&i.complete()},e.prototype._tryresultSelector=function(r){var n;try{n=this.resultSelector.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(se),Ip=function(){function t(e){this.iterator=e,this.nextResult=e.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},t.prototype.hasCompleted=function(){var e=this.nextResult;return Boolean(e&&e.done)},t}(),kp=function(){function t(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return t.prototype[yr]=function(){return this},t.prototype.next=function(e){var r=this.index++,n=this.array;return r<this.length?{value:n[r],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Ap=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.parent=n,s.observable=i,s.stillUnsubscribed=!0,s.buffer=[],s.isComplete=!1,s}return e.prototype[yr]=function(){return this},e.prototype.next=function(){var r=this.buffer;return r.length===0&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return this.buffer.length===0&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(r){this.buffer.push(r),this.parent.checkIterators()},e.prototype.subscribe=function(){return tt(this.observable,new Xe(this))},e}(et);const Rp=Object.freeze(Object.defineProperty({__proto__:null,Observable:me,ConnectableObservable:pl,GroupedObservable:ra,observable:Bn,Subject:lt,BehaviorSubject:gl,ReplaySubject:ka,AsyncSubject:Dn,asap:qi,asapScheduler:_l,async:wt,asyncScheduler:wl,queue:bl,queueScheduler:yl,animationFrame:Od,animationFrameScheduler:Sl,VirtualTimeScheduler:Nd,VirtualAction:xl,Scheduler:na,Subscription:Je,Subscriber:se,Notification:er,get NotificationKind(){return ia},pipe:ta,noop:Ht,identity:gr,isObservable:Ld,ArgumentOutOfRangeError:Sn,EmptyError:bi,ObjectUnsubscribedError:cr,UnsubscriptionError:Kn,TimeoutError:El,bindCallback:Ml,bindNodeCallback:Cl,combineLatest:Qd,concat:ai,defer:Ta,empty:Pn,forkJoin:sp,from:nr,fromEvent:Tl,fromEventPattern:Nl,generate:cp,iif:fp,interval:hp,merge:Ll,never:pp,of:ms,onErrorResumeNext:oa,pairs:gp,partition:mp,race:Dl,range:Sp,throwError:Ia,timer:Fl,using:Mp,zip:jl,scheduled:Al,EMPTY:wn,NEVER:Bl,config:Rt},Symbol.toStringTag,{value:"Module"})),Fn=hi(Rp);function Ul(t){return function(r){return r.lift(new Tp(t))}}var Tp=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Op(e,this.durationSelector))},t}(),Op=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){if(this.value=r,this.hasValue=!0,!this.throttled){var n=void 0;try{var i=this.durationSelector;n=i(r)}catch(o){return this.destination.error(o)}var s=tt(n,new Xe(this));!s||s.closed?this.clearThrottle():this.add(this.throttled=s)}},e.prototype.clearThrottle=function(){var r=this,n=r.value,i=r.hasValue,s=r.throttled;s&&(this.remove(s),this.throttled=void 0,s.unsubscribe()),i&&(this.value=void 0,this.hasValue=!1,this.destination.next(n))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(et);function Np(t,e){return e===void 0&&(e=wt),Ul(function(){return Fl(t,e)})}function Lp(t){return function(r){return r.lift(new Bp(t))}}var Bp=function(){function t(e){this.closingNotifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Pp(e,this.closingNotifier))},t}(),Pp=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.buffer=[],i.add(tt(n,new Xe(i))),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype.notifyNext=function(){var r=this.buffer;this.buffer=[],this.destination.next(r)},e}(et);function Dp(t,e){return e===void 0&&(e=null),function(n){return n.lift(new Fp(t,e))}}var Fp=function(){function t(e,r){this.bufferSize=e,this.startBufferEvery=r,!r||e===r?this.subscriberClass=jp:this.subscriberClass=$p}return t.prototype.call=function(e,r){return r.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},t}(),jp=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.bufferSize=n,i.buffer=[],i}return e.prototype._next=function(r){var n=this.buffer;n.push(r),n.length==this.bufferSize&&(this.destination.next(n),this.buffer=[])},e.prototype._complete=function(){var r=this.buffer;r.length>0&&this.destination.next(r),t.prototype._complete.call(this)},e}(se),$p=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.bufferSize=n,s.startBufferEvery=i,s.buffers=[],s.count=0,s}return e.prototype._next=function(r){var n=this,i=n.bufferSize,s=n.startBufferEvery,o=n.buffers,a=n.count;this.count++,a%s===0&&o.push([]);for(var d=o.length;d--;){var g=o[d];g.push(r),g.length===i&&(o.splice(d,1),this.destination.next(g))}},e.prototype._complete=function(){for(var r=this,n=r.buffers,i=r.destination;n.length>0;){var s=n.shift();s.length>0&&i.next(s)}t.prototype._complete.call(this)},e}(se);function Up(t){var e=arguments.length,r=wt;Et(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(o){return o.lift(new Wp(t,n,i,r))}}var Wp=function(){function t(e,r,n,i){this.bufferTimeSpan=e,this.bufferCreationInterval=r,this.maxBufferSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new zp(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Hp=function(){function t(){this.buffer=[]}return t}(),zp=function(t){G.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.bufferTimeSpan=n,a.bufferCreationInterval=i,a.maxBufferSize=s,a.scheduler=o,a.contexts=[];var d=a.openContext();if(a.timespanOnly=i==null||i<0,a.timespanOnly){var g={subscriber:a,context:d,bufferTimeSpan:n};a.add(d.closeAction=o.schedule(Eu,n,g))}else{var y={subscriber:a,context:d},T={bufferTimeSpan:n,bufferCreationInterval:i,subscriber:a,scheduler:o};a.add(d.closeAction=o.schedule(Wl,n,y)),a.add(o.schedule(Vp,i,T))}return a}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s,o=0;o<i;o++){var a=n[o],d=a.buffer;d.push(r),d.length==this.maxBufferSize&&(s=a)}s&&this.onBufferFull(s)},e.prototype._error=function(r){this.contexts.length=0,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this,n=r.contexts,i=r.destination;n.length>0;){var s=n.shift();i.next(s.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(r){this.closeContext(r);var n=r.closeAction;if(n.unsubscribe(),this.remove(n),!this.closed&&this.timespanOnly){r=this.openContext();var i=this.bufferTimeSpan,s={subscriber:this,context:r,bufferTimeSpan:i};this.add(r.closeAction=this.scheduler.schedule(Eu,i,s))}},e.prototype.openContext=function(){var r=new Hp;return this.contexts.push(r),r},e.prototype.closeContext=function(r){this.destination.next(r.buffer);var n=this.contexts,i=n?n.indexOf(r):-1;i>=0&&n.splice(n.indexOf(r),1)},e}(se);function Eu(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function Vp(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,s=n.openContext(),o=this;n.closed||(n.add(s.closeAction=i.schedule(Wl,r,{subscriber:n,context:s})),o.schedule(t,e))}function Wl(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function qp(t,e){return function(n){return n.lift(new Gp(t,e))}}var Gp=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Zp(e,this.openings,this.closingSelector))},t}(),Zp=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.closingSelector=i,s.contexts=[],s.add(tr(s,n)),s}return e.prototype._next=function(r){for(var n=this.contexts,i=n.length,s=0;s<i;s++)n[s].buffer.push(r)},e.prototype._error=function(r){for(var n=this.contexts;n.length>0;){var i=n.shift();i.subscription.unsubscribe(),i.buffer=null,i.subscription=null}this.contexts=null,t.prototype._error.call(this,r)},e.prototype._complete=function(){for(var r=this.contexts;r.length>0;){var n=r.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(r,n){r?this.closeBuffer(r):this.openBuffer(n)},e.prototype.notifyComplete=function(r){this.closeBuffer(r.context)},e.prototype.openBuffer=function(r){try{var n=this.closingSelector,i=n.call(this,r);i&&this.trySubscribe(i)}catch(s){this._error(s)}},e.prototype.closeBuffer=function(r){var n=this.contexts;if(n&&r){var i=r.buffer,s=r.subscription;this.destination.next(i),n.splice(n.indexOf(r),1),this.remove(s),s.unsubscribe()}},e.prototype.trySubscribe=function(r){var n=this.contexts,i=[],s=new Je,o={buffer:i,subscription:s};n.push(o);var a=tr(this,r,o);!a||a.closed?this.closeBuffer(o):(a.context=o,this.add(a),s.add(a))},e}(Zr);function Qp(t){return function(e){return e.lift(new Kp(t))}}var Kp=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Yp(e,this.closingSelector))},t}(),Yp=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.closingSelector=n,i.subscribing=!1,i.openBuffer(),i}return e.prototype._next=function(r){this.buffer.push(r)},e.prototype._complete=function(){var r=this.buffer;r&&this.destination.next(r),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var r=this.closingSubscription;r&&(this.remove(r),r.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];var i;try{var s=this.closingSelector;i=s()}catch(o){return this.error(o)}r=new Je,this.closingSubscription=r,this.add(r),this.subscribing=!0,r.add(tt(i,new Xe(this))),this.subscribing=!1},e}(et);function Jp(t){return function(r){var n=new Xp(t),i=r.lift(n);return n.caught=i}}var Xp=function(){function t(e){this.selector=e}return t.prototype.call=function(e,r){return r.subscribe(new e0(e,this.selector,this.caught))},t}(),e0=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.selector=n,s.caught=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=void 0;try{n=this.selector(r,this.caught)}catch(o){t.prototype.error.call(this,o);return}this._unsubscribeAndRecycle();var i=new Xe(this);this.add(i);var s=tt(n,i);s!==i&&this.add(s)}},e}(et);function t0(t){return function(e){return e.lift(new Aa(t))}}function r0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return typeof t[t.length-1]=="function"&&(r=t.pop()),t.length===1&&_t(t[0])&&(t=t[0].slice()),function(n){return n.lift.call(nr([n].concat(t)),new Aa(r))}}function n0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(ai.apply(void 0,[r].concat(t)))}}function Hl(t,e){return Vr(t,e,1)}function i0(t,e){return Hl(function(){return t},e)}function s0(t){return function(e){return e.lift(new o0(t,e))}}var o0=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new a0(e,this.predicate,this.source))},t}(),a0=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.count=0,s.index=0,s}return e.prototype._next=function(r){this.predicate?this._tryPredicate(r):this.count++},e.prototype._tryPredicate=function(r){var n;try{n=this.predicate(r,this.index++,this.source)}catch(i){this.destination.error(i);return}n&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(se);function u0(t){return function(e){return e.lift(new c0(t))}}var c0=function(){function t(e){this.durationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new l0(e,this.durationSelector))},t}(),l0=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.durationSelector=n,i.hasValue=!1,i}return e.prototype._next=function(r){try{var n=this.durationSelector.call(this,r);n&&this._tryNext(r,n)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(r,n){var i=this.durationSubscription;this.value=r,this.hasValue=!0,i&&(i.unsubscribe(),this.remove(i)),i=tt(n,new Xe(this)),i&&!i.closed&&this.add(this.durationSubscription=i)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var r=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,r)}},e}(et);function f0(t,e){return e===void 0&&(e=wt),function(r){return r.lift(new h0(t,e))}}var h0=function(){function t(e,r){this.dueTime=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new d0(e,this.dueTime,this.scheduler))},t}(),d0=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.dueTime=n,s.scheduler=i,s.debouncedSubscription=null,s.lastValue=null,s.hasValue=!1,s}return e.prototype._next=function(r){this.clearDebounce(),this.lastValue=r,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(p0,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var r=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(r)}},e.prototype.clearDebounce=function(){var r=this.debouncedSubscription;r!==null&&(this.remove(r),r.unsubscribe(),this.debouncedSubscription=null)},e}(se);function p0(t){t.debouncedNext()}function vi(t){return t===void 0&&(t=null),function(e){return e.lift(new g0(t))}}var g0=function(){function t(e){this.defaultValue=e}return t.prototype.call=function(e,r){return r.subscribe(new y0(e,this.defaultValue))},t}(),y0=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.defaultValue=n,i.isEmpty=!0,i}return e.prototype._next=function(r){this.isEmpty=!1,this.destination.next(r)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(se);function zl(t){return t instanceof Date&&!isNaN(+t)}function b0(t,e){e===void 0&&(e=wt);var r=zl(t),n=r?+t-e.now():Math.abs(t);return function(i){return i.lift(new v0(n,e))}}var v0=function(){function t(e,r){this.delay=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new m0(e,this.delay,this.scheduler))},t}(),m0=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.delay=n,s.scheduler=i,s.queue=[],s.active=!1,s.errored=!1,s}return e.dispatch=function(r){for(var n=r.source,i=n.queue,s=r.scheduler,o=r.destination;i.length>0&&i[0].time-s.now()<=0;)i.shift().notification.observe(o);if(i.length>0){var a=Math.max(0,i[0].time-s.now());this.schedule(r,a)}else this.unsubscribe(),n.active=!1},e.prototype._schedule=function(r){this.active=!0;var n=this.destination;n.add(r.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:r}))},e.prototype.scheduleNotification=function(r){if(this.errored!==!0){var n=this.scheduler,i=new _0(n.now()+this.delay,r);this.queue.push(i),this.active===!1&&this._schedule(n)}},e.prototype._next=function(r){this.scheduleNotification(er.createNext(r))},e.prototype._error=function(r){this.errored=!0,this.queue=[],this.destination.error(r),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(er.createComplete()),this.unsubscribe()},e}(se),_0=function(){function t(e,r){this.time=e,this.notification=r}return t}();function w0(t,e){return e?function(r){return new x0(r,e).lift(new Mu(t))}:function(r){return r.lift(new Mu(t))}}var Mu=function(){function t(e){this.delayDurationSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new S0(e,this.delayDurationSelector))},t}(),S0=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.delayDurationSelector=n,i.completed=!1,i.delayNotifierSubscriptions=[],i.index=0,i}return e.prototype.notifyNext=function(r,n,i,s,o){this.destination.next(r),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(r,n){this._error(r)},e.prototype.notifyComplete=function(r){var n=this.removeSubscription(r);n&&this.destination.next(n),this.tryComplete()},e.prototype._next=function(r){var n=this.index++;try{var i=this.delayDurationSelector(r,n);i&&this.tryDelay(i,r)}catch(s){this.destination.error(s)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(r){r.unsubscribe();var n=this.delayNotifierSubscriptions.indexOf(r);return n!==-1&&this.delayNotifierSubscriptions.splice(n,1),r.outerValue},e.prototype.tryDelay=function(r,n){var i=tr(this,r,n);if(i&&!i.closed){var s=this.destination;s.add(i),this.delayNotifierSubscriptions.push(i)}},e.prototype.tryComplete=function(){this.completed&&this.delayNotifierSubscriptions.length===0&&this.destination.complete()},e}(Zr),x0=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.source=r,i.subscriptionDelay=n,i}return e.prototype._subscribe=function(r){this.subscriptionDelay.subscribe(new E0(r,this.source))},e}(me),E0=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this)||this;return i.parent=r,i.source=n,i.sourceSubscribed=!1,i}return e.prototype._next=function(r){this.subscribeToSource()},e.prototype._error=function(r){this.unsubscribe(),this.parent.error(r)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(se);function M0(){return function(e){return e.lift(new C0)}}var C0=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new I0(e))},t}(),I0=function(t){G.exports.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){r.observe(this.destination)},e}(se);function k0(t,e){return function(r){return r.lift(new A0(t,e))}}var A0=function(){function t(e,r){this.keySelector=e,this.flushes=r}return t.prototype.call=function(e,r){return r.subscribe(new R0(e,this.keySelector,this.flushes))},t}(),R0=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=n,s.values=new Set,i&&s.add(tt(i,new Xe(s))),s}return e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(r){this._error(r)},e.prototype._next=function(r){this.keySelector?this._useKeySelector(r):this._finalizeNext(r,r)},e.prototype._useKeySelector=function(r){var n,i=this.destination;try{n=this.keySelector(r)}catch(s){i.error(s);return}this._finalizeNext(n,r)},e.prototype._finalizeNext=function(r,n){var i=this.values;i.has(r)||(i.add(r),this.destination.next(n))},e}(et);function Vl(t,e){return function(r){return r.lift(new T0(t,e))}}var T0=function(){function t(e,r){this.compare=e,this.keySelector=r}return t.prototype.call=function(e,r){return r.subscribe(new O0(e,this.compare,this.keySelector))},t}(),O0=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.keySelector=i,s.hasKey=!1,typeof n=="function"&&(s.compare=n),s}return e.prototype.compare=function(r,n){return r===n},e.prototype._next=function(r){var n;try{var i=this.keySelector;n=i?i(r):r}catch(a){return this.destination.error(a)}var s=!1;if(this.hasKey)try{var o=this.compare;s=o(this.key,n)}catch(a){return this.destination.error(a)}else this.hasKey=!0;s||(this.key=n,this.destination.next(r))},e}(se);function N0(t,e){return Vl(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function _s(t){return t===void 0&&(t=P0),function(e){return e.lift(new L0(t))}}var L0=function(){function t(e){this.errorFactory=e}return t.prototype.call=function(e,r){return r.subscribe(new B0(e,this.errorFactory))},t}(),B0=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.errorFactory=n,i.hasValue=!1,i}return e.prototype._next=function(r){this.hasValue=!0,this.destination.next(r)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var r=void 0;try{r=this.errorFactory()}catch(n){r=n}this.destination.error(r)},e}(se);function P0(){return new bi}function Oa(t){return function(e){return t===0?Pn():e.lift(new D0(t))}}var D0=function(){function t(e){if(this.total=e,this.total<0)throw new Sn}return t.prototype.call=function(e,r){return r.subscribe(new F0(e,this.total))},t}(),F0=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){var n=this.total,i=++this.count;i<=n&&(this.destination.next(r),i===n&&(this.destination.complete(),this.unsubscribe()))},e}(se);function j0(t,e){if(t<0)throw new Sn;var r=arguments.length>=2;return function(n){return n.pipe(br(function(i,s){return s===t}),Oa(1),r?vi(e):_s(function(){return new Sn}))}}function $0(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return ai(r,ms.apply(void 0,t))}}function U0(t,e){return function(r){return r.lift(new W0(t,e,r))}}var W0=function(){function t(e,r,n){this.predicate=e,this.thisArg=r,this.source=n}return t.prototype.call=function(e,r){return r.subscribe(new H0(e,this.predicate,this.thisArg,this.source))},t}(),H0=function(t){G.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.predicate=n,o.thisArg=i,o.source=s,o.index=0,o.thisArg=i||o,o}return e.prototype.notifyComplete=function(r){this.destination.next(r),this.destination.complete()},e.prototype._next=function(r){var n=!1;try{n=this.predicate.call(this.thisArg,r,this.index++,this.source)}catch(i){this.destination.error(i);return}n||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(se);function z0(){return function(t){return t.lift(new V0)}}var V0=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new q0(e))},t}(),q0=function(t){G.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return e.prototype._next=function(r){this.hasSubscription||(this.hasSubscription=!0,this.add(tt(r,new Xe(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(et);function ql(t,e){return e?function(r){return r.pipe(ql(function(n,i){return nr(t(n,i)).pipe(Lt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new G0(t))}}var G0=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new Z0(e,this.project))},t}(),Z0=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.hasSubscription=!1,i.hasCompleted=!1,i.index=0,i}return e.prototype._next=function(r){this.hasSubscription||this.tryNext(r)},e.prototype.tryNext=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this.hasSubscription=!0,this._innerSub(n)},e.prototype._innerSub=function(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this.destination.next(r)},e.prototype.notifyError=function(r){this.destination.error(r)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(et);function Q0(t,e,r){return e===void 0&&(e=Number.POSITIVE_INFINITY),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new K0(t,e,r))}}var K0=function(){function t(e,r,n){this.project=e,this.concurrent=r,this.scheduler=n}return t.prototype.call=function(e,r){return r.subscribe(new Y0(e,this.project,this.concurrent,this.scheduler))},t}(),Y0=function(t){G.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.project=n,o.concurrent=i,o.scheduler=s,o.index=0,o.active=0,o.hasCompleted=!1,i<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return e.dispatch=function(r){var n=r.subscriber,i=r.result,s=r.value,o=r.index;n.subscribeToProjection(i,s,o)},e.prototype._next=function(r){var n=this.destination;if(n.closed){this._complete();return}var i=this.index++;if(this.active<this.concurrent){n.next(r);try{var s=this.project,o=s(r,i);if(!this.scheduler)this.subscribeToProjection(o,r,i);else{var a={subscriber:this,result:o,value:r,index:i},d=this.destination;d.add(this.scheduler.schedule(e.dispatch,0,a))}}catch(g){n.error(g)}}else this.buffer.push(r)},e.prototype.subscribeToProjection=function(r,n,i){this.active++;var s=this.destination;s.add(tt(r,new Xe(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&this.active===0&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(r){this._next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r&&r.length>0&&this._next(r.shift()),this.hasCompleted&&this.active===0&&this.destination.complete()},e}(et);function J0(t){return function(e){return e.lift(new X0(t))}}var X0=function(){function t(e){this.callback=e}return t.prototype.call=function(e,r){return r.subscribe(new eg(e,this.callback))},t}(),eg=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.add(new Je(n)),i}return e}(se);function tg(t,e){if(typeof t!="function")throw new TypeError("predicate is not a function");return function(r){return r.lift(new Gl(t,r,!1,e))}}var Gl=function(){function t(e,r,n,i){this.predicate=e,this.source=r,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(e,r){return r.subscribe(new rg(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),rg=function(t){G.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.predicate=n,a.source=i,a.yieldIndex=s,a.thisArg=o,a.index=0,a}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete(),this.unsubscribe()},e.prototype._next=function(r){var n=this,i=n.predicate,s=n.thisArg,o=this.index++;try{var a=i.call(s||this,r,o,this.source);a&&this.notifyComplete(this.yieldIndex?o:r)}catch(d){this.destination.error(d)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(se);function ng(t,e){return function(r){return r.lift(new Gl(t,r,!0,e))}}function ig(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?br(function(i,s){return t(i,s,n)}):gr,Oa(1),r?vi(e):_s(function(){return new bi}))}}function sg(){return function(e){return e.lift(new og)}}var og=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new ag(e))},t}(),ag=function(t){G.exports.__extends(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype._next=function(r){},e}(se);function ug(){return function(t){return t.lift(new cg)}}var cg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new lg(e))},t}(),lg=function(t){G.exports.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype.notifyComplete=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype._next=function(r){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(se);function es(t){return function(r){return t===0?Pn():r.lift(new fg(t))}}var fg=function(){function t(e){if(this.total=e,this.total<0)throw new Sn}return t.prototype.call=function(e,r){return r.subscribe(new hg(e,this.total))},t}(),hg=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.ring=new Array,i.count=0,i}return e.prototype._next=function(r){var n=this.ring,i=this.total,s=this.count++;if(n.length<i)n.push(r);else{var o=s%i;n[o]=r}},e.prototype._complete=function(){var r=this.destination,n=this.count;if(n>0)for(var i=this.count>=this.total?this.total:this.count,s=this.ring,o=0;o<i;o++){var a=n++%i;r.next(s[a])}r.complete()},e}(se);function dg(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?br(function(i,s){return t(i,s,n)}):gr,es(1),r?vi(e):_s(function(){return new bi}))}}function pg(t){return function(e){return e.lift(new gg(t))}}var gg=function(){function t(e){this.value=e}return t.prototype.call=function(e,r){return r.subscribe(new yg(e,this.value))},t}(),yg=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.value=n,i}return e.prototype._next=function(r){this.destination.next(this.value)},e}(se);function bg(){return function(e){return e.lift(new vg)}}var vg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new mg(e))},t}(),mg=function(t){G.exports.__extends(e,t);function e(r){return t.call(this,r)||this}return e.prototype._next=function(r){this.destination.next(er.createNext(r))},e.prototype._error=function(r){var n=this.destination;n.next(er.createError(r)),n.complete()},e.prototype._complete=function(){var r=this.destination;r.next(er.createComplete()),r.complete()},e}(se);function ts(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(i){return i.lift(new _g(t,e,r))}}var _g=function(){function t(e,r,n){n===void 0&&(n=!1),this.accumulator=e,this.seed=r,this.hasSeed=n}return t.prototype.call=function(e,r){return r.subscribe(new wg(e,this.accumulator,this.seed,this.hasSeed))},t}(),wg=function(t){G.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o._seed=i,o.hasSeed=s,o.index=0,o}return Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(r){this.hasSeed=!0,this._seed=r},enumerable:!0,configurable:!0}),e.prototype._next=function(r){if(!this.hasSeed)this.seed=r,this.destination.next(r);else return this._tryNext(r)},e.prototype._tryNext=function(r){var n=this.index++,i;try{i=this.accumulator(this.seed,r,n)}catch(s){this.destination.error(s)}this.seed=i,this.destination.next(i)},e}(se);function ws(t,e){return arguments.length>=2?function(n){return ta(ts(t,e),es(1),vi(e))(n)}:function(n){return ta(ts(function(i,s,o){return t(i,s,o+1)}),es(1))(n)}}function Sg(t){var e=typeof t=="function"?function(r,n){return t(r,n)>0?r:n}:function(r,n){return r>n?r:n};return ws(e)}function xg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){return r.lift.call(Ll.apply(void 0,[r].concat(t)))}}function Eg(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),typeof e=="function"?Vr(function(){return t},e,r):(typeof e=="number"&&(r=e),Vr(function(){return t},r))}function Mg(t,e,r){return r===void 0&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new Cg(t,e,r))}}var Cg=function(){function t(e,r,n){this.accumulator=e,this.seed=r,this.concurrent=n}return t.prototype.call=function(e,r){return r.subscribe(new Ig(e,this.accumulator,this.seed,this.concurrent))},t}(),Ig=function(t){G.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.accumulator=n,o.acc=i,o.concurrent=s,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return e.prototype._next=function(r){if(this.active<this.concurrent){var n=this.index++,i=this.destination,s=void 0;try{var o=this.accumulator;s=o(this.acc,r,n)}catch(a){return i.error(a)}this.active++,this._innerSub(s)}else this.buffer.push(r)},e.prototype._innerSub=function(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(r){var n=this.destination;this.acc=r,this.hasValue=!0,n.next(r)},e.prototype.notifyComplete=function(){var r=this.buffer;this.active--,r.length>0?this._next(r.shift()):this.active===0&&this.hasCompleted&&(this.hasValue===!1&&this.destination.next(this.acc),this.destination.complete())},e}(et);function kg(t){var e=typeof t=="function"?function(r,n){return t(r,n)<0?r:n}:function(r,n){return r<n?r:n};return ws(e)}function qr(t,e){return function(n){var i;if(typeof t=="function"?i=t:i=function(){return t},typeof e=="function")return n.lift(new Ag(i,e));var s=Object.create(n,ld);return s.source=n,s.subjectFactory=i,s}}var Ag=function(){function t(e,r){this.subjectFactory=e,this.selector=r}return t.prototype.call=function(e,r){var n=this.selector,i=this.subjectFactory(),s=n(i).subscribe(e);return s.add(r.subscribe(i)),s},t}();function Rg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length===1&&_t(t[0])&&(t=t[0]),function(r){return r.lift(new Tg(t))}}var Tg=function(){function t(e){this.nextSources=e}return t.prototype.call=function(e,r){return r.subscribe(new Og(e,this.nextSources))},t}(),Og=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.nextSources=n,i}return e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(r){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var r=this.nextSources.shift();if(r){var n=new Xe(this),i=this.destination;i.add(n);var s=tt(r,n);s!==n&&i.add(s)}else this.destination.complete()},e}(et);function Ng(){return function(t){return t.lift(new Lg)}}var Lg=function(){function t(){}return t.prototype.call=function(e,r){return r.subscribe(new Bg(e))},t}(),Bg=function(t){G.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.hasPrev=!1,n}return e.prototype._next=function(r){var n;this.hasPrev?n=[this.prev,r]:this.hasPrev=!0,this.prev=r,n&&this.destination.next(n)},e}(se);function Pg(t,e){return function(r){return[br(t,e)(r),br(Pl(t,e))(r)]}}function Dg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(r===0)throw new Error("list of properties cannot be empty.");return function(n){return Lt(Fg(t,r))(n)}}function Fg(t,e){var r=function(n){for(var i=n,s=0;s<e;s++){var o=i!=null?i[t[s]]:void 0;if(o!==void 0)i=o;else return}return i};return r}function jg(t){return t?qr(function(){return new lt},t):qr(new lt)}function $g(t){return function(e){return qr(new gl(t))(e)}}function Ug(){return function(t){return qr(new Dn)(t)}}function Wg(t,e,r,n){r&&typeof r!="function"&&(n=r);var i=typeof r=="function"?r:void 0,s=new ka(t,e,n);return function(o){return qr(function(){return s},i)(o)}}function Hg(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return t.length===1&&_t(t[0])&&(t=t[0]),n.lift.call(Dl.apply(void 0,[n].concat(t)))}}function zg(t){return t===void 0&&(t=-1),function(e){return t===0?Pn():t<0?e.lift(new Cu(-1,e)):e.lift(new Cu(t-1,e))}}var Cu=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Vg(e,this.count,this.source))},t}(),Vg=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.complete=function(){if(!this.isStopped){var r=this,n=r.source,i=r.count;if(i===0)return t.prototype.complete.call(this);i>-1&&(this.count=i-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(se);function qg(t){return function(e){return e.lift(new Gg(t))}}var Gg=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Zg(e,this.notifier,r))},t}(),Zg=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s.sourceIsBeingSubscribedTo=!0,s}return e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(this.sourceIsBeingSubscribedTo===!1)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var r=this,n=r.notifications,i=r.retriesSubscription;n&&(n.unsubscribe(),this.notifications=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var r=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=r,this},e.prototype.subscribeToRetries=function(){this.notifications=new lt;var r;try{var n=this.notifier;r=n(this.notifications)}catch{return t.prototype.complete.call(this)}this.retries=r,this.retriesSubscription=tt(r,new Xe(this))},e}(et);function Qg(t){return t===void 0&&(t=-1),function(e){return e.lift(new Kg(t,e))}}var Kg=function(){function t(e,r){this.count=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new Yg(e,this.count,this.source))},t}(),Yg=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.count=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this,i=n.source,s=n.count;if(s===0)return t.prototype.error.call(this,r);s>-1&&(this.count=s-1),i.subscribe(this._unsubscribeAndRecycle())}},e}(se);function Jg(t){return function(e){return e.lift(new Xg(t,e))}}var Xg=function(){function t(e,r){this.notifier=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new ey(e,this.notifier,this.source))},t}(),ey=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.notifier=n,s.source=i,s}return e.prototype.error=function(r){if(!this.isStopped){var n=this.errors,i=this.retries,s=this.retriesSubscription;if(i)this.errors=void 0,this.retriesSubscription=void 0;else{n=new lt;try{var o=this.notifier;i=o(n)}catch(a){return t.prototype.error.call(this,a)}s=tt(i,new Xe(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=i,this.retriesSubscription=s,n.next(r)}},e.prototype._unsubscribe=function(){var r=this,n=r.errors,i=r.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),i&&(i.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var r=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=r,this.source.subscribe(this)},e}(et);function ty(t){return function(e){return e.lift(new ry(t))}}var ry=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new ny(e),i=r.subscribe(n);return i.add(tt(this.notifier,new Xe(n))),i},t}(),ny=function(t){G.exports.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasValue=!1,r}return e.prototype._next=function(r){this.value=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(et);function iy(t,e){return e===void 0&&(e=wt),function(r){return r.lift(new sy(t,e))}}var sy=function(){function t(e,r){this.period=e,this.scheduler=r}return t.prototype.call=function(e,r){return r.subscribe(new oy(e,this.period,this.scheduler))},t}(),oy=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.period=n,s.scheduler=i,s.hasValue=!1,s.add(i.schedule(ay,n,{subscriber:s,period:n})),s}return e.prototype._next=function(r){this.lastValue=r,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(se);function ay(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function uy(t,e){return function(r){return r.lift(new cy(t,e))}}var cy=function(){function t(e,r){this.compareTo=e,this.comparator=r}return t.prototype.call=function(e,r){return r.subscribe(new ly(e,this.compareTo,this.comparator))},t}(),ly=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.compareTo=n,s.comparator=i,s._a=[],s._b=[],s._oneComplete=!1,s.destination.add(n.subscribe(new fy(r,s))),s}return e.prototype._next=function(r){this._oneComplete&&this._b.length===0?this.emit(!1):(this._a.push(r),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var r=this,n=r._a,i=r._b,s=r.comparator;n.length>0&&i.length>0;){var o=n.shift(),a=i.shift(),d=!1;try{d=s?s(o,a):o===a}catch(g){this.destination.error(g)}d||this.emit(!1)}},e.prototype.emit=function(r){var n=this.destination;n.next(r),n.complete()},e.prototype.nextB=function(r){this._oneComplete&&this._a.length===0?this.emit(!1):(this._b.push(r),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(this._a.length===0&&this._b.length===0):this._oneComplete=!0},e}(se),fy=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.parent=n,i}return e.prototype._next=function(r){this.parent.nextB(r)},e.prototype._error=function(r){this.parent.error(r),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(se);function hy(){return new lt}function dy(){return function(t){return Ma()(qr(hy)(t))}}function py(t,e,r){var n;return t&&typeof t=="object"?n=t:n={bufferSize:t,windowTime:e,refCount:!1,scheduler:r},function(i){return i.lift(gy(n))}}function gy(t){var e=t.bufferSize,r=e===void 0?Number.POSITIVE_INFINITY:e,n=t.windowTime,i=n===void 0?Number.POSITIVE_INFINITY:n,s=t.refCount,o=t.scheduler,a,d=0,g,y=!1,T=!1;return function(I){d++;var N;!a||y?(y=!1,a=new ka(r,i,o),N=a.subscribe(this),g=I.subscribe({next:function($){a.next($)},error:function($){y=!0,a.error($)},complete:function(){T=!0,g=void 0,a.complete()}}),T&&(g=void 0)):N=a.subscribe(this),this.add(function(){d--,N.unsubscribe(),N=void 0,g&&!T&&s&&d===0&&(g.unsubscribe(),g=void 0,a=void 0)})}}function yy(t){return function(e){return e.lift(new by(t,e))}}var by=function(){function t(e,r){this.predicate=e,this.source=r}return t.prototype.call=function(e,r){return r.subscribe(new vy(e,this.predicate,this.source))},t}(),vy=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.source=i,s.seenValue=!1,s.index=0,s}return e.prototype.applySingleValue=function(r){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=r)},e.prototype._next=function(r){var n=this.index++;this.predicate?this.tryNext(r,n):this.applySingleValue(r)},e.prototype.tryNext=function(r,n){try{this.predicate(r,n,this.source)&&this.applySingleValue(r)}catch(i){this.destination.error(i)}},e.prototype._complete=function(){var r=this.destination;this.index>0?(r.next(this.seenValue?this.singleValue:void 0),r.complete()):r.error(new bi)},e}(se);function my(t){return function(e){return e.lift(new _y(t))}}var _y=function(){function t(e){this.total=e}return t.prototype.call=function(e,r){return r.subscribe(new wy(e,this.total))},t}(),wy=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.total=n,i.count=0,i}return e.prototype._next=function(r){++this.count>this.total&&this.destination.next(r)},e}(se);function Sy(t){return function(e){return e.lift(new xy(t))}}var xy=function(){function t(e){if(this._skipCount=e,this._skipCount<0)throw new Sn}return t.prototype.call=function(e,r){return this._skipCount===0?r.subscribe(new se(e)):r.subscribe(new Ey(e,this._skipCount))},t}(),Ey=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i._skipCount=n,i._count=0,i._ring=new Array(n),i}return e.prototype._next=function(r){var n=this._skipCount,i=this._count++;if(i<n)this._ring[i]=r;else{var s=i%n,o=this._ring,a=o[s];o[s]=r,this.destination.next(a)}},e}(se);function My(t){return function(e){return e.lift(new Cy(t))}}var Cy=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){return r.subscribe(new Iy(e,this.notifier))},t}(),Iy=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;i.hasValue=!1;var s=new Xe(i);i.add(s),i.innerSubscription=s;var o=tt(n,s);return o!==s&&(i.add(o),i.innerSubscription=o),i}return e.prototype._next=function(r){this.hasValue&&t.prototype._next.call(this,r)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(et);function ky(t){return function(e){return e.lift(new Ay(t))}}var Ay=function(){function t(e){this.predicate=e}return t.prototype.call=function(e,r){return r.subscribe(new Ry(e,this.predicate))},t}(),Ry=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.predicate=n,i.skipping=!0,i.index=0,i}return e.prototype._next=function(r){var n=this.destination;this.skipping&&this.tryCallPredicate(r),this.skipping||n.next(r)},e.prototype.tryCallPredicate=function(r){try{var n=this.predicate(r,this.index++);this.skipping=Boolean(n)}catch(i){this.destination.error(i)}},e}(se);function Ty(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return Et(r)?(t.pop(),function(n){return ai(t,n,r)}):function(n){return ai(t,n)}}var Oy=function(t){G.exports.__extends(e,t);function e(r,n,i){n===void 0&&(n=0),i===void 0&&(i=qi);var s=t.call(this)||this;return s.source=r,s.delayTime=n,s.scheduler=i,(!xn(n)||n<0)&&(s.delayTime=0),(!i||typeof i.schedule!="function")&&(s.scheduler=qi),s}return e.create=function(r,n,i){return n===void 0&&(n=0),i===void 0&&(i=qi),new e(r,n,i)},e.dispatch=function(r){var n=r.source,i=r.subscriber;return this.add(n.subscribe(i))},e.prototype._subscribe=function(r){var n=this.delayTime,i=this.source,s=this.scheduler;return s.schedule(e.dispatch,n,{source:i,subscriber:r})},e}(me);function Ny(t,e){return e===void 0&&(e=0),function(n){return n.lift(new Ly(t,e))}}var Ly=function(){function t(e,r){this.scheduler=e,this.delay=r}return t.prototype.call=function(e,r){return new Oy(r,this.delay,this.scheduler).subscribe(e)},t}();function ui(t,e){return typeof e=="function"?function(r){return r.pipe(ui(function(n,i){return nr(t(n,i)).pipe(Lt(function(s,o){return e(n,s,i,o)}))}))}:function(r){return r.lift(new By(t))}}var By=function(){function t(e){this.project=e}return t.prototype.call=function(e,r){return r.subscribe(new Py(e,this.project))},t}(),Py=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.project=n,i.index=0,i}return e.prototype._next=function(r){var n,i=this.index++;try{n=this.project(r,i)}catch(s){this.destination.error(s);return}this._innerSub(n)},e.prototype._innerSub=function(r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new Xe(this),s=this.destination;s.add(i),this.innerSubscription=tt(r,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var r=this.innerSubscription;(!r||r.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(r){this.destination.next(r)},e}(et);function Dy(){return ui(gr)}function Fy(t,e){return e?ui(function(){return t},e):ui(function(){return t})}function jy(t){return function(e){return e.lift(new $y(t))}}var $y=function(){function t(e){this.notifier=e}return t.prototype.call=function(e,r){var n=new Uy(e),i=tt(this.notifier,new Xe(n));return i&&!n.seenValue?(n.add(i),r.subscribe(n)):n},t}(),Uy=function(t){G.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.seenValue=!1,n}return e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(et);function Wy(t,e){return e===void 0&&(e=!1),function(r){return r.lift(new Hy(t,e))}}var Hy=function(){function t(e,r){this.predicate=e,this.inclusive=r}return t.prototype.call=function(e,r){return r.subscribe(new zy(e,this.predicate,this.inclusive))},t}(),zy=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.predicate=n,s.inclusive=i,s.index=0,s}return e.prototype._next=function(r){var n=this.destination,i;try{i=this.predicate(r,this.index++)}catch(s){n.error(s);return}this.nextOrComplete(r,i)},e.prototype.nextOrComplete=function(r,n){var i=this.destination;Boolean(n)?i.next(r):(this.inclusive&&i.next(r),i.complete())},e}(se);function Vy(t,e,r){return function(i){return i.lift(new qy(t,e,r))}}var qy=function(){function t(e,r,n){this.nextOrObserver=e,this.error=r,this.complete=n}return t.prototype.call=function(e,r){return r.subscribe(new Gy(e,this.nextOrObserver,this.error,this.complete))},t}(),Gy=function(t){G.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o._tapNext=Ht,o._tapError=Ht,o._tapComplete=Ht,o._tapError=i||Ht,o._tapComplete=s||Ht,_n(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||Ht,o._tapError=n.error||Ht,o._tapComplete=n.complete||Ht),o}return e.prototype._next=function(r){try{this._tapNext.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.next(r)},e.prototype._error=function(r){try{this._tapError.call(this._context,r)}catch(n){this.destination.error(n);return}this.destination.error(r)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){this.destination.error(r);return}return this.destination.complete()},e}(se),Zl={leading:!0,trailing:!1};function Zy(t,e){return e===void 0&&(e=Zl),function(r){return r.lift(new Qy(t,!!e.leading,!!e.trailing))}}var Qy=function(){function t(e,r,n){this.durationSelector=e,this.leading=r,this.trailing=n}return t.prototype.call=function(e,r){return r.subscribe(new Ky(e,this.durationSelector,this.leading,this.trailing))},t}(),Ky=function(t){G.exports.__extends(e,t);function e(r,n,i,s){var o=t.call(this,r)||this;return o.destination=r,o.durationSelector=n,o._leading=i,o._trailing=s,o._hasValue=!1,o}return e.prototype._next=function(r){this._hasValue=!0,this._sendValue=r,this._throttled||(this._leading?this.send():this.throttle(r))},e.prototype.send=function(){var r=this,n=r._hasValue,i=r._sendValue;n&&(this.destination.next(i),this.throttle(i)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(r){var n=this.tryDurationSelector(r);n&&this.add(this._throttled=tt(n,new Xe(this)))},e.prototype.tryDurationSelector=function(r){try{return this.durationSelector(r)}catch(n){return this.destination.error(n),null}},e.prototype.throttlingDone=function(){var r=this,n=r._throttled,i=r._trailing;n&&n.unsubscribe(),this._throttled=void 0,i&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(et);function Yy(t,e,r){return e===void 0&&(e=wt),r===void 0&&(r=Zl),function(n){return n.lift(new Jy(t,e,r.leading,r.trailing))}}var Jy=function(){function t(e,r,n,i){this.duration=e,this.scheduler=r,this.leading=n,this.trailing=i}return t.prototype.call=function(e,r){return r.subscribe(new Xy(e,this.duration,this.scheduler,this.leading,this.trailing))},t}(),Xy=function(t){G.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.duration=n,a.scheduler=i,a.leading=s,a.trailing=o,a._hasTrailingValue=!1,a._trailingValue=null,a}return e.prototype._next=function(r){this.throttled?this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(eb,this.duration,{subscriber:this})),this.leading?this.destination.next(r):this.trailing&&(this._trailingValue=r,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var r=this.throttled;r&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),r.unsubscribe(),this.remove(r),this.throttled=null)},e}(se);function eb(t){var e=t.subscriber;e.clearThrottle()}function tb(t){return t===void 0&&(t=wt),function(e){return Ta(function(){return e.pipe(ts(function(r,n){var i=r.current;return{value:n,current:t.now(),last:i}},{current:t.now(),value:void 0,last:void 0}),Lt(function(r){var n=r.current,i=r.last,s=r.value;return new rb(s,n-i)}))})}}var rb=function(){function t(e,r){this.value=e,this.interval=r}return t}();function Ql(t,e,r){return r===void 0&&(r=wt),function(n){var i=zl(t),s=i?+t-r.now():Math.abs(t);return n.lift(new nb(s,i,e,r))}}var nb=function(){function t(e,r,n,i){this.waitFor=e,this.absoluteTimeout=r,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new ib(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),ib=function(t){G.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;return a.absoluteTimeout=n,a.waitFor=i,a.withObservable=s,a.scheduler=o,a.scheduleTimeout(),a}return e.dispatchTimeout=function(r){var n=r.withObservable;r._unsubscribeAndRecycle(),r.add(tt(n,new Xe(r)))},e.prototype.scheduleTimeout=function(){var r=this.action;r?this.action=r.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(r){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,r)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(et);function sb(t,e){return e===void 0&&(e=wt),Ql(t,Ia(new El),e)}function ob(t){return t===void 0&&(t=wt),Lt(function(e){return new ab(e,t.now())})}var ab=function(){function t(e,r){this.value=e,this.timestamp=r}return t}();function ub(t,e,r){return r===0?[e]:(t.push(e),t)}function cb(){return ws(ub,[])}function lb(t){return function(r){return r.lift(new fb(t))}}var fb=function(){function t(e){this.windowBoundaries=e}return t.prototype.call=function(e,r){var n=new hb(e),i=r.subscribe(n);return i.closed||n.add(tt(this.windowBoundaries,new Xe(n))),i},t}(),hb=function(t){G.exports.__extends(e,t);function e(r){var n=t.call(this,r)||this;return n.window=new lt,r.next(n.window),n}return e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var r=this.window;r&&r.complete();var n=this.destination,i=this.window=new lt;n.next(i)},e}(et);function db(t,e){return e===void 0&&(e=0),function(n){return n.lift(new pb(t,e))}}var pb=function(){function t(e,r){this.windowSize=e,this.startWindowEvery=r}return t.prototype.call=function(e,r){return r.subscribe(new gb(e,this.windowSize,this.startWindowEvery))},t}(),gb=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.destination=r,s.windowSize=n,s.startWindowEvery=i,s.windows=[new lt],s.count=0,r.next(s.windows[0]),s}return e.prototype._next=function(r){for(var n=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,i=this.destination,s=this.windowSize,o=this.windows,a=o.length,d=0;d<a&&!this.closed;d++)o[d].next(r);var g=this.count-s+1;if(g>=0&&g%n===0&&!this.closed&&o.shift().complete(),++this.count%n===0&&!this.closed){var y=new lt;o.push(y),i.next(y)}},e.prototype._error=function(r){var n=this.windows;if(n)for(;n.length>0&&!this.closed;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){var r=this.windows;if(r)for(;r.length>0&&!this.closed;)r.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(se);function yb(t){var e=wt,r=null,n=Number.POSITIVE_INFINITY;return Et(arguments[3])&&(e=arguments[3]),Et(arguments[2])?e=arguments[2]:xn(arguments[2])&&(n=Number(arguments[2])),Et(arguments[1])?e=arguments[1]:xn(arguments[1])&&(r=Number(arguments[1])),function(s){return s.lift(new bb(t,r,n,e))}}var bb=function(){function t(e,r,n,i){this.windowTimeSpan=e,this.windowCreationInterval=r,this.maxWindowSize=n,this.scheduler=i}return t.prototype.call=function(e,r){return r.subscribe(new mb(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),vb=function(t){G.exports.__extends(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._numberOfNextedValues=0,r}return e.prototype.next=function(r){this._numberOfNextedValues++,t.prototype.next.call(this,r)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(lt),mb=function(t){G.exports.__extends(e,t);function e(r,n,i,s,o){var a=t.call(this,r)||this;a.destination=r,a.windowTimeSpan=n,a.windowCreationInterval=i,a.maxWindowSize=s,a.scheduler=o,a.windows=[];var d=a.openWindow();if(i!==null&&i>=0){var g={subscriber:a,window:d,context:null},y={windowTimeSpan:n,windowCreationInterval:i,subscriber:a,scheduler:o};a.add(o.schedule(Kl,n,g)),a.add(o.schedule(wb,i,y))}else{var T={subscriber:a,window:d,windowTimeSpan:n};a.add(o.schedule(_b,n,T))}return a}return e.prototype._next=function(r){for(var n=this.windows,i=n.length,s=0;s<i;s++){var o=n[s];o.closed||(o.next(r),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(r){for(var n=this.windows;n.length>0;)n.shift().error(r);this.destination.error(r)},e.prototype._complete=function(){for(var r=this.windows;r.length>0;){var n=r.shift();n.closed||n.complete()}this.destination.complete()},e.prototype.openWindow=function(){var r=new vb;this.windows.push(r);var n=this.destination;return n.next(r),r},e.prototype.closeWindow=function(r){r.complete();var n=this.windows;n.splice(n.indexOf(r),1)},e}(se);function _b(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function wb(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,s=r.openWindow(),o=this,a={action:o,subscription:null},d={subscriber:r,window:s,context:a};a.subscription=n.schedule(Kl,e,d),o.add(a.subscription),o.schedule(t,i)}function Kl(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function Sb(t,e){return function(r){return r.lift(new xb(t,e))}}var xb=function(){function t(e,r){this.openings=e,this.closingSelector=r}return t.prototype.call=function(e,r){return r.subscribe(new Eb(e,this.openings,this.closingSelector))},t}(),Eb=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;return s.openings=n,s.closingSelector=i,s.contexts=[],s.add(s.openSubscription=tr(s,n,n)),s}return e.prototype._next=function(r){var n=this.contexts;if(n)for(var i=n.length,s=0;s<i;s++)n[s].window.next(r)},e.prototype._error=function(r){var n=this.contexts;if(this.contexts=null,n)for(var i=n.length,s=-1;++s<i;){var o=n[s];o.window.error(r),o.subscription.unsubscribe()}t.prototype._error.call(this,r)},e.prototype._complete=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.complete(),s.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var s=r[i];s.window.unsubscribe(),s.subscription.unsubscribe()}},e.prototype.notifyNext=function(r,n,i,s,o){if(r===this.openings){var a=void 0;try{var d=this.closingSelector;a=d(n)}catch(I){return this.error(I)}var g=new lt,y=new Je,T={window:g,subscription:y};this.contexts.push(T);var x=tr(this,a,T);x.closed?this.closeWindow(this.contexts.length-1):(x.context=T,y.add(x)),this.destination.next(g)}else this.closeWindow(this.contexts.indexOf(r))},e.prototype.notifyError=function(r){this.error(r)},e.prototype.notifyComplete=function(r){r!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(r.context))},e.prototype.closeWindow=function(r){if(r!==-1){var n=this.contexts,i=n[r],s=i.window,o=i.subscription;n.splice(r,1),s.complete(),o.unsubscribe()}},e}(Zr);function Mb(t){return function(r){return r.lift(new Cb(t))}}var Cb=function(){function t(e){this.closingSelector=e}return t.prototype.call=function(e,r){return r.subscribe(new Ib(e,this.closingSelector))},t}(),Ib=function(t){G.exports.__extends(e,t);function e(r,n){var i=t.call(this,r)||this;return i.destination=r,i.closingSelector=n,i.openWindow(),i}return e.prototype.notifyNext=function(r,n,i,s,o){this.openWindow(o)},e.prototype.notifyError=function(r){this._error(r)},e.prototype.notifyComplete=function(r){this.openWindow(r)},e.prototype._next=function(r){this.window.next(r)},e.prototype._error=function(r){this.window.error(r),this.destination.error(r),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(r){r===void 0&&(r=null),r&&(this.remove(r),r.unsubscribe());var n=this.window;n&&n.complete();var i=this.window=new lt;this.destination.next(i);var s;try{var o=this.closingSelector;s=o()}catch(a){this.destination.error(a),this.window.error(a);return}this.add(this.closingNotification=tr(this,s))},e}(Zr);function kb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(r){var n;typeof t[t.length-1]=="function"&&(n=t.pop());var i=t;return r.lift(new Ab(i,n))}}var Ab=function(){function t(e,r){this.observables=e,this.project=r}return t.prototype.call=function(e,r){return r.subscribe(new Rb(e,this.observables,this.project))},t}(),Rb=function(t){G.exports.__extends(e,t);function e(r,n,i){var s=t.call(this,r)||this;s.observables=n,s.project=i,s.toRespond=[];var o=n.length;s.values=new Array(o);for(var a=0;a<o;a++)s.toRespond.push(a);for(var a=0;a<o;a++){var d=n[a];s.add(tr(s,d,void 0,a))}return s}return e.prototype.notifyNext=function(r,n,i){this.values[i]=n;var s=this.toRespond;if(s.length>0){var o=s.indexOf(i);o!==-1&&s.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(r){if(this.toRespond.length===0){var n=[r].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},e.prototype._tryProject=function(r){var n;try{n=this.project.apply(this,r)}catch(i){this.destination.error(i);return}this.destination.next(n)},e}(Zr);function Tb(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(n){return n.lift.call(jl.apply(void 0,[n].concat(t)))}}function Ob(t){return function(e){return e.lift(new $l(t))}}const Nb=Object.freeze(Object.defineProperty({__proto__:null,audit:Ul,auditTime:Np,buffer:Lp,bufferCount:Dp,bufferTime:Up,bufferToggle:qp,bufferWhen:Qp,catchError:Jp,combineAll:t0,combineLatest:r0,concat:n0,concatAll:Rl,concatMap:Hl,concatMapTo:i0,count:s0,debounce:u0,debounceTime:f0,defaultIfEmpty:vi,delay:b0,delayWhen:w0,dematerialize:M0,distinct:k0,distinctUntilChanged:Vl,distinctUntilKeyChanged:N0,elementAt:j0,endWith:$0,every:U0,exhaust:z0,exhaustMap:ql,expand:Q0,filter:br,finalize:J0,find:tg,findIndex:ng,first:ig,groupBy:hd,ignoreElements:sg,isEmpty:ug,last:dg,map:Lt,mapTo:pg,materialize:bg,max:Sg,merge:xg,mergeAll:Ra,mergeMap:Vr,flatMap:ip,mergeMapTo:Eg,mergeScan:Mg,min:kg,multicast:qr,observeOn:Sd,onErrorResumeNext:Rg,pairwise:Ng,partition:Pg,pluck:Dg,publish:jg,publishBehavior:$g,publishLast:Ug,publishReplay:Wg,race:Hg,reduce:ws,repeat:zg,repeatWhen:qg,retry:Qg,retryWhen:Jg,refCount:Ma,sample:ty,sampleTime:iy,scan:ts,sequenceEqual:uy,share:dy,shareReplay:py,single:yy,skip:my,skipLast:Sy,skipUntil:My,skipWhile:ky,startWith:Ty,subscribeOn:Ny,switchAll:Dy,switchMap:ui,switchMapTo:Fy,take:Oa,takeLast:es,takeUntil:jy,takeWhile:Wy,tap:Vy,throttle:Zy,throttleTime:Yy,throwIfEmpty:_s,timeInterval:tb,timeout:sb,timeoutWith:Ql,timestamp:ob,toArray:cb,window:lb,windowCount:db,windowTime:yb,windowToggle:Sb,windowWhen:Mb,withLatestFrom:kb,zip:Tb,zipAll:Ob},Symbol.toStringTag,{value:"Module"})),Ss=hi(Nb);var Yl={exports:{}},Qt={exports:{}},mi={};(function(t){const e=qh,r=Gh,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=L,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const m=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(m,l),m.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(m){if(m>i)throw new RangeError('The value "'+m+'" is invalid for option "size"');const l=new Uint8Array(m);return Object.setPrototypeOf(l,a.prototype),l}function a(m,l,f){if(typeof m=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(m)}return d(m,l,f)}a.poolSize=8192;function d(m,l,f){if(typeof m=="string")return x(m,l);if(ArrayBuffer.isView(m))return N(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(nt(m,ArrayBuffer)||m&&nt(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(nt(m,SharedArrayBuffer)||m&&nt(m.buffer,SharedArrayBuffer)))return $(m,l,f);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const E=m.valueOf&&m.valueOf();if(E!=null&&E!==m)return a.from(E,l,f);const B=W(m);if(B)return B;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return a.from(m[Symbol.toPrimitive]("string"),l,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}a.from=function(m,l,f){return d(m,l,f)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function g(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function y(m,l,f){return g(m),m<=0?o(m):l!==void 0?typeof f=="string"?o(m).fill(l,f):o(m).fill(l):o(m)}a.alloc=function(m,l,f){return y(m,l,f)};function T(m){return g(m),o(m<0?0:k(m)|0)}a.allocUnsafe=function(m){return T(m)},a.allocUnsafeSlow=function(m){return T(m)};function x(m,l){if((typeof l!="string"||l==="")&&(l="utf8"),!a.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const f=F(m,l)|0;let E=o(f);const B=E.write(m,l);return B!==f&&(E=E.slice(0,B)),E}function I(m){const l=m.length<0?0:k(m.length)|0,f=o(l);for(let E=0;E<l;E+=1)f[E]=m[E]&255;return f}function N(m){if(nt(m,Uint8Array)){const l=new Uint8Array(m);return $(l.buffer,l.byteOffset,l.byteLength)}return I(m)}function $(m,l,f){if(l<0||m.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<l+(f||0))throw new RangeError('"length" is outside of buffer bounds');let E;return l===void 0&&f===void 0?E=new Uint8Array(m):f===void 0?E=new Uint8Array(m,l):E=new Uint8Array(m,l,f),Object.setPrototypeOf(E,a.prototype),E}function W(m){if(a.isBuffer(m)){const l=k(m.length)|0,f=o(l);return f.length===0||m.copy(f,0,0,l),f}if(m.length!==void 0)return typeof m.length!="number"||Ee(m.length)?o(0):I(m);if(m.type==="Buffer"&&Array.isArray(m.data))return I(m.data)}function k(m){if(m>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return m|0}function L(m){return+m!=m&&(m=0),a.alloc(+m)}a.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==a.prototype},a.compare=function(l,f){if(nt(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),nt(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(l)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===f)return 0;let E=l.length,B=f.length;for(let D=0,U=Math.min(E,B);D<U;++D)if(l[D]!==f[D]){E=l[D],B=f[D];break}return E<B?-1:B<E?1:0},a.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(l,f){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return a.alloc(0);let E;if(f===void 0)for(f=0,E=0;E<l.length;++E)f+=l[E].length;const B=a.allocUnsafe(f);let D=0;for(E=0;E<l.length;++E){let U=l[E];if(nt(U,Uint8Array))D+U.length>B.length?(a.isBuffer(U)||(U=a.from(U)),U.copy(B,D)):Uint8Array.prototype.set.call(B,U,D);else if(a.isBuffer(U))U.copy(B,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=U.length}return B};function F(m,l){if(a.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||nt(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);const f=m.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&f===0)return 0;let B=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return oe(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return ke(m).length;default:if(B)return E?-1:oe(m).length;l=(""+l).toLowerCase(),B=!0}}a.byteLength=F;function H(m,l,f){let E=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,l>>>=0,f<=l))return"";for(m||(m="utf8");;)switch(m){case"hex":return A(this,l,f);case"utf8":case"utf-8":return u(this,l,f);case"ascii":return w(this,l,f);case"latin1":case"binary":return S(this,l,f);case"base64":return v(this,l,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,l,f);default:if(E)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),E=!0}}a.prototype._isBuffer=!0;function K(m,l,f){const E=m[l];m[l]=m[f],m[f]=E}a.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<l;f+=2)K(this,f,f+1);return this},a.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<l;f+=4)K(this,f,f+3),K(this,f+1,f+2);return this},a.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<l;f+=8)K(this,f,f+7),K(this,f+1,f+6),K(this,f+2,f+5),K(this,f+3,f+4);return this},a.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?u(this,0,l):H.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(l){if(!a.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:a.compare(this,l)===0},a.prototype.inspect=function(){let l="";const f=t.INSPECT_MAX_BYTES;return l=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(l+=" ... "),"<Buffer "+l+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(l,f,E,B,D){if(nt(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(f===void 0&&(f=0),E===void 0&&(E=l?l.length:0),B===void 0&&(B=0),D===void 0&&(D=this.length),f<0||E>l.length||B<0||D>this.length)throw new RangeError("out of range index");if(B>=D&&f>=E)return 0;if(B>=D)return-1;if(f>=E)return 1;if(f>>>=0,E>>>=0,B>>>=0,D>>>=0,this===l)return 0;let U=D-B,de=E-f;const he=Math.min(U,de),ce=this.slice(B,D),Re=l.slice(f,E);for(let ae=0;ae<he;++ae)if(ce[ae]!==Re[ae]){U=ce[ae],de=Re[ae];break}return U<de?-1:de<U?1:0};function Y(m,l,f,E,B){if(m.length===0)return-1;if(typeof f=="string"?(E=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,Ee(f)&&(f=B?0:m.length-1),f<0&&(f=m.length+f),f>=m.length){if(B)return-1;f=m.length-1}else if(f<0)if(B)f=0;else return-1;if(typeof l=="string"&&(l=a.from(l,E)),a.isBuffer(l))return l.length===0?-1:te(m,l,f,E,B);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?B?Uint8Array.prototype.indexOf.call(m,l,f):Uint8Array.prototype.lastIndexOf.call(m,l,f):te(m,[l],f,E,B);throw new TypeError("val must be string, number or Buffer")}function te(m,l,f,E,B){let D=1,U=m.length,de=l.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(m.length<2||l.length<2)return-1;D=2,U/=2,de/=2,f/=2}function he(Re,ae){return D===1?Re[ae]:Re.readUInt16BE(ae*D)}let ce;if(B){let Re=-1;for(ce=f;ce<U;ce++)if(he(m,ce)===he(l,Re===-1?0:ce-Re)){if(Re===-1&&(Re=ce),ce-Re+1===de)return Re*D}else Re!==-1&&(ce-=ce-Re),Re=-1}else for(f+de>U&&(f=U-de),ce=f;ce>=0;ce--){let Re=!0;for(let ae=0;ae<de;ae++)if(he(m,ce+ae)!==he(l,ae)){Re=!1;break}if(Re)return ce}return-1}a.prototype.includes=function(l,f,E){return this.indexOf(l,f,E)!==-1},a.prototype.indexOf=function(l,f,E){return Y(this,l,f,E,!0)},a.prototype.lastIndexOf=function(l,f,E){return Y(this,l,f,E,!1)};function X(m,l,f,E){f=Number(f)||0;const B=m.length-f;E?(E=Number(E),E>B&&(E=B)):E=B;const D=l.length;E>D/2&&(E=D/2);let U;for(U=0;U<E;++U){const de=parseInt(l.substr(U*2,2),16);if(Ee(de))return U;m[f+U]=de}return U}function J(m,l,f,E){return Ce(oe(l,m.length-f),m,f,E)}function ee(m,l,f,E){return Ce(xe(l),m,f,E)}function re(m,l,f,E){return Ce(ke(l),m,f,E)}function ue(m,l,f,E){return Ce(Ct(l,m.length-f),m,f,E)}a.prototype.write=function(l,f,E,B){if(f===void 0)B="utf8",E=this.length,f=0;else if(E===void 0&&typeof f=="string")B=f,E=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(E)?(E=E>>>0,B===void 0&&(B="utf8")):(B=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const D=this.length-f;if((E===void 0||E>D)&&(E=D),l.length>0&&(E<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");B||(B="utf8");let U=!1;for(;;)switch(B){case"hex":return X(this,l,f,E);case"utf8":case"utf-8":return J(this,l,f,E);case"ascii":case"latin1":case"binary":return ee(this,l,f,E);case"base64":return re(this,l,f,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ue(this,l,f,E);default:if(U)throw new TypeError("Unknown encoding: "+B);B=(""+B).toLowerCase(),U=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function v(m,l,f){return l===0&&f===m.length?e.fromByteArray(m):e.fromByteArray(m.slice(l,f))}function u(m,l,f){f=Math.min(m.length,f);const E=[];let B=l;for(;B<f;){const D=m[B];let U=null,de=D>239?4:D>223?3:D>191?2:1;if(B+de<=f){let he,ce,Re,ae;switch(de){case 1:D<128&&(U=D);break;case 2:he=m[B+1],(he&192)===128&&(ae=(D&31)<<6|he&63,ae>127&&(U=ae));break;case 3:he=m[B+1],ce=m[B+2],(he&192)===128&&(ce&192)===128&&(ae=(D&15)<<12|(he&63)<<6|ce&63,ae>2047&&(ae<55296||ae>57343)&&(U=ae));break;case 4:he=m[B+1],ce=m[B+2],Re=m[B+3],(he&192)===128&&(ce&192)===128&&(Re&192)===128&&(ae=(D&15)<<18|(he&63)<<12|(ce&63)<<6|Re&63,ae>65535&&ae<1114112&&(U=ae))}}U===null?(U=65533,de=1):U>65535&&(U-=65536,E.push(U>>>10&1023|55296),U=56320|U&1023),E.push(U),B+=de}return b(E)}const h=4096;function b(m){const l=m.length;if(l<=h)return String.fromCharCode.apply(String,m);let f="",E=0;for(;E<l;)f+=String.fromCharCode.apply(String,m.slice(E,E+=h));return f}function w(m,l,f){let E="";f=Math.min(m.length,f);for(let B=l;B<f;++B)E+=String.fromCharCode(m[B]&127);return E}function S(m,l,f){let E="";f=Math.min(m.length,f);for(let B=l;B<f;++B)E+=String.fromCharCode(m[B]);return E}function A(m,l,f){const E=m.length;(!l||l<0)&&(l=0),(!f||f<0||f>E)&&(f=E);let B="";for(let D=l;D<f;++D)B+=Ae[m[D]];return B}function P(m,l,f){const E=m.slice(l,f);let B="";for(let D=0;D<E.length-1;D+=2)B+=String.fromCharCode(E[D]+E[D+1]*256);return B}a.prototype.slice=function(l,f){const E=this.length;l=~~l,f=f===void 0?E:~~f,l<0?(l+=E,l<0&&(l=0)):l>E&&(l=E),f<0?(f+=E,f<0&&(f=0)):f>E&&(f=E),f<l&&(f=l);const B=this.subarray(l,f);return Object.setPrototypeOf(B,a.prototype),B};function p(m,l,f){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+l>f)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(l,f,E){l=l>>>0,f=f>>>0,E||p(l,f,this.length);let B=this[l],D=1,U=0;for(;++U<f&&(D*=256);)B+=this[l+U]*D;return B},a.prototype.readUintBE=a.prototype.readUIntBE=function(l,f,E){l=l>>>0,f=f>>>0,E||p(l,f,this.length);let B=this[l+--f],D=1;for(;f>0&&(D*=256);)B+=this[l+--f]*D;return B},a.prototype.readUint8=a.prototype.readUInt8=function(l,f){return l=l>>>0,f||p(l,1,this.length),this[l]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(l,f){return l=l>>>0,f||p(l,2,this.length),this[l]|this[l+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(l,f){return l=l>>>0,f||p(l,2,this.length),this[l]<<8|this[l+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(l,f){return l=l>>>0,f||p(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(l,f){return l=l>>>0,f||p(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},a.prototype.readBigUInt64LE=st(function(l){l=l>>>0,z(l,"offset");const f=this[l],E=this[l+7];(f===void 0||E===void 0)&&Q(l,this.length-8);const B=f+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,D=this[++l]+this[++l]*2**8+this[++l]*2**16+E*2**24;return BigInt(B)+(BigInt(D)<<BigInt(32))}),a.prototype.readBigUInt64BE=st(function(l){l=l>>>0,z(l,"offset");const f=this[l],E=this[l+7];(f===void 0||E===void 0)&&Q(l,this.length-8);const B=f*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],D=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+E;return(BigInt(B)<<BigInt(32))+BigInt(D)}),a.prototype.readIntLE=function(l,f,E){l=l>>>0,f=f>>>0,E||p(l,f,this.length);let B=this[l],D=1,U=0;for(;++U<f&&(D*=256);)B+=this[l+U]*D;return D*=128,B>=D&&(B-=Math.pow(2,8*f)),B},a.prototype.readIntBE=function(l,f,E){l=l>>>0,f=f>>>0,E||p(l,f,this.length);let B=f,D=1,U=this[l+--B];for(;B>0&&(D*=256);)U+=this[l+--B]*D;return D*=128,U>=D&&(U-=Math.pow(2,8*f)),U},a.prototype.readInt8=function(l,f){return l=l>>>0,f||p(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},a.prototype.readInt16LE=function(l,f){l=l>>>0,f||p(l,2,this.length);const E=this[l]|this[l+1]<<8;return E&32768?E|4294901760:E},a.prototype.readInt16BE=function(l,f){l=l>>>0,f||p(l,2,this.length);const E=this[l+1]|this[l]<<8;return E&32768?E|4294901760:E},a.prototype.readInt32LE=function(l,f){return l=l>>>0,f||p(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},a.prototype.readInt32BE=function(l,f){return l=l>>>0,f||p(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},a.prototype.readBigInt64LE=st(function(l){l=l>>>0,z(l,"offset");const f=this[l],E=this[l+7];(f===void 0||E===void 0)&&Q(l,this.length-8);const B=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(E<<24);return(BigInt(B)<<BigInt(32))+BigInt(f+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),a.prototype.readBigInt64BE=st(function(l){l=l>>>0,z(l,"offset");const f=this[l],E=this[l+7];(f===void 0||E===void 0)&&Q(l,this.length-8);const B=(f<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(B)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+E)}),a.prototype.readFloatLE=function(l,f){return l=l>>>0,f||p(l,4,this.length),r.read(this,l,!0,23,4)},a.prototype.readFloatBE=function(l,f){return l=l>>>0,f||p(l,4,this.length),r.read(this,l,!1,23,4)},a.prototype.readDoubleLE=function(l,f){return l=l>>>0,f||p(l,8,this.length),r.read(this,l,!0,52,8)},a.prototype.readDoubleBE=function(l,f){return l=l>>>0,f||p(l,8,this.length),r.read(this,l,!1,52,8)};function c(m,l,f,E,B,D){if(!a.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>B||l<D)throw new RangeError('"value" argument is out of bounds');if(f+E>m.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(l,f,E,B){if(l=+l,f=f>>>0,E=E>>>0,!B){const de=Math.pow(2,8*E)-1;c(this,l,f,E,de,0)}let D=1,U=0;for(this[f]=l&255;++U<E&&(D*=256);)this[f+U]=l/D&255;return f+E},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(l,f,E,B){if(l=+l,f=f>>>0,E=E>>>0,!B){const de=Math.pow(2,8*E)-1;c(this,l,f,E,de,0)}let D=E-1,U=1;for(this[f+D]=l&255;--D>=0&&(U*=256);)this[f+D]=l/U&255;return f+E},a.prototype.writeUint8=a.prototype.writeUInt8=function(l,f,E){return l=+l,f=f>>>0,E||c(this,l,f,1,255,0),this[f]=l&255,f+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(l,f,E){return l=+l,f=f>>>0,E||c(this,l,f,2,65535,0),this[f]=l&255,this[f+1]=l>>>8,f+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(l,f,E){return l=+l,f=f>>>0,E||c(this,l,f,2,65535,0),this[f]=l>>>8,this[f+1]=l&255,f+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(l,f,E){return l=+l,f=f>>>0,E||c(this,l,f,4,4294967295,0),this[f+3]=l>>>24,this[f+2]=l>>>16,this[f+1]=l>>>8,this[f]=l&255,f+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(l,f,E){return l=+l,f=f>>>0,E||c(this,l,f,4,4294967295,0),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=l&255,f+4};function _(m,l,f,E,B){C(l,E,B,m,f,7);let D=Number(l&BigInt(4294967295));m[f++]=D,D=D>>8,m[f++]=D,D=D>>8,m[f++]=D,D=D>>8,m[f++]=D;let U=Number(l>>BigInt(32)&BigInt(4294967295));return m[f++]=U,U=U>>8,m[f++]=U,U=U>>8,m[f++]=U,U=U>>8,m[f++]=U,f}function Z(m,l,f,E,B){C(l,E,B,m,f,7);let D=Number(l&BigInt(4294967295));m[f+7]=D,D=D>>8,m[f+6]=D,D=D>>8,m[f+5]=D,D=D>>8,m[f+4]=D;let U=Number(l>>BigInt(32)&BigInt(4294967295));return m[f+3]=U,U=U>>8,m[f+2]=U,U=U>>8,m[f+1]=U,U=U>>8,m[f]=U,f+8}a.prototype.writeBigUInt64LE=st(function(l,f=0){return _(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=st(function(l,f=0){return Z(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(l,f,E,B){if(l=+l,f=f>>>0,!B){const he=Math.pow(2,8*E-1);c(this,l,f,E,he-1,-he)}let D=0,U=1,de=0;for(this[f]=l&255;++D<E&&(U*=256);)l<0&&de===0&&this[f+D-1]!==0&&(de=1),this[f+D]=(l/U>>0)-de&255;return f+E},a.prototype.writeIntBE=function(l,f,E,B){if(l=+l,f=f>>>0,!B){const he=Math.pow(2,8*E-1);c(this,l,f,E,he-1,-he)}let D=E-1,U=1,de=0;for(this[f+D]=l&255;--D>=0&&(U*=256);)l<0&&de===0&&this[f+D+1]!==0&&(de=1),this[f+D]=(l/U>>0)-de&255;return f+E},a.prototype.writeInt8=function(l,f,E){return l=+l,f=f>>>0,E||c(this,l,f,1,127,-128),l<0&&(l=255+l+1),this[f]=l&255,f+1},a.prototype.writeInt16LE=function(l,f,E){return l=+l,f=f>>>0,E||c(this,l,f,2,32767,-32768),this[f]=l&255,this[f+1]=l>>>8,f+2},a.prototype.writeInt16BE=function(l,f,E){return l=+l,f=f>>>0,E||c(this,l,f,2,32767,-32768),this[f]=l>>>8,this[f+1]=l&255,f+2},a.prototype.writeInt32LE=function(l,f,E){return l=+l,f=f>>>0,E||c(this,l,f,4,2147483647,-2147483648),this[f]=l&255,this[f+1]=l>>>8,this[f+2]=l>>>16,this[f+3]=l>>>24,f+4},a.prototype.writeInt32BE=function(l,f,E){return l=+l,f=f>>>0,E||c(this,l,f,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=l&255,f+4},a.prototype.writeBigInt64LE=st(function(l,f=0){return _(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=st(function(l,f=0){return Z(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function V(m,l,f,E,B,D){if(f+E>m.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function R(m,l,f,E,B){return l=+l,f=f>>>0,B||V(m,l,f,4),r.write(m,l,f,E,23,4),f+4}a.prototype.writeFloatLE=function(l,f,E){return R(this,l,f,!0,E)},a.prototype.writeFloatBE=function(l,f,E){return R(this,l,f,!1,E)};function O(m,l,f,E,B){return l=+l,f=f>>>0,B||V(m,l,f,8),r.write(m,l,f,E,52,8),f+8}a.prototype.writeDoubleLE=function(l,f,E){return O(this,l,f,!0,E)},a.prototype.writeDoubleBE=function(l,f,E){return O(this,l,f,!1,E)},a.prototype.copy=function(l,f,E,B){if(!a.isBuffer(l))throw new TypeError("argument should be a Buffer");if(E||(E=0),!B&&B!==0&&(B=this.length),f>=l.length&&(f=l.length),f||(f=0),B>0&&B<E&&(B=E),B===E||l.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("sourceEnd out of bounds");B>this.length&&(B=this.length),l.length-f<B-E&&(B=l.length-f+E);const D=B-E;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,E,B):Uint8Array.prototype.set.call(l,this.subarray(E,B),f),D},a.prototype.fill=function(l,f,E,B){if(typeof l=="string"){if(typeof f=="string"?(B=f,f=0,E=this.length):typeof E=="string"&&(B=E,E=this.length),B!==void 0&&typeof B!="string")throw new TypeError("encoding must be a string");if(typeof B=="string"&&!a.isEncoding(B))throw new TypeError("Unknown encoding: "+B);if(l.length===1){const U=l.charCodeAt(0);(B==="utf8"&&U<128||B==="latin1")&&(l=U)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(f<0||this.length<f||this.length<E)throw new RangeError("Out of range index");if(E<=f)return this;f=f>>>0,E=E===void 0?this.length:E>>>0,l||(l=0);let D;if(typeof l=="number")for(D=f;D<E;++D)this[D]=l;else{const U=a.isBuffer(l)?l:a.from(l,B),de=U.length;if(de===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(D=0;D<E-f;++D)this[D+f]=U[D%de]}return this};const j={};function q(m,l,f){j[m]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${m}]`,this.stack,delete this.name}get code(){return m}set code(B){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:B,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}q("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function(m,l){return`The "${m}" argument must be of type number. Received type ${typeof l}`},TypeError),q("ERR_OUT_OF_RANGE",function(m,l,f){let E=`The value of "${m}" is out of range.`,B=f;return Number.isInteger(f)&&Math.abs(f)>2**32?B=ne(String(f)):typeof f=="bigint"&&(B=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(B=ne(B)),B+="n"),E+=` It must be ${l}. Received ${B}`,E},RangeError);function ne(m){let l="",f=m.length;const E=m[0]==="-"?1:0;for(;f>=E+4;f-=3)l=`_${m.slice(f-3,f)}${l}`;return`${m.slice(0,f)}${l}`}function M(m,l,f){z(l,"offset"),(m[l]===void 0||m[l+f]===void 0)&&Q(l,m.length-(f+1))}function C(m,l,f,E,B,D){if(m>f||m<l){const U=typeof l=="bigint"?"n":"";let de;throw D>3?l===0||l===BigInt(0)?de=`>= 0${U} and < 2${U} ** ${(D+1)*8}${U}`:de=`>= -(2${U} ** ${(D+1)*8-1}${U}) and < 2 ** ${(D+1)*8-1}${U}`:de=`>= ${l}${U} and <= ${f}${U}`,new j.ERR_OUT_OF_RANGE("value",de,m)}M(E,B,D)}function z(m,l){if(typeof m!="number")throw new j.ERR_INVALID_ARG_TYPE(l,"number",m)}function Q(m,l,f){throw Math.floor(m)!==m?(z(m,f),new j.ERR_OUT_OF_RANGE(f||"offset","an integer",m)):l<0?new j.ERR_BUFFER_OUT_OF_BOUNDS:new j.ERR_OUT_OF_RANGE(f||"offset",`>= ${f?1:0} and <= ${l}`,m)}const fe=/[^+/0-9A-Za-z-_]/g;function ge(m){if(m=m.split("=")[0],m=m.trim().replace(fe,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function oe(m,l){l=l||1/0;let f;const E=m.length;let B=null;const D=[];for(let U=0;U<E;++U){if(f=m.charCodeAt(U),f>55295&&f<57344){if(!B){if(f>56319){(l-=3)>-1&&D.push(239,191,189);continue}else if(U+1===E){(l-=3)>-1&&D.push(239,191,189);continue}B=f;continue}if(f<56320){(l-=3)>-1&&D.push(239,191,189),B=f;continue}f=(B-55296<<10|f-56320)+65536}else B&&(l-=3)>-1&&D.push(239,191,189);if(B=null,f<128){if((l-=1)<0)break;D.push(f)}else if(f<2048){if((l-=2)<0)break;D.push(f>>6|192,f&63|128)}else if(f<65536){if((l-=3)<0)break;D.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((l-=4)<0)break;D.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return D}function xe(m){const l=[];for(let f=0;f<m.length;++f)l.push(m.charCodeAt(f)&255);return l}function Ct(m,l){let f,E,B;const D=[];for(let U=0;U<m.length&&!((l-=2)<0);++U)f=m.charCodeAt(U),E=f>>8,B=f%256,D.push(B),D.push(E);return D}function ke(m){return e.toByteArray(ge(m))}function Ce(m,l,f,E){let B;for(B=0;B<E&&!(B+f>=l.length||B>=m.length);++B)l[B+f]=m[B];return B}function nt(m,l){return m instanceof l||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===l.name}function Ee(m){return m!==m}const Ae=function(){const m="0123456789abcdef",l=new Array(256);for(let f=0;f<16;++f){const E=f*16;for(let B=0;B<16;++B)l[E+B]=m[f]+m[B]}return l}();function st(m){return typeof BigInt>"u"?Me:m}function Me(){throw new Error("BigInt not supported")}})(mi);(function(t,e){var r=mi,n=r.Buffer;function i(o,a){for(var d in o)a[d]=o[d]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,d){return n(o,a,d)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,d){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,d)},s.alloc=function(o,a,d){if(typeof o!="number")throw new TypeError("Argument must be a number");var g=n(o);return a!==void 0?typeof d=="string"?g.fill(a,d):g.fill(a):g.fill(0),g},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Qt,Qt.exports);var Jl=Qt.exports.Buffer;function xs(t,e){this._block=Jl.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}xs.prototype.update=function(t,e){typeof t=="string"&&(e=e||"utf8",t=Jl.from(t,e));for(var r=this._block,n=this._blockSize,i=t.length,s=this._len,o=0;o<i;){for(var a=s%n,d=Math.min(i-o,n-a),g=0;g<d;g++)r[a+g]=t[o+g];s+=d,o+=d,s%n===0&&this._update(r)}return this._len+=i,this};xs.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return t?s.toString(t):s};xs.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var jn=xs,Lb=$t.exports,Xl=jn,Bb=Qt.exports.Buffer,Pb=[1518500249,1859775393,-1894007588,-899497514],Db=new Array(80);function _i(){this.init(),this._w=Db,Xl.call(this,64,56)}Lb(_i,Xl);_i.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Fb(t){return t<<5|t>>>27}function jb(t){return t<<30|t>>>2}function $b(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}_i.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=e[a-3]^e[a-8]^e[a-14]^e[a-16];for(var d=0;d<80;++d){var g=~~(d/20),y=Fb(r)+$b(g,n,i,s)+o+e[d]+Pb[g]|0;o=s,s=i,i=jb(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};_i.prototype._hash=function(){var t=Bb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Ub=_i,Wb=$t.exports,ef=jn,Hb=Qt.exports.Buffer,zb=[1518500249,1859775393,-1894007588,-899497514],Vb=new Array(80);function wi(){this.init(),this._w=Vb,ef.call(this,64,56)}Wb(wi,ef);wi.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function qb(t){return t<<1|t>>>31}function Gb(t){return t<<5|t>>>27}function Zb(t){return t<<30|t>>>2}function Qb(t,e,r,n){return t===0?e&r|~e&n:t===2?e&r|e&n|r&n:e^r^n}wi.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=0;a<16;++a)e[a]=t.readInt32BE(a*4);for(;a<80;++a)e[a]=qb(e[a-3]^e[a-8]^e[a-14]^e[a-16]);for(var d=0;d<80;++d){var g=~~(d/20),y=Gb(r)+Qb(g,n,i,s)+o+e[d]+zb[g]|0;o=s,s=i,i=Zb(n),n=r,r=y}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0};wi.prototype._hash=function(){var t=Hb.allocUnsafe(20);return t.writeInt32BE(this._a|0,0),t.writeInt32BE(this._b|0,4),t.writeInt32BE(this._c|0,8),t.writeInt32BE(this._d|0,12),t.writeInt32BE(this._e|0,16),t};var Kb=wi,Yb=$t.exports,tf=jn,Jb=Qt.exports.Buffer,Xb=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],ev=new Array(64);function Si(){this.init(),this._w=ev,tf.call(this,64,56)}Yb(Si,tf);Si.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function tv(t,e,r){return r^t&(e^r)}function rv(t,e,r){return t&e|r&(t|e)}function nv(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function iv(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function sv(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function ov(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}Si.prototype._update=function(t){for(var e=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,o=this._e|0,a=this._f|0,d=this._g|0,g=this._h|0,y=0;y<16;++y)e[y]=t.readInt32BE(y*4);for(;y<64;++y)e[y]=ov(e[y-2])+e[y-7]+sv(e[y-15])+e[y-16]|0;for(var T=0;T<64;++T){var x=g+iv(o)+tv(o,a,d)+Xb[T]+e[T]|0,I=nv(r)+rv(r,n,i)|0;g=d,d=a,a=o,o=s+x|0,s=i,i=n,n=r,r=x+I|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=o+this._e|0,this._f=a+this._f|0,this._g=d+this._g|0,this._h=g+this._h|0};Si.prototype._hash=function(){var t=Jb.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t};var rf=Si,av=$t.exports,uv=rf,cv=jn,lv=Qt.exports.Buffer,fv=new Array(64);function Es(){this.init(),this._w=fv,cv.call(this,64,56)}av(Es,uv);Es.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Es.prototype._hash=function(){var t=lv.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t};var hv=Es,dv=$t.exports,nf=jn,pv=Qt.exports.Buffer,Iu=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],gv=new Array(160);function xi(){this.init(),this._w=gv,nf.call(this,128,112)}dv(xi,nf);xi.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function ku(t,e,r){return r^t&(e^r)}function Au(t,e,r){return t&e|r&(t|e)}function Ru(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function Tu(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function yv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function bv(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function vv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function mv(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function ot(t,e){return t>>>0<e>>>0?1:0}xi.prototype._update=function(t){for(var e=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,o=this._eh|0,a=this._fh|0,d=this._gh|0,g=this._hh|0,y=this._al|0,T=this._bl|0,x=this._cl|0,I=this._dl|0,N=this._el|0,$=this._fl|0,W=this._gl|0,k=this._hl|0,L=0;L<32;L+=2)e[L]=t.readInt32BE(L*4),e[L+1]=t.readInt32BE(L*4+4);for(;L<160;L+=2){var F=e[L-30],H=e[L-15*2+1],K=yv(F,H),Y=bv(H,F);F=e[L-2*2],H=e[L-2*2+1];var te=vv(F,H),X=mv(H,F),J=e[L-7*2],ee=e[L-7*2+1],re=e[L-16*2],ue=e[L-16*2+1],v=Y+ee|0,u=K+J+ot(v,Y)|0;v=v+X|0,u=u+te+ot(v,X)|0,v=v+ue|0,u=u+re+ot(v,ue)|0,e[L]=u,e[L+1]=v}for(var h=0;h<160;h+=2){u=e[h],v=e[h+1];var b=Au(r,n,i),w=Au(y,T,x),S=Ru(r,y),A=Ru(y,r),P=Tu(o,N),p=Tu(N,o),c=Iu[h],_=Iu[h+1],Z=ku(o,a,d),V=ku(N,$,W),R=k+p|0,O=g+P+ot(R,k)|0;R=R+V|0,O=O+Z+ot(R,V)|0,R=R+_|0,O=O+c+ot(R,_)|0,R=R+v|0,O=O+u+ot(R,v)|0;var j=A+w|0,q=S+b+ot(j,A)|0;g=d,k=W,d=a,W=$,a=o,$=N,N=I+R|0,o=s+O+ot(N,I)|0,s=i,I=x,i=n,x=T,n=r,T=y,y=R+j|0,r=O+q+ot(y,R)|0}this._al=this._al+y|0,this._bl=this._bl+T|0,this._cl=this._cl+x|0,this._dl=this._dl+I|0,this._el=this._el+N|0,this._fl=this._fl+$|0,this._gl=this._gl+W|0,this._hl=this._hl+k|0,this._ah=this._ah+r+ot(this._al,y)|0,this._bh=this._bh+n+ot(this._bl,T)|0,this._ch=this._ch+i+ot(this._cl,x)|0,this._dh=this._dh+s+ot(this._dl,I)|0,this._eh=this._eh+o+ot(this._el,N)|0,this._fh=this._fh+a+ot(this._fl,$)|0,this._gh=this._gh+d+ot(this._gl,W)|0,this._hh=this._hh+g+ot(this._hl,k)|0};xi.prototype._hash=function(){var t=pv.allocUnsafe(64);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t};var sf=xi,_v=$t.exports,wv=sf,Sv=jn,xv=Qt.exports.Buffer,Ev=new Array(160);function Ms(){this.init(),this._w=Ev,Sv.call(this,128,112)}_v(Ms,wv);Ms.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};Ms.prototype._hash=function(){var t=xv.allocUnsafe(48);function e(r,n,i){t.writeInt32BE(r,i),t.writeInt32BE(n,i+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t};var Mv=Ms,Qr=Yl.exports=function(e){e=e.toLowerCase();var r=Qr[e];if(!r)throw new Error(e+" is not supported (we accept pull requests)");return new r};Qr.sha=Ub;Qr.sha1=Kb;Qr.sha224=hv;Qr.sha256=rf;Qr.sha384=Mv;Qr.sha512=sf;var ie={},Cv=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Ou=typeof Symbol<"u"&&Symbol,Iv=Cv,kv=function(){return typeof Ou!="function"||typeof Symbol!="function"||typeof Ou("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Iv()},Av="Function.prototype.bind called on incompatible ",yo=Array.prototype.slice,Rv=Object.prototype.toString,Tv="[object Function]",Ov=function(e){var r=this;if(typeof r!="function"||Rv.call(r)!==Tv)throw new TypeError(Av+r);for(var n=yo.call(arguments,1),i,s=function(){if(this instanceof i){var y=r.apply(this,n.concat(yo.call(arguments)));return Object(y)===y?y:this}else return r.apply(e,n.concat(yo.call(arguments)))},o=Math.max(0,r.length-n.length),a=[],d=0;d<o;d++)a.push("$"+d);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var g=function(){};g.prototype=r.prototype,i.prototype=new g,g.prototype=null}return i},Nv=Ov,Na=Function.prototype.bind||Nv,Lv=Na,Bv=Lv.call(Function.call,Object.prototype.hasOwnProperty),Se,En=SyntaxError,of=Function,gn=TypeError,bo=function(t){try{return of('"use strict"; return ('+t+").constructor;")()}catch{}},Hr=Object.getOwnPropertyDescriptor;if(Hr)try{Hr({},"")}catch{Hr=null}var vo=function(){throw new gn},Pv=Hr?function(){try{return arguments.callee,vo}catch{try{return Hr(arguments,"callee").get}catch{return vo}}}():vo,an=kv(),ar=Object.getPrototypeOf||function(t){return t.__proto__},ln={},Dv=typeof Uint8Array>"u"?Se:ar(Uint8Array),yn={"%AggregateError%":typeof AggregateError>"u"?Se:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Se:ArrayBuffer,"%ArrayIteratorPrototype%":an?ar([][Symbol.iterator]()):Se,"%AsyncFromSyncIteratorPrototype%":Se,"%AsyncFunction%":ln,"%AsyncGenerator%":ln,"%AsyncGeneratorFunction%":ln,"%AsyncIteratorPrototype%":ln,"%Atomics%":typeof Atomics>"u"?Se:Atomics,"%BigInt%":typeof BigInt>"u"?Se:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Se:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Se:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Se:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Se:FinalizationRegistry,"%Function%":of,"%GeneratorFunction%":ln,"%Int8Array%":typeof Int8Array>"u"?Se:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Se:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Se:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":an?ar(ar([][Symbol.iterator]())):Se,"%JSON%":typeof JSON=="object"?JSON:Se,"%Map%":typeof Map>"u"?Se:Map,"%MapIteratorPrototype%":typeof Map>"u"||!an?Se:ar(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Se:Promise,"%Proxy%":typeof Proxy>"u"?Se:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Se:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Se:Set,"%SetIteratorPrototype%":typeof Set>"u"||!an?Se:ar(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Se:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":an?ar(""[Symbol.iterator]()):Se,"%Symbol%":an?Symbol:Se,"%SyntaxError%":En,"%ThrowTypeError%":Pv,"%TypedArray%":Dv,"%TypeError%":gn,"%Uint8Array%":typeof Uint8Array>"u"?Se:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Se:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Se:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Se:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Se:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Se:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Se:WeakSet},Fv=function t(e){var r;if(e==="%AsyncFunction%")r=bo("async function () {}");else if(e==="%GeneratorFunction%")r=bo("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=bo("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&(r=ar(i.prototype))}return yn[e]=r,r},Nu={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ei=Na,rs=Bv,jv=Ei.call(Function.call,Array.prototype.concat),$v=Ei.call(Function.apply,Array.prototype.splice),Lu=Ei.call(Function.call,String.prototype.replace),ns=Ei.call(Function.call,String.prototype.slice),Uv=Ei.call(Function.call,RegExp.prototype.exec),Wv=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Hv=/\\(\\)?/g,zv=function(e){var r=ns(e,0,1),n=ns(e,-1);if(r==="%"&&n!=="%")throw new En("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new En("invalid intrinsic syntax, expected opening `%`");var i=[];return Lu(e,Wv,function(s,o,a,d){i[i.length]=a?Lu(d,Hv,"$1"):o||s}),i},Vv=function(e,r){var n=e,i;if(rs(Nu,n)&&(i=Nu[n],n="%"+i[0]+"%"),rs(yn,n)){var s=yn[n];if(s===ln&&(s=Fv(n)),typeof s>"u"&&!r)throw new gn("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new En("intrinsic "+e+" does not exist!")},La=function(e,r){if(typeof e!="string"||e.length===0)throw new gn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new gn('"allowMissing" argument must be a boolean');if(Uv(/^%?[^%]*%?$/,e)===null)throw new En("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=zv(e),i=n.length>0?n[0]:"",s=Vv("%"+i+"%",r),o=s.name,a=s.value,d=!1,g=s.alias;g&&(i=g[0],$v(n,jv([0,1],g)));for(var y=1,T=!0;y<n.length;y+=1){var x=n[y],I=ns(x,0,1),N=ns(x,-1);if((I==='"'||I==="'"||I==="`"||N==='"'||N==="'"||N==="`")&&I!==N)throw new En("property names with quotes must have matching quotes");if((x==="constructor"||!T)&&(d=!0),i+="."+x,o="%"+i+"%",rs(yn,o))a=yn[o];else if(a!=null){if(!(x in a)){if(!r)throw new gn("base intrinsic for "+e+" exists, but the property is not available.");return}if(Hr&&y+1>=n.length){var $=Hr(a,x);T=!!$,T&&"get"in $&&!("originalValue"in $.get)?a=$.get:a=a[x]}else T=rs(a,x),a=a[x];T&&!d&&(yn[o]=a)}}return a},af={exports:{}};(function(t){var e=Na,r=La,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),d=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(T){var x=s(e,i,arguments);if(o&&a){var I=o(x,"length");I.configurable&&a(x,"length",{value:1+d(0,T.length-(arguments.length-1))})}return x};var g=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:g}):t.exports.apply=g})(af);var uf=La,cf=af.exports,qv=cf(uf("String.prototype.indexOf")),Gv=function(e,r){var n=uf(e,!!r);return typeof n=="function"&&qv(e,".prototype.")>-1?cf(n):n},Ba=typeof Map=="function"&&Map.prototype,mo=Object.getOwnPropertyDescriptor&&Ba?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,is=Ba&&mo&&typeof mo.get=="function"?mo.get:null,Zv=Ba&&Map.prototype.forEach,Pa=typeof Set=="function"&&Set.prototype,_o=Object.getOwnPropertyDescriptor&&Pa?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ss=Pa&&_o&&typeof _o.get=="function"?_o.get:null,Qv=Pa&&Set.prototype.forEach,Kv=typeof WeakMap=="function"&&WeakMap.prototype,Yn=Kv?WeakMap.prototype.has:null,Yv=typeof WeakSet=="function"&&WeakSet.prototype,Jn=Yv?WeakSet.prototype.has:null,Jv=typeof WeakRef=="function"&&WeakRef.prototype,Bu=Jv?WeakRef.prototype.deref:null,Xv=Boolean.prototype.valueOf,e1=Object.prototype.toString,t1=Function.prototype.toString,r1=String.prototype.match,Da=String.prototype.slice,fr=String.prototype.replace,n1=String.prototype.toUpperCase,Pu=String.prototype.toLowerCase,lf=RegExp.prototype.test,Du=Array.prototype.concat,Vt=Array.prototype.join,i1=Array.prototype.slice,Fu=Math.floor,aa=typeof BigInt=="function"?BigInt.prototype.valueOf:null,wo=Object.getOwnPropertySymbols,ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Mn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",bt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Mn||"symbol")?Symbol.toStringTag:null,ff=Object.prototype.propertyIsEnumerable,ju=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function $u(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||lf.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Fu(-t):Fu(t);if(n!==t){var i=String(n),s=Da.call(e,i.length+1);return fr.call(i,r,"$&_")+"."+fr.call(fr.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return fr.call(e,r,"$&_")}var ca=ds,Uu=ca.custom,Wu=df(Uu)?Uu:null,s1=function t(e,r,n,i){var s=r||{};if(ur(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ur(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ur(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ur(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ur(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return gf(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var d=String(e);return a?$u(e,d):d}if(typeof e=="bigint"){var g=String(e)+"n";return a?$u(e,g):g}var y=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=y&&y>0&&typeof e=="object")return la(e)?"[Array]":"[Object]";var T=x1(s,n);if(typeof i>"u")i=[];else if(pf(i,e)>=0)return"[Circular]";function x(v,u,h){if(u&&(i=i1.call(i),i.push(u)),h){var b={depth:s.depth};return ur(s,"quoteStyle")&&(b.quoteStyle=s.quoteStyle),t(v,b,n+1,i)}return t(v,s,n+1,i)}if(typeof e=="function"&&!Hu(e)){var I=p1(e),N=Pi(e,x);return"[Function"+(I?": "+I:" (anonymous)")+"]"+(N.length>0?" { "+Vt.call(N,", ")+" }":"")}if(df(e)){var $=Mn?fr.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ua.call(e);return typeof e=="object"&&!Mn?zn($):$}if(_1(e)){for(var W="<"+Pu.call(String(e.nodeName)),k=e.attributes||[],L=0;L<k.length;L++)W+=" "+k[L].name+"="+hf(o1(k[L].value),"double",s);return W+=">",e.childNodes&&e.childNodes.length&&(W+="..."),W+="</"+Pu.call(String(e.nodeName))+">",W}if(la(e)){if(e.length===0)return"[]";var F=Pi(e,x);return T&&!S1(F)?"["+fa(F,T)+"]":"[ "+Vt.call(F,", ")+" ]"}if(u1(e)){var H=Pi(e,x);return!("cause"in Error.prototype)&&"cause"in e&&!ff.call(e,"cause")?"{ ["+String(e)+"] "+Vt.call(Du.call("[cause]: "+x(e.cause),H),", ")+" }":H.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Vt.call(H,", ")+" }"}if(typeof e=="object"&&o){if(Wu&&typeof e[Wu]=="function"&&ca)return ca(e,{depth:y-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(g1(e)){var K=[];return Zv.call(e,function(v,u){K.push(x(u,e,!0)+" => "+x(v,e))}),zu("Map",is.call(e),K,T)}if(v1(e)){var Y=[];return Qv.call(e,function(v){Y.push(x(v,e))}),zu("Set",ss.call(e),Y,T)}if(y1(e))return So("WeakMap");if(m1(e))return So("WeakSet");if(b1(e))return So("WeakRef");if(l1(e))return zn(x(Number(e)));if(h1(e))return zn(x(aa.call(e)));if(f1(e))return zn(Xv.call(e));if(c1(e))return zn(x(String(e)));if(!a1(e)&&!Hu(e)){var te=Pi(e,x),X=ju?ju(e)===Object.prototype:e instanceof Object||e.constructor===Object,J=e instanceof Object?"":"null prototype",ee=!X&&bt&&Object(e)===e&&bt in e?Da.call(_r(e),8,-1):J?"Object":"",re=X||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",ue=re+(ee||J?"["+Vt.call(Du.call([],ee||[],J||[]),": ")+"] ":"");return te.length===0?ue+"{}":T?ue+"{"+fa(te,T)+"}":ue+"{ "+Vt.call(te,", ")+" }"}return String(e)};function hf(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function o1(t){return fr.call(String(t),/"/g,"&quot;")}function la(t){return _r(t)==="[object Array]"&&(!bt||!(typeof t=="object"&&bt in t))}function a1(t){return _r(t)==="[object Date]"&&(!bt||!(typeof t=="object"&&bt in t))}function Hu(t){return _r(t)==="[object RegExp]"&&(!bt||!(typeof t=="object"&&bt in t))}function u1(t){return _r(t)==="[object Error]"&&(!bt||!(typeof t=="object"&&bt in t))}function c1(t){return _r(t)==="[object String]"&&(!bt||!(typeof t=="object"&&bt in t))}function l1(t){return _r(t)==="[object Number]"&&(!bt||!(typeof t=="object"&&bt in t))}function f1(t){return _r(t)==="[object Boolean]"&&(!bt||!(typeof t=="object"&&bt in t))}function df(t){if(Mn)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ua)return!1;try{return ua.call(t),!0}catch{}return!1}function h1(t){if(!t||typeof t!="object"||!aa)return!1;try{return aa.call(t),!0}catch{}return!1}var d1=Object.prototype.hasOwnProperty||function(t){return t in this};function ur(t,e){return d1.call(t,e)}function _r(t){return e1.call(t)}function p1(t){if(t.name)return t.name;var e=r1.call(t1.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function pf(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function g1(t){if(!is||!t||typeof t!="object")return!1;try{is.call(t);try{ss.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function y1(t){if(!Yn||!t||typeof t!="object")return!1;try{Yn.call(t,Yn);try{Jn.call(t,Jn)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function b1(t){if(!Bu||!t||typeof t!="object")return!1;try{return Bu.call(t),!0}catch{}return!1}function v1(t){if(!ss||!t||typeof t!="object")return!1;try{ss.call(t);try{is.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function m1(t){if(!Jn||!t||typeof t!="object")return!1;try{Jn.call(t,Jn);try{Yn.call(t,Yn)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function _1(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function gf(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return gf(Da.call(t,0,e.maxStringLength),e)+n}var i=fr.call(fr.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,w1);return hf(i,"single",e)}function w1(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+n1.call(e.toString(16))}function zn(t){return"Object("+t+")"}function So(t){return t+" { ? }"}function zu(t,e,r,n){var i=n?fa(r,n):Vt.call(r,", ");return t+" ("+e+") {"+i+"}"}function S1(t){for(var e=0;e<t.length;e++)if(pf(t[e],`
`)>=0)return!1;return!0}function x1(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Vt.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Vt.call(Array(e+1),r)}}function fa(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Vt.call(t,","+r)+`
`+e.prev}function Pi(t,e){var r=la(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=ur(t,i)?e(t[i],t):""}var s=typeof wo=="function"?wo(t):[],o;if(Mn){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var d in t)ur(t,d)&&(r&&String(Number(d))===d&&d<t.length||Mn&&o["$"+d]instanceof Symbol||(lf.call(/[^\w$]/,d)?n.push(e(d,t)+": "+e(t[d],t)):n.push(d+": "+e(t[d],t))));if(typeof wo=="function")for(var g=0;g<s.length;g++)ff.call(t,s[g])&&n.push("["+e(s[g])+"]: "+e(t[s[g]],t));return n}var Fa=La,$n=Gv,E1=s1,M1=Fa("%TypeError%"),Di=Fa("%WeakMap%",!0),Fi=Fa("%Map%",!0),C1=$n("WeakMap.prototype.get",!0),I1=$n("WeakMap.prototype.set",!0),k1=$n("WeakMap.prototype.has",!0),A1=$n("Map.prototype.get",!0),R1=$n("Map.prototype.set",!0),T1=$n("Map.prototype.has",!0),ja=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},O1=function(t,e){var r=ja(t,e);return r&&r.value},N1=function(t,e,r){var n=ja(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},L1=function(t,e){return!!ja(t,e)},B1=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new M1("Side channel does not contain "+E1(s))},get:function(s){if(Di&&s&&(typeof s=="object"||typeof s=="function")){if(e)return C1(e,s)}else if(Fi){if(r)return A1(r,s)}else if(n)return O1(n,s)},has:function(s){if(Di&&s&&(typeof s=="object"||typeof s=="function")){if(e)return k1(e,s)}else if(Fi){if(r)return T1(r,s)}else if(n)return L1(n,s);return!1},set:function(s,o){Di&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Di),I1(e,s,o)):Fi?(r||(r=new Fi),R1(r,s,o)):(n||(n={key:{},next:null}),N1(n,s,o))}};return i},P1=String.prototype.replace,D1=/%20/g,xo={RFC1738:"RFC1738",RFC3986:"RFC3986"},$a={default:xo.RFC3986,formatters:{RFC1738:function(t){return P1.call(t,D1,"+")},RFC3986:function(t){return String(t)}},RFC1738:xo.RFC1738,RFC3986:xo.RFC3986},F1=$a,Eo=Object.prototype.hasOwnProperty,Fr=Array.isArray,Ut=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),j1=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Fr(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},yf=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},$1=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Fr(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Eo.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Fr(e)&&!Fr(r)&&(i=yf(e,n)),Fr(e)&&Fr(r)?(r.forEach(function(s,o){if(Eo.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Eo.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},U1=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},W1=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},H1=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var a="",d=0;d<o.length;++d){var g=o.charCodeAt(d);if(g===45||g===46||g===95||g===126||g>=48&&g<=57||g>=65&&g<=90||g>=97&&g<=122||s===F1.RFC1738&&(g===40||g===41)){a+=o.charAt(d);continue}if(g<128){a=a+Ut[g];continue}if(g<2048){a=a+(Ut[192|g>>6]+Ut[128|g&63]);continue}if(g<55296||g>=57344){a=a+(Ut[224|g>>12]+Ut[128|g>>6&63]+Ut[128|g&63]);continue}d+=1,g=65536+((g&1023)<<10|o.charCodeAt(d)&1023),a+=Ut[240|g>>18]+Ut[128|g>>12&63]+Ut[128|g>>6&63]+Ut[128|g&63]}return a},z1=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),d=0;d<a.length;++d){var g=a[d],y=o[g];typeof y=="object"&&y!==null&&n.indexOf(y)===-1&&(r.push({obj:o,prop:g}),n.push(y))}return j1(r),e},V1=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},q1=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},G1=function(e,r){return[].concat(e,r)},Z1=function(e,r){if(Fr(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},bf={arrayToObject:yf,assign:U1,combine:G1,compact:z1,decode:W1,encode:H1,isBuffer:q1,isRegExp:V1,maybeMap:Z1,merge:$1},vf=B1,ha=bf,Xn=$a,Q1=Object.prototype.hasOwnProperty,Vu={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Jt=Array.isArray,K1=String.prototype.split,Y1=Array.prototype.push,mf=function(t,e){Y1.apply(t,Jt(e)?e:[e])},J1=Date.prototype.toISOString,qu=Xn.default,ft={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ha.encode,encodeValuesOnly:!1,format:qu,formatter:Xn.formatters[qu],indices:!1,serializeDate:function(e){return J1.call(e)},skipNulls:!1,strictNullHandling:!1},X1=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Mo={},em=function t(e,r,n,i,s,o,a,d,g,y,T,x,I,N,$,W){for(var k=e,L=W,F=0,H=!1;(L=L.get(Mo))!==void 0&&!H;){var K=L.get(e);if(F+=1,typeof K<"u"){if(K===F)throw new RangeError("Cyclic object value");H=!0}typeof L.get(Mo)>"u"&&(F=0)}if(typeof d=="function"?k=d(r,k):k instanceof Date?k=T(k):n==="comma"&&Jt(k)&&(k=ha.maybeMap(k,function(A){return A instanceof Date?T(A):A})),k===null){if(s)return a&&!N?a(r,ft.encoder,$,"key",x):r;k=""}if(X1(k)||ha.isBuffer(k)){if(a){var Y=N?r:a(r,ft.encoder,$,"key",x);if(n==="comma"&&N){for(var te=K1.call(String(k),","),X="",J=0;J<te.length;++J)X+=(J===0?"":",")+I(a(te[J],ft.encoder,$,"value",x));return[I(Y)+(i&&Jt(k)&&te.length===1?"[]":"")+"="+X]}return[I(Y)+"="+I(a(k,ft.encoder,$,"value",x))]}return[I(r)+"="+I(String(k))]}var ee=[];if(typeof k>"u")return ee;var re;if(n==="comma"&&Jt(k))re=[{value:k.length>0?k.join(",")||null:void 0}];else if(Jt(d))re=d;else{var ue=Object.keys(k);re=g?ue.sort(g):ue}for(var v=i&&Jt(k)&&k.length===1?r+"[]":r,u=0;u<re.length;++u){var h=re[u],b=typeof h=="object"&&typeof h.value<"u"?h.value:k[h];if(!(o&&b===null)){var w=Jt(k)?typeof n=="function"?n(v,h):v:v+(y?"."+h:"["+h+"]");W.set(e,F);var S=vf();S.set(Mo,W),mf(ee,t(b,w,n,i,s,o,a,d,g,y,T,x,I,N,$,S))}}return ee},tm=function(e){if(!e)return ft;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||ft.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Xn.default;if(typeof e.format<"u"){if(!Q1.call(Xn.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Xn.formatters[n],s=ft.filter;return(typeof e.filter=="function"||Jt(e.filter))&&(s=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:ft.addQueryPrefix,allowDots:typeof e.allowDots>"u"?ft.allowDots:!!e.allowDots,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ft.charsetSentinel,delimiter:typeof e.delimiter>"u"?ft.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:ft.encode,encoder:typeof e.encoder=="function"?e.encoder:ft.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:ft.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:ft.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:ft.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ft.strictNullHandling}},rm=function(t,e){var r=t,n=tm(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Jt(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in Vu?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var d=Vu[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var g=d==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var y=vf(),T=0;T<i.length;++T){var x=i[T];n.skipNulls&&r[x]===null||mf(o,em(r[x],x,d,g,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,y))}var I=o.join(n.delimiter),N=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?N+="utf8=%26%2310003%3B&":N+="utf8=%E2%9C%93&"),I.length>0?N+I:""},Cn=bf,da=Object.prototype.hasOwnProperty,nm=Array.isArray,ut={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Cn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},im=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},_f=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},sm="utf8=%26%2310003%3B",om="utf8=%E2%9C%93",am=function(e,r){var n={},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,d,g=r.charset;if(r.charsetSentinel)for(d=0;d<o.length;++d)o[d].indexOf("utf8=")===0&&(o[d]===om?g="utf-8":o[d]===sm&&(g="iso-8859-1"),a=d,d=o.length);for(d=0;d<o.length;++d)if(d!==a){var y=o[d],T=y.indexOf("]="),x=T===-1?y.indexOf("="):T+1,I,N;x===-1?(I=r.decoder(y,ut.decoder,g,"key"),N=r.strictNullHandling?null:""):(I=r.decoder(y.slice(0,x),ut.decoder,g,"key"),N=Cn.maybeMap(_f(y.slice(x+1),r),function($){return r.decoder($,ut.decoder,g,"value")})),N&&r.interpretNumericEntities&&g==="iso-8859-1"&&(N=im(N)),y.indexOf("[]=")>-1&&(N=nm(N)?[N]:N),da.call(n,I)?n[I]=Cn.combine(n[I],N):n[I]=N}return n},um=function(t,e,r,n){for(var i=n?e:_f(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var d=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,g=parseInt(d,10);!r.parseArrays&&d===""?o={0:i}:!isNaN(g)&&a!==d&&String(g)===d&&g>=0&&r.parseArrays&&g<=r.arrayLimit?(o=[],o[g]=i):d!=="__proto__"&&(o[d]=i)}i=o}return i},cm=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,d=n.depth>0&&o.exec(s),g=d?s.slice(0,d.index):s,y=[];if(g){if(!n.plainObjects&&da.call(Object.prototype,g)&&!n.allowPrototypes)return;y.push(g)}for(var T=0;n.depth>0&&(d=a.exec(s))!==null&&T<n.depth;){if(T+=1,!n.plainObjects&&da.call(Object.prototype,d[1].slice(1,-1))&&!n.allowPrototypes)return;y.push(d[1])}return d&&y.push("["+s.slice(d.index)+"]"),um(y,r,n,i)}},lm=function(e){if(!e)return ut;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ut.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?ut.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ut.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ut.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ut.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ut.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ut.comma,decoder:typeof e.decoder=="function"?e.decoder:ut.decoder,delimiter:typeof e.delimiter=="string"||Cn.isRegExp(e.delimiter)?e.delimiter:ut.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ut.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ut.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ut.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ut.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ut.strictNullHandling}},fm=function(t,e){var r=lm(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?am(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],d=cm(a,n[a],r,typeof t=="string");i=Cn.merge(i,d,r)}return r.allowSparse===!0?i:Cn.compact(i)},hm=rm,dm=fm,pm=$a,gm={formats:pm,parse:dm,stringify:hm},Mi={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProviderType=t.RegExpString=t.IntNumber=t.BigIntString=t.AddressString=t.HexString=t.OpaqueType=void 0;function e(){return n=>n}t.OpaqueType=e,t.HexString=e(),t.AddressString=e(),t.BigIntString=e();function r(n){return Math.floor(n)}t.IntNumber=r,t.RegExpString=e(),function(n){n.CoinbaseWallet="CoinbaseWallet",n.MetaMask="MetaMask",n.Unselected=""}(t.ProviderType||(t.ProviderType={}))})(Mi);var ym=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ie,"__esModule",{value:!0});ie.isInIFrame=ie.createQrUrl=ie.getFavicon=ie.range=ie.isBigNumber=ie.ensureParsedJSONObject=ie.ensureBN=ie.ensureRegExpString=ie.ensureIntNumber=ie.ensureBuffer=ie.ensureAddressString=ie.ensureEvenLengthHexString=ie.ensureHexString=ie.isHexString=ie.prepend0x=ie.strip0x=ie.has0xPrefix=ie.hexStringFromIntNumber=ie.intNumberFromHexString=ie.bigIntStringFromBN=ie.hexStringFromBuffer=ie.hexStringToUint8Array=ie.uint8ArrayToHex=ie.randomBytesHex=void 0;const lr=ym(di.exports),bm=gm,Nt=Mi,wf=/^[0-9]*$/,Sf=/^[a-f0-9]*$/;function vm(t){return xf(crypto.getRandomValues(new Uint8Array(t)))}ie.randomBytesHex=vm;function xf(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}ie.uint8ArrayToHex=xf;function mm(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>parseInt(e,16)))}ie.hexStringToUint8Array=mm;function _m(t,e=!1){const r=t.toString("hex");return(0,Nt.HexString)(e?"0x"+r:r)}ie.hexStringFromBuffer=_m;function wm(t){return(0,Nt.BigIntString)(t.toString(10))}ie.bigIntStringFromBN=wm;function Sm(t){return(0,Nt.IntNumber)(new lr.default(Ii(t,!1),16).toNumber())}ie.intNumberFromHexString=Sm;function xm(t){return(0,Nt.HexString)("0x"+new lr.default(t).toString(16))}ie.hexStringFromIntNumber=xm;function Ua(t){return t.startsWith("0x")||t.startsWith("0X")}ie.has0xPrefix=Ua;function Cs(t){return Ua(t)?t.slice(2):t}ie.strip0x=Cs;function Ef(t){return Ua(t)?"0x"+t.slice(2):"0x"+t}ie.prepend0x=Ef;function Ci(t){if(typeof t!="string")return!1;const e=Cs(t).toLowerCase();return Sf.test(e)}ie.isHexString=Ci;function Mf(t,e=!1){if(typeof t=="string"){const r=Cs(t).toLowerCase();if(Sf.test(r))return(0,Nt.HexString)(e?"0x"+r:r)}throw new Error(`"${String(t)}" is not a hexadecimal string`)}ie.ensureHexString=Mf;function Ii(t,e=!1){let r=Mf(t,!1);return r.length%2===1&&(r=(0,Nt.HexString)("0"+r)),e?(0,Nt.HexString)("0x"+r):r}ie.ensureEvenLengthHexString=Ii;function Em(t){if(typeof t=="string"){const e=Cs(t).toLowerCase();if(Ci(e)&&e.length===40)return(0,Nt.AddressString)(Ef(e))}throw new Error(`Invalid Ethereum address: ${String(t)}`)}ie.ensureAddressString=Em;function Mm(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string")if(Ci(t)){const e=Ii(t,!1);return Buffer.from(e,"hex")}else return Buffer.from(t,"utf8");throw new Error(`Not binary data: ${String(t)}`)}ie.ensureBuffer=Mm;function Cf(t){if(typeof t=="number"&&Number.isInteger(t))return(0,Nt.IntNumber)(t);if(typeof t=="string"){if(wf.test(t))return(0,Nt.IntNumber)(Number(t));if(Ci(t))return(0,Nt.IntNumber)(new lr.default(Ii(t,!1),16).toNumber())}throw new Error(`Not an integer: ${String(t)}`)}ie.ensureIntNumber=Cf;function Cm(t){if(t instanceof RegExp)return(0,Nt.RegExpString)(t.toString());throw new Error(`Not a RegExp: ${String(t)}`)}ie.ensureRegExpString=Cm;function Im(t){if(t!==null&&(lr.default.isBN(t)||If(t)))return new lr.default(t.toString(10),10);if(typeof t=="number")return new lr.default(Cf(t));if(typeof t=="string"){if(wf.test(t))return new lr.default(t,10);if(Ci(t))return new lr.default(Ii(t,!1),16)}throw new Error(`Not an integer: ${String(t)}`)}ie.ensureBN=Im;function km(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw new Error(`Not a JSON string or an object: ${String(t)}`)}ie.ensureParsedJSONObject=km;function If(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}ie.isBigNumber=If;function Am(t,e){return Array.from({length:e-t},(r,n)=>t+n)}ie.range=Am;function Rm(){const t=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:e,host:r}=document.location,n=t?t.getAttribute("href"):null;return!n||n.startsWith("javascript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?e+n:`${e}//${r}${n}`}ie.getFavicon=Rm;function Tm(t,e,r,n,i,s){const o=n?"parent-id":"id",a=(0,bm.stringify)({[o]:t,secret:e,server:r,v:i,chainId:s});return`${r}/#/link?${a}`}ie.createQrUrl=Tm;function Om(){try{return window.frameElement!==null}catch{return!1}}ie.isInIFrame=Om;Object.defineProperty(Ln,"__esModule",{value:!0});Ln.Session=void 0;const Nm=Fn,Gu=Ss,Zu=Yl.exports,Qu=ie,Co="session:id",Ku="session:secret",Yu="session:linked";class Wa{constructor(e,r,n,i){this._storage=e,this._id=r||(0,Qu.randomBytesHex)(16),this._secret=n||(0,Qu.randomBytesHex)(32),this._key=new Zu.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(e){const r=e.getItem(Co),n=e.getItem(Yu),i=e.getItem(Ku);return r&&i?new Wa(e,r,i,n==="1"):null}static get persistedSessionIdChange$(){return(0,Nm.fromEvent)(window,"storage").pipe((0,Gu.filter)(e=>e.key===Co),(0,Gu.map)(e=>({oldValue:e.oldValue||null,newValue:e.newValue||null})))}static hash(e){return new Zu.sha256().update(e).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this._storage.setItem(Co,this._id),this._storage.setItem(Ku,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(Yu,this._linked?"1":"0")}}Ln.Session=Wa;var jt={};Object.defineProperty(jt,"__esModule",{value:!0});jt.WalletSDKRelayAbstract=jt.APP_VERSION_KEY=jt.LOCAL_STORAGE_ADDRESSES_KEY=jt.WALLET_USER_NAME_KEY=void 0;const Ju=bs;jt.WALLET_USER_NAME_KEY="walletUsername";jt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";jt.APP_VERSION_KEY="AppVersion";class Lm{async makeEthereumJSONRPCRequest(e,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(e),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Ju.ethErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Ju.serializeError)(s);return i})}}jt.WalletSDKRelayAbstract=Lm;var os={exports:{}},kf=ps.exports.EventEmitter,Io,Xu;function Bm(){if(Xu)return Io;Xu=1;function t(x,I){var N=Object.keys(x);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(x);I&&($=$.filter(function(W){return Object.getOwnPropertyDescriptor(x,W).enumerable})),N.push.apply(N,$)}return N}function e(x){for(var I=1;I<arguments.length;I++){var N=arguments[I]!=null?arguments[I]:{};I%2?t(Object(N),!0).forEach(function($){r(x,$,N[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(N)):t(Object(N)).forEach(function($){Object.defineProperty(x,$,Object.getOwnPropertyDescriptor(N,$))})}return x}function r(x,I,N){return I in x?Object.defineProperty(x,I,{value:N,enumerable:!0,configurable:!0,writable:!0}):x[I]=N,x}function n(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function i(x,I){for(var N=0;N<I.length;N++){var $=I[N];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(x,$.key,$)}}function s(x,I,N){return I&&i(x.prototype,I),N&&i(x,N),x}var o=mi,a=o.Buffer,d=ds,g=d.inspect,y=g&&g.custom||"inspect";function T(x,I,N){a.prototype.copy.call(x,I,N)}return Io=function(){function x(){n(this,x),this.head=null,this.tail=null,this.length=0}return s(x,[{key:"push",value:function(N){var $={data:N,next:null};this.length>0?this.tail.next=$:this.head=$,this.tail=$,++this.length}},{key:"unshift",value:function(N){var $={data:N,next:this.head};this.length===0&&(this.tail=$),this.head=$,++this.length}},{key:"shift",value:function(){if(this.length!==0){var N=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,N}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(N){if(this.length===0)return"";for(var $=this.head,W=""+$.data;$=$.next;)W+=N+$.data;return W}},{key:"concat",value:function(N){if(this.length===0)return a.alloc(0);for(var $=a.allocUnsafe(N>>>0),W=this.head,k=0;W;)T(W.data,$,k),k+=W.data.length,W=W.next;return $}},{key:"consume",value:function(N,$){var W;return N<this.head.data.length?(W=this.head.data.slice(0,N),this.head.data=this.head.data.slice(N)):N===this.head.data.length?W=this.shift():W=$?this._getString(N):this._getBuffer(N),W}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(N){var $=this.head,W=1,k=$.data;for(N-=k.length;$=$.next;){var L=$.data,F=N>L.length?L.length:N;if(F===L.length?k+=L:k+=L.slice(0,N),N-=F,N===0){F===L.length?(++W,$.next?this.head=$.next:this.head=this.tail=null):(this.head=$,$.data=L.slice(F));break}++W}return this.length-=W,k}},{key:"_getBuffer",value:function(N){var $=a.allocUnsafe(N),W=this.head,k=1;for(W.data.copy($),N-=W.data.length;W=W.next;){var L=W.data,F=N>L.length?L.length:N;if(L.copy($,$.length-N,0,F),N-=F,N===0){F===L.length?(++k,W.next?this.head=W.next:this.head=this.tail=null):(this.head=W,W.data=L.slice(F));break}++k}return this.length-=k,$}},{key:y,value:function(N,$){return g(this,e({},$,{depth:0,customInspect:!1}))}}]),x}(),Io}function Pm(t,e){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(pa,this,t)):process.nextTick(pa,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(s){!e&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(Gi,r):(r._writableState.errorEmitted=!0,process.nextTick(ec,r,s)):process.nextTick(ec,r,s):e?(process.nextTick(Gi,r),e(s)):process.nextTick(Gi,r)}),this)}function ec(t,e){pa(t,e),Gi(t)}function Gi(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function Dm(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function pa(t,e){t.emit("error",e)}function Fm(t,e){var r=t._readableState,n=t._writableState;r&&r.autoDestroy||n&&n.autoDestroy?t.destroy(e):t.emit("error",e)}var Af={destroy:Pm,undestroy:Dm,errorOrDestroy:Fm},Kr={};function jm(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var Rf={};function Bt(t,e,r){r||(r=Error);function n(s,o,a){return typeof e=="string"?e:e(s,o,a)}var i=function(s){jm(o,s);function o(a,d,g){return s.call(this,n(a,d,g))||this}return o}(r);i.prototype.name=r.name,i.prototype.code=t,Rf[t]=i}function tc(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map(function(n){return String(n)}),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:r===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function $m(t,e,r){return t.substr(!r||r<0?0:+r,e.length)===e}function Um(t,e,r){return(r===void 0||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}function Wm(t,e,r){return typeof r!="number"&&(r=0),r+e.length>t.length?!1:t.indexOf(e,r)!==-1}Bt("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError);Bt("ERR_INVALID_ARG_TYPE",function(t,e,r){var n;typeof e=="string"&&$m(e,"not ")?(n="must not be",e=e.replace(/^not /,"")):n="must be";var i;if(Um(t," argument"))i="The ".concat(t," ").concat(n," ").concat(tc(e,"type"));else{var s=Wm(t,".")?"property":"argument";i='The "'.concat(t,'" ').concat(s," ").concat(n," ").concat(tc(e,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Bt("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Bt("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"});Bt("ERR_STREAM_PREMATURE_CLOSE","Premature close");Bt("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"});Bt("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Bt("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Bt("ERR_STREAM_WRITE_AFTER_END","write after end");Bt("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Bt("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError);Bt("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Kr.codes=Rf;var Hm=Kr.codes.ERR_INVALID_OPT_VALUE;function zm(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function Vm(t,e,r,n){var i=zm(e,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Hm(s,i)}return Math.floor(i)}return t.objectMode?16:16*1024}var Tf={getHighWaterMark:Vm},qm=Gm;function Gm(t,e){if(ko("noDeprecation"))return t;var r=!1;function n(){if(!r){if(ko("throwDeprecation"))throw new Error(e);ko("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}return n}function ko(t){try{if(!be.localStorage)return!1}catch{return!1}var e=be.localStorage[t];return e==null?!1:String(e).toLowerCase()==="true"}var Ao,rc;function Of(){if(rc)return Ao;rc=1,Ao=X;function t(R){var O=this;this.next=null,this.entry=null,this.finish=function(){V(O,R)}}var e;X.WritableState=Y;var r={deprecate:qm},n=kf,i=mi.Buffer,s=be.Uint8Array||function(){};function o(R){return i.from(R)}function a(R){return i.isBuffer(R)||R instanceof s}var d=Af,g=Tf,y=g.getHighWaterMark,T=Kr.codes,x=T.ERR_INVALID_ARG_TYPE,I=T.ERR_METHOD_NOT_IMPLEMENTED,N=T.ERR_MULTIPLE_CALLBACK,$=T.ERR_STREAM_CANNOT_PIPE,W=T.ERR_STREAM_DESTROYED,k=T.ERR_STREAM_NULL_VALUES,L=T.ERR_STREAM_WRITE_AFTER_END,F=T.ERR_UNKNOWN_ENCODING,H=d.errorOrDestroy;$t.exports(X,n);function K(){}function Y(R,O,j){e=e||In(),R=R||{},typeof j!="boolean"&&(j=O instanceof e),this.objectMode=!!R.objectMode,j&&(this.objectMode=this.objectMode||!!R.writableObjectMode),this.highWaterMark=y(this,R,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=R.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ne){b(O,ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=R.emitClose!==!1,this.autoDestroy=!!R.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}Y.prototype.getBuffer=function(){for(var O=this.bufferedRequest,j=[];O;)j.push(O),O=O.next;return j},function(){try{Object.defineProperty(Y.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var te;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(te=Function.prototype[Symbol.hasInstance],Object.defineProperty(X,Symbol.hasInstance,{value:function(O){return te.call(this,O)?!0:this!==X?!1:O&&O._writableState instanceof Y}})):te=function(O){return O instanceof this};function X(R){e=e||In();var O=this instanceof e;if(!O&&!te.call(X,this))return new X(R);this._writableState=new Y(R,this,O),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),n.call(this)}X.prototype.pipe=function(){H(this,new $)};function J(R,O){var j=new L;H(R,j),process.nextTick(O,j)}function ee(R,O,j,q){var ne;return j===null?ne=new k:typeof j!="string"&&!O.objectMode&&(ne=new x("chunk",["string","Buffer"],j)),ne?(H(R,ne),process.nextTick(q,ne),!1):!0}X.prototype.write=function(R,O,j){var q=this._writableState,ne=!1,M=!q.objectMode&&a(R);return M&&!i.isBuffer(R)&&(R=o(R)),typeof O=="function"&&(j=O,O=null),M?O="buffer":O||(O=q.defaultEncoding),typeof j!="function"&&(j=K),q.ending?J(this,j):(M||ee(this,q,R,j))&&(q.pendingcb++,ne=ue(this,q,M,R,O,j)),ne},X.prototype.cork=function(){this._writableState.corked++},X.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,!R.writing&&!R.corked&&!R.bufferProcessing&&R.bufferedRequest&&A(this,R))},X.prototype.setDefaultEncoding=function(O){if(typeof O=="string"&&(O=O.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((O+"").toLowerCase())>-1))throw new F(O);return this._writableState.defaultEncoding=O,this},Object.defineProperty(X.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function re(R,O,j){return!R.objectMode&&R.decodeStrings!==!1&&typeof O=="string"&&(O=i.from(O,j)),O}Object.defineProperty(X.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function ue(R,O,j,q,ne,M){if(!j){var C=re(O,q,ne);q!==C&&(j=!0,ne="buffer",q=C)}var z=O.objectMode?1:q.length;O.length+=z;var Q=O.length<O.highWaterMark;if(Q||(O.needDrain=!0),O.writing||O.corked){var fe=O.lastBufferedRequest;O.lastBufferedRequest={chunk:q,encoding:ne,isBuf:j,callback:M,next:null},fe?fe.next=O.lastBufferedRequest:O.bufferedRequest=O.lastBufferedRequest,O.bufferedRequestCount+=1}else v(R,O,!1,z,q,ne,M);return Q}function v(R,O,j,q,ne,M,C){O.writelen=q,O.writecb=C,O.writing=!0,O.sync=!0,O.destroyed?O.onwrite(new W("write")):j?R._writev(ne,O.onwrite):R._write(ne,M,O.onwrite),O.sync=!1}function u(R,O,j,q,ne){--O.pendingcb,j?(process.nextTick(ne,q),process.nextTick(_,R,O),R._writableState.errorEmitted=!0,H(R,q)):(ne(q),R._writableState.errorEmitted=!0,H(R,q),_(R,O))}function h(R){R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0}function b(R,O){var j=R._writableState,q=j.sync,ne=j.writecb;if(typeof ne!="function")throw new N;if(h(j),O)u(R,j,q,O,ne);else{var M=P(j)||R.destroyed;!M&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&A(R,j),q?process.nextTick(w,R,j,M,ne):w(R,j,M,ne)}}function w(R,O,j,q){j||S(R,O),O.pendingcb--,q(),_(R,O)}function S(R,O){O.length===0&&O.needDrain&&(O.needDrain=!1,R.emit("drain"))}function A(R,O){O.bufferProcessing=!0;var j=O.bufferedRequest;if(R._writev&&j&&j.next){var q=O.bufferedRequestCount,ne=new Array(q),M=O.corkedRequestsFree;M.entry=j;for(var C=0,z=!0;j;)ne[C]=j,j.isBuf||(z=!1),j=j.next,C+=1;ne.allBuffers=z,v(R,O,!0,O.length,ne,"",M.finish),O.pendingcb++,O.lastBufferedRequest=null,M.next?(O.corkedRequestsFree=M.next,M.next=null):O.corkedRequestsFree=new t(O),O.bufferedRequestCount=0}else{for(;j;){var Q=j.chunk,fe=j.encoding,ge=j.callback,oe=O.objectMode?1:Q.length;if(v(R,O,!1,oe,Q,fe,ge),j=j.next,O.bufferedRequestCount--,O.writing)break}j===null&&(O.lastBufferedRequest=null)}O.bufferedRequest=j,O.bufferProcessing=!1}X.prototype._write=function(R,O,j){j(new I("_write()"))},X.prototype._writev=null,X.prototype.end=function(R,O,j){var q=this._writableState;return typeof R=="function"?(j=R,R=null,O=null):typeof O=="function"&&(j=O,O=null),R!=null&&this.write(R,O),q.corked&&(q.corked=1,this.uncork()),q.ending||Z(this,q,j),this},Object.defineProperty(X.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function P(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function p(R,O){R._final(function(j){O.pendingcb--,j&&H(R,j),O.prefinished=!0,R.emit("prefinish"),_(R,O)})}function c(R,O){!O.prefinished&&!O.finalCalled&&(typeof R._final=="function"&&!O.destroyed?(O.pendingcb++,O.finalCalled=!0,process.nextTick(p,R,O)):(O.prefinished=!0,R.emit("prefinish")))}function _(R,O){var j=P(O);if(j&&(c(R,O),O.pendingcb===0&&(O.finished=!0,R.emit("finish"),O.autoDestroy))){var q=R._readableState;(!q||q.autoDestroy&&q.endEmitted)&&R.destroy()}return j}function Z(R,O,j){O.ending=!0,_(R,O),j&&(O.finished?process.nextTick(j):R.once("finish",j)),O.ended=!0,R.writable=!1}function V(R,O,j){var q=R.entry;for(R.entry=null;q;){var ne=q.callback;O.pendingcb--,ne(j),q=q.next}O.corkedRequestsFree.next=R}return Object.defineProperty(X.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(O){this._writableState&&(this._writableState.destroyed=O)}}),X.prototype.destroy=d.destroy,X.prototype._undestroy=d.undestroy,X.prototype._destroy=function(R,O){O(R)},Ao}var Ro,nc;function In(){if(nc)return Ro;nc=1;var t=Object.keys||function(g){var y=[];for(var T in g)y.push(T);return y};Ro=o;var e=Lf(),r=Of();$t.exports(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(g){if(!(this instanceof o))return new o(g);e.call(this,g),r.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",a)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function a(){this._writableState.ended||process.nextTick(d,this)}function d(g){g.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),Ro}var To={},ic;function sc(){if(ic)return To;ic=1;var t=Qt.exports.Buffer,e=t.isEncoding||function(k){switch(k=""+k,k&&k.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(k){if(!k)return"utf8";for(var L;;)switch(k){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return k;default:if(L)return;k=(""+k).toLowerCase(),L=!0}}function n(k){var L=r(k);if(typeof L!="string"&&(t.isEncoding===e||!e(k)))throw new Error("Unknown encoding: "+k);return L||k}To.StringDecoder=i;function i(k){this.encoding=n(k);var L;switch(this.encoding){case"utf16le":this.text=T,this.end=x,L=4;break;case"utf8":this.fillLast=d,L=4;break;case"base64":this.text=I,this.end=N,L=3;break;default:this.write=$,this.end=W;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(L)}i.prototype.write=function(k){if(k.length===0)return"";var L,F;if(this.lastNeed){if(L=this.fillLast(k),L===void 0)return"";F=this.lastNeed,this.lastNeed=0}else F=0;return F<k.length?L?L+this.text(k,F):this.text(k,F):L||""},i.prototype.end=y,i.prototype.text=g,i.prototype.fillLast=function(k){if(this.lastNeed<=k.length)return k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,this.lastTotal-this.lastNeed,0,k.length),this.lastNeed-=k.length};function s(k){return k<=127?0:k>>5===6?2:k>>4===14?3:k>>3===30?4:k>>6===2?-1:-2}function o(k,L,F){var H=L.length-1;if(H<F)return 0;var K=s(L[H]);return K>=0?(K>0&&(k.lastNeed=K-1),K):--H<F||K===-2?0:(K=s(L[H]),K>=0?(K>0&&(k.lastNeed=K-2),K):--H<F||K===-2?0:(K=s(L[H]),K>=0?(K>0&&(K===2?K=0:k.lastNeed=K-3),K):0))}function a(k,L,F){if((L[0]&192)!==128)return k.lastNeed=0,"";if(k.lastNeed>1&&L.length>1){if((L[1]&192)!==128)return k.lastNeed=1,"";if(k.lastNeed>2&&L.length>2&&(L[2]&192)!==128)return k.lastNeed=2,""}}function d(k){var L=this.lastTotal-this.lastNeed,F=a(this,k);if(F!==void 0)return F;if(this.lastNeed<=k.length)return k.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);k.copy(this.lastChar,L,0,k.length),this.lastNeed-=k.length}function g(k,L){var F=o(this,k,L);if(!this.lastNeed)return k.toString("utf8",L);this.lastTotal=F;var H=k.length-(F-this.lastNeed);return k.copy(this.lastChar,0,H),k.toString("utf8",L,H)}function y(k){var L=k&&k.length?this.write(k):"";return this.lastNeed?L+"":L}function T(k,L){if((k.length-L)%2===0){var F=k.toString("utf16le",L);if(F){var H=F.charCodeAt(F.length-1);if(H>=55296&&H<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1],F.slice(0,-1)}return F}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=k[k.length-1],k.toString("utf16le",L,k.length-1)}function x(k){var L=k&&k.length?this.write(k):"";if(this.lastNeed){var F=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,F)}return L}function I(k,L){var F=(k.length-L)%3;return F===0?k.toString("base64",L):(this.lastNeed=3-F,this.lastTotal=3,F===1?this.lastChar[0]=k[k.length-1]:(this.lastChar[0]=k[k.length-2],this.lastChar[1]=k[k.length-1]),k.toString("base64",L,k.length-F))}function N(k){var L=k&&k.length?this.write(k):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function $(k){return k.toString(this.encoding)}function W(k){return k&&k.length?this.write(k):""}return To}var oc=Kr.codes.ERR_STREAM_PREMATURE_CLOSE;function Zm(t){var e=!1;return function(){if(!e){e=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];t.apply(this,n)}}}function Qm(){}function Km(t){return t.setHeader&&typeof t.abort=="function"}function Nf(t,e,r){if(typeof e=="function")return Nf(t,null,e);e||(e={}),r=Zm(r||Qm);var n=e.readable||e.readable!==!1&&t.readable,i=e.writable||e.writable!==!1&&t.writable,s=function(){t.writable||a()},o=t._writableState&&t._writableState.finished,a=function(){i=!1,o=!0,n||r.call(t)},d=t._readableState&&t._readableState.endEmitted,g=function(){n=!1,d=!0,i||r.call(t)},y=function(N){r.call(t,N)},T=function(){var N;if(n&&!d)return(!t._readableState||!t._readableState.ended)&&(N=new oc),r.call(t,N);if(i&&!o)return(!t._writableState||!t._writableState.ended)&&(N=new oc),r.call(t,N)},x=function(){t.req.on("finish",a)};return Km(t)?(t.on("complete",a),t.on("abort",T),t.req?x():t.on("request",x)):i&&!t._writableState&&(t.on("end",s),t.on("close",s)),t.on("end",g),t.on("finish",a),e.error!==!1&&t.on("error",y),t.on("close",T),function(){t.removeListener("complete",a),t.removeListener("abort",T),t.removeListener("request",x),t.req&&t.req.removeListener("finish",a),t.removeListener("end",s),t.removeListener("close",s),t.removeListener("finish",a),t.removeListener("end",g),t.removeListener("error",y),t.removeListener("close",T)}}var Ha=Nf,Oo,ac;function Ym(){if(ac)return Oo;ac=1;var t;function e(k,L,F){return L in k?Object.defineProperty(k,L,{value:F,enumerable:!0,configurable:!0,writable:!0}):k[L]=F,k}var r=Ha,n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),o=Symbol("ended"),a=Symbol("lastPromise"),d=Symbol("handlePromise"),g=Symbol("stream");function y(k,L){return{value:k,done:L}}function T(k){var L=k[n];if(L!==null){var F=k[g].read();F!==null&&(k[a]=null,k[n]=null,k[i]=null,L(y(F,!1)))}}function x(k){process.nextTick(T,k)}function I(k,L){return function(F,H){k.then(function(){if(L[o]){F(y(void 0,!0));return}L[d](F,H)},H)}}var N=Object.getPrototypeOf(function(){}),$=Object.setPrototypeOf((t={get stream(){return this[g]},next:function(){var L=this,F=this[s];if(F!==null)return Promise.reject(F);if(this[o])return Promise.resolve(y(void 0,!0));if(this[g].destroyed)return new Promise(function(te,X){process.nextTick(function(){L[s]?X(L[s]):te(y(void 0,!0))})});var H=this[a],K;if(H)K=new Promise(I(H,this));else{var Y=this[g].read();if(Y!==null)return Promise.resolve(y(Y,!1));K=new Promise(this[d])}return this[a]=K,K}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var L=this;return new Promise(function(F,H){L[g].destroy(null,function(K){if(K){H(K);return}F(y(void 0,!0))})})}),t),N),W=function(L){var F,H=Object.create($,(F={},e(F,g,{value:L,writable:!0}),e(F,n,{value:null,writable:!0}),e(F,i,{value:null,writable:!0}),e(F,s,{value:null,writable:!0}),e(F,o,{value:L._readableState.endEmitted,writable:!0}),e(F,d,{value:function(Y,te){var X=H[g].read();X?(H[a]=null,H[n]=null,H[i]=null,Y(y(X,!1))):(H[n]=Y,H[i]=te)},writable:!0}),F));return H[a]=null,r(L,function(K){if(K&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=H[i];Y!==null&&(H[a]=null,H[n]=null,H[i]=null,Y(K)),H[s]=K;return}var te=H[n];te!==null&&(H[a]=null,H[n]=null,H[i]=null,te(y(void 0,!0))),H[o]=!0}),L.on("readable",x.bind(null,H)),H};return Oo=W,Oo}var No,uc;function Jm(){return uc||(uc=1,No=function(){throw new Error("Readable.from is not available in the browser")}),No}var Lo,cc;function Lf(){if(cc)return Lo;cc=1,Lo=J;var t;J.ReadableState=X,ps.exports.EventEmitter;var e=function(C,z){return C.listeners(z).length},r=kf,n=mi.Buffer,i=be.Uint8Array||function(){};function s(M){return n.from(M)}function o(M){return n.isBuffer(M)||M instanceof i}var a=ds,d;a&&a.debuglog?d=a.debuglog("stream"):d=function(){};var g=Bm(),y=Af,T=Tf,x=T.getHighWaterMark,I=Kr.codes,N=I.ERR_INVALID_ARG_TYPE,$=I.ERR_STREAM_PUSH_AFTER_EOF,W=I.ERR_METHOD_NOT_IMPLEMENTED,k=I.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,L,F,H;$t.exports(J,r);var K=y.errorOrDestroy,Y=["error","close","destroy","pause","resume"];function te(M,C,z){if(typeof M.prependListener=="function")return M.prependListener(C,z);!M._events||!M._events[C]?M.on(C,z):Array.isArray(M._events[C])?M._events[C].unshift(z):M._events[C]=[z,M._events[C]]}function X(M,C,z){t=t||In(),M=M||{},typeof z!="boolean"&&(z=C instanceof t),this.objectMode=!!M.objectMode,z&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=x(this,M,"readableHighWaterMark",z),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(L||(L=sc().StringDecoder),this.decoder=new L(M.encoding),this.encoding=M.encoding)}function J(M){if(t=t||In(),!(this instanceof J))return new J(M);var C=this instanceof t;this._readableState=new X(M,this,C),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),r.call(this)}Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),J.prototype.destroy=y.destroy,J.prototype._undestroy=y.undestroy,J.prototype._destroy=function(M,C){C(M)},J.prototype.push=function(M,C){var z=this._readableState,Q;return z.objectMode?Q=!0:typeof M=="string"&&(C=C||z.defaultEncoding,C!==z.encoding&&(M=n.from(M,C),C=""),Q=!0),ee(this,M,C,!1,Q)},J.prototype.unshift=function(M){return ee(this,M,null,!0,!1)};function ee(M,C,z,Q,fe){d("readableAddChunk",C);var ge=M._readableState;if(C===null)ge.reading=!1,b(M,ge);else{var oe;if(fe||(oe=ue(ge,C)),oe)K(M,oe);else if(ge.objectMode||C&&C.length>0)if(typeof C!="string"&&!ge.objectMode&&Object.getPrototypeOf(C)!==n.prototype&&(C=s(C)),Q)ge.endEmitted?K(M,new k):re(M,ge,C,!0);else if(ge.ended)K(M,new $);else{if(ge.destroyed)return!1;ge.reading=!1,ge.decoder&&!z?(C=ge.decoder.write(C),ge.objectMode||C.length!==0?re(M,ge,C,!1):A(M,ge)):re(M,ge,C,!1)}else Q||(ge.reading=!1,A(M,ge))}return!ge.ended&&(ge.length<ge.highWaterMark||ge.length===0)}function re(M,C,z,Q){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,M.emit("data",z)):(C.length+=C.objectMode?1:z.length,Q?C.buffer.unshift(z):C.buffer.push(z),C.needReadable&&w(M)),A(M,C)}function ue(M,C){var z;return!o(C)&&typeof C!="string"&&C!==void 0&&!M.objectMode&&(z=new N("chunk",["string","Buffer","Uint8Array"],C)),z}J.prototype.isPaused=function(){return this._readableState.flowing===!1},J.prototype.setEncoding=function(M){L||(L=sc().StringDecoder);var C=new L(M);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var z=this._readableState.buffer.head,Q="";z!==null;)Q+=C.write(z.data),z=z.next;return this._readableState.buffer.clear(),Q!==""&&this._readableState.buffer.push(Q),this._readableState.length=Q.length,this};var v=1073741824;function u(M){return M>=v?M=v:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}function h(M,C){return M<=0||C.length===0&&C.ended?0:C.objectMode?1:M!==M?C.flowing&&C.length?C.buffer.head.data.length:C.length:(M>C.highWaterMark&&(C.highWaterMark=u(M)),M<=C.length?M:C.ended?C.length:(C.needReadable=!0,0))}J.prototype.read=function(M){d("read",M),M=parseInt(M,10);var C=this._readableState,z=M;if(M!==0&&(C.emittedReadable=!1),M===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return d("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?j(this):w(this),null;if(M=h(M,C),M===0&&C.ended)return C.length===0&&j(this),null;var Q=C.needReadable;d("need readable",Q),(C.length===0||C.length-M<C.highWaterMark)&&(Q=!0,d("length less than watermark",Q)),C.ended||C.reading?(Q=!1,d("reading or ended",Q)):Q&&(d("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(M=h(z,C)));var fe;return M>0?fe=O(M,C):fe=null,fe===null?(C.needReadable=C.length<=C.highWaterMark,M=0):(C.length-=M,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),z!==M&&C.ended&&j(this)),fe!==null&&this.emit("data",fe),fe};function b(M,C){if(d("onEofChunk"),!C.ended){if(C.decoder){var z=C.decoder.end();z&&z.length&&(C.buffer.push(z),C.length+=C.objectMode?1:z.length)}C.ended=!0,C.sync?w(M):(C.needReadable=!1,C.emittedReadable||(C.emittedReadable=!0,S(M)))}}function w(M){var C=M._readableState;d("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(d("emitReadable",C.flowing),C.emittedReadable=!0,process.nextTick(S,M))}function S(M){var C=M._readableState;d("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&(C.length||C.ended)&&(M.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,R(M)}function A(M,C){C.readingMore||(C.readingMore=!0,process.nextTick(P,M,C))}function P(M,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var z=C.length;if(d("maybeReadMore read 0"),M.read(0),z===C.length)break}C.readingMore=!1}J.prototype._read=function(M){K(this,new W("_read()"))},J.prototype.pipe=function(M,C){var z=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=M;break;case 1:Q.pipes=[Q.pipes,M];break;default:Q.pipes.push(M);break}Q.pipesCount+=1,d("pipe count=%d opts=%j",Q.pipesCount,C);var fe=(!C||C.end!==!1)&&M!==process.stdout&&M!==process.stderr,ge=fe?xe:Me;Q.endEmitted?process.nextTick(ge):z.once("end",ge),M.on("unpipe",oe);function oe(m,l){d("onunpipe"),m===z&&l&&l.hasUnpiped===!1&&(l.hasUnpiped=!0,Ce())}function xe(){d("onend"),M.end()}var Ct=p(z);M.on("drain",Ct);var ke=!1;function Ce(){d("cleanup"),M.removeListener("close",Ae),M.removeListener("finish",st),M.removeListener("drain",Ct),M.removeListener("error",Ee),M.removeListener("unpipe",oe),z.removeListener("end",xe),z.removeListener("end",Me),z.removeListener("data",nt),ke=!0,Q.awaitDrain&&(!M._writableState||M._writableState.needDrain)&&Ct()}z.on("data",nt);function nt(m){d("ondata");var l=M.write(m);d("dest.write",l),l===!1&&((Q.pipesCount===1&&Q.pipes===M||Q.pipesCount>1&&ne(Q.pipes,M)!==-1)&&!ke&&(d("false write response, pause",Q.awaitDrain),Q.awaitDrain++),z.pause())}function Ee(m){d("onerror",m),Me(),M.removeListener("error",Ee),e(M,"error")===0&&K(M,m)}te(M,"error",Ee);function Ae(){M.removeListener("finish",st),Me()}M.once("close",Ae);function st(){d("onfinish"),M.removeListener("close",Ae),Me()}M.once("finish",st);function Me(){d("unpipe"),z.unpipe(M)}return M.emit("pipe",z),Q.flowing||(d("pipe resume"),z.resume()),M};function p(M){return function(){var z=M._readableState;d("pipeOnDrain",z.awaitDrain),z.awaitDrain&&z.awaitDrain--,z.awaitDrain===0&&e(M,"data")&&(z.flowing=!0,R(M))}}J.prototype.unpipe=function(M){var C=this._readableState,z={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return M&&M!==C.pipes?this:(M||(M=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,M&&M.emit("unpipe",this,z),this);if(!M){var Q=C.pipes,fe=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var ge=0;ge<fe;ge++)Q[ge].emit("unpipe",this,{hasUnpiped:!1});return this}var oe=ne(C.pipes,M);return oe===-1?this:(C.pipes.splice(oe,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),M.emit("unpipe",this,z),this)},J.prototype.on=function(M,C){var z=r.prototype.on.call(this,M,C),Q=this._readableState;return M==="data"?(Q.readableListening=this.listenerCount("readable")>0,Q.flowing!==!1&&this.resume()):M==="readable"&&!Q.endEmitted&&!Q.readableListening&&(Q.readableListening=Q.needReadable=!0,Q.flowing=!1,Q.emittedReadable=!1,d("on readable",Q.length,Q.reading),Q.length?w(this):Q.reading||process.nextTick(_,this)),z},J.prototype.addListener=J.prototype.on,J.prototype.removeListener=function(M,C){var z=r.prototype.removeListener.call(this,M,C);return M==="readable"&&process.nextTick(c,this),z},J.prototype.removeAllListeners=function(M){var C=r.prototype.removeAllListeners.apply(this,arguments);return(M==="readable"||M===void 0)&&process.nextTick(c,this),C};function c(M){var C=M._readableState;C.readableListening=M.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:M.listenerCount("data")>0&&M.resume()}function _(M){d("readable nexttick read 0"),M.read(0)}J.prototype.resume=function(){var M=this._readableState;return M.flowing||(d("resume"),M.flowing=!M.readableListening,Z(this,M)),M.paused=!1,this};function Z(M,C){C.resumeScheduled||(C.resumeScheduled=!0,process.nextTick(V,M,C))}function V(M,C){d("resume",C.reading),C.reading||M.read(0),C.resumeScheduled=!1,M.emit("resume"),R(M),C.flowing&&!C.reading&&M.read(0)}J.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function R(M){var C=M._readableState;for(d("flow",C.flowing);C.flowing&&M.read()!==null;);}J.prototype.wrap=function(M){var C=this,z=this._readableState,Q=!1;M.on("end",function(){if(d("wrapped end"),z.decoder&&!z.ended){var oe=z.decoder.end();oe&&oe.length&&C.push(oe)}C.push(null)}),M.on("data",function(oe){if(d("wrapped data"),z.decoder&&(oe=z.decoder.write(oe)),!(z.objectMode&&oe==null)&&!(!z.objectMode&&(!oe||!oe.length))){var xe=C.push(oe);xe||(Q=!0,M.pause())}});for(var fe in M)this[fe]===void 0&&typeof M[fe]=="function"&&(this[fe]=function(xe){return function(){return M[xe].apply(M,arguments)}}(fe));for(var ge=0;ge<Y.length;ge++)M.on(Y[ge],this.emit.bind(this,Y[ge]));return this._read=function(oe){d("wrapped _read",oe),Q&&(Q=!1,M.resume())},this},typeof Symbol=="function"&&(J.prototype[Symbol.asyncIterator]=function(){return F===void 0&&(F=Ym()),F(this)}),Object.defineProperty(J.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(J.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(J.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),J._fromList=O,Object.defineProperty(J.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function O(M,C){if(C.length===0)return null;var z;return C.objectMode?z=C.buffer.shift():!M||M>=C.length?(C.decoder?z=C.buffer.join(""):C.buffer.length===1?z=C.buffer.first():z=C.buffer.concat(C.length),C.buffer.clear()):z=C.buffer.consume(M,C.decoder),z}function j(M){var C=M._readableState;d("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,process.nextTick(q,C,M))}function q(M,C){if(d("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,C.readable=!1,C.emit("end"),M.autoDestroy)){var z=C._writableState;(!z||z.autoDestroy&&z.finished)&&C.destroy()}}typeof Symbol=="function"&&(J.from=function(M,C){return H===void 0&&(H=Jm()),H(J,M,C)});function ne(M,C){for(var z=0,Q=M.length;z<Q;z++)if(M[z]===C)return z;return-1}return Lo}var Bf=rr,Is=Kr.codes,Xm=Is.ERR_METHOD_NOT_IMPLEMENTED,e_=Is.ERR_MULTIPLE_CALLBACK,t_=Is.ERR_TRANSFORM_ALREADY_TRANSFORMING,r_=Is.ERR_TRANSFORM_WITH_LENGTH_0,ks=In();$t.exports(rr,ks);function n_(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new e_);r.writechunk=null,r.writecb=null,e!=null&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function rr(t){if(!(this instanceof rr))return new rr(t);ks.call(this,t),this._transformState={afterTransform:n_.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",i_)}function i_(){var t=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(e,r){lc(t,e,r)}):lc(this,null,null)}rr.prototype.push=function(t,e){return this._transformState.needTransform=!1,ks.prototype.push.call(this,t,e)};rr.prototype._transform=function(t,e,r){r(new Xm("_transform()"))};rr.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};rr.prototype._read=function(t){var e=this._transformState;e.writechunk!==null&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0};rr.prototype._destroy=function(t,e){ks.prototype._destroy.call(this,t,function(r){e(r)})};function lc(t,e,r){if(e)return t.emit("error",e);if(r!=null&&t.push(r),t._writableState.length)throw new r_;if(t._transformState.transforming)throw new t_;return t.push(null)}var s_=ci,Pf=Bf;$t.exports(ci,Pf);function ci(t){if(!(this instanceof ci))return new ci(t);Pf.call(this,t)}ci.prototype._transform=function(t,e,r){r(null,t)};var Bo;function o_(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}var Df=Kr.codes,a_=Df.ERR_MISSING_ARGS,u_=Df.ERR_STREAM_DESTROYED;function fc(t){if(t)throw t}function c_(t){return t.setHeader&&typeof t.abort=="function"}function l_(t,e,r,n){n=o_(n);var i=!1;t.on("close",function(){i=!0}),Bo===void 0&&(Bo=Ha),Bo(t,{readable:e,writable:r},function(o){if(o)return n(o);i=!0,n()});var s=!1;return function(o){if(!i&&!s){if(s=!0,c_(t))return t.abort();if(typeof t.destroy=="function")return t.destroy();n(o||new u_("pipe"))}}}function hc(t){t()}function f_(t,e){return t.pipe(e)}function h_(t){return!t.length||typeof t[t.length-1]!="function"?fc:t.pop()}function d_(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=h_(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new a_("streams");var i,s=e.map(function(o,a){var d=a<e.length-1,g=a>0;return l_(o,d,g,function(y){i||(i=y),y&&s.forEach(hc),!d&&(s.forEach(hc),n(i))})});return e.reduce(f_)}var p_=d_;(function(t,e){e=t.exports=Lf(),e.Stream=e,e.Readable=e,e.Writable=Of(),e.Duplex=In(),e.Transform=Bf,e.PassThrough=s_,e.finished=Ha,e.pipeline=p_})(os,os.exports);const{Transform:g_}=os.exports;var y_=t=>class Ff extends g_{constructor(r,n,i,s,o){super(o),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=o,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Ff(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:b_}=os.exports;var v_=t=>class jf extends b_{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new t,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(o){s=o}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new jf(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const m_=y_,__=v_;var w_=function(t){const e=m_(t),r=__(t);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new e(1152,448,null,224,i);case"keccak256":return new e(1088,512,null,256,i);case"keccak384":return new e(832,768,null,384,i);case"keccak512":return new e(576,1024,null,512,i);case"sha3-224":return new e(1152,448,6,224,i);case"sha3-256":return new e(1088,512,6,256,i);case"sha3-384":return new e(832,768,6,384,i);case"sha3-512":return new e(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},$f={};const dc=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];$f.p1600=function(t){for(let e=0;e<24;++e){const r=t[0]^t[10]^t[20]^t[30]^t[40],n=t[1]^t[11]^t[21]^t[31]^t[41],i=t[2]^t[12]^t[22]^t[32]^t[42],s=t[3]^t[13]^t[23]^t[33]^t[43],o=t[4]^t[14]^t[24]^t[34]^t[44],a=t[5]^t[15]^t[25]^t[35]^t[45],d=t[6]^t[16]^t[26]^t[36]^t[46],g=t[7]^t[17]^t[27]^t[37]^t[47],y=t[8]^t[18]^t[28]^t[38]^t[48],T=t[9]^t[19]^t[29]^t[39]^t[49];let x=y^(i<<1|s>>>31),I=T^(s<<1|i>>>31);const N=t[0]^x,$=t[1]^I,W=t[10]^x,k=t[11]^I,L=t[20]^x,F=t[21]^I,H=t[30]^x,K=t[31]^I,Y=t[40]^x,te=t[41]^I;x=r^(o<<1|a>>>31),I=n^(a<<1|o>>>31);const X=t[2]^x,J=t[3]^I,ee=t[12]^x,re=t[13]^I,ue=t[22]^x,v=t[23]^I,u=t[32]^x,h=t[33]^I,b=t[42]^x,w=t[43]^I;x=i^(d<<1|g>>>31),I=s^(g<<1|d>>>31);const S=t[4]^x,A=t[5]^I,P=t[14]^x,p=t[15]^I,c=t[24]^x,_=t[25]^I,Z=t[34]^x,V=t[35]^I,R=t[44]^x,O=t[45]^I;x=o^(y<<1|T>>>31),I=a^(T<<1|y>>>31);const j=t[6]^x,q=t[7]^I,ne=t[16]^x,M=t[17]^I,C=t[26]^x,z=t[27]^I,Q=t[36]^x,fe=t[37]^I,ge=t[46]^x,oe=t[47]^I;x=d^(r<<1|n>>>31),I=g^(n<<1|r>>>31);const xe=t[8]^x,Ct=t[9]^I,ke=t[18]^x,Ce=t[19]^I,nt=t[28]^x,Ee=t[29]^I,Ae=t[38]^x,st=t[39]^I,Me=t[48]^x,m=t[49]^I,l=N,f=$,E=k<<4|W>>>28,B=W<<4|k>>>28,D=L<<3|F>>>29,U=F<<3|L>>>29,de=K<<9|H>>>23,he=H<<9|K>>>23,ce=Y<<18|te>>>14,Re=te<<18|Y>>>14,ae=X<<1|J>>>31,Oe=J<<1|X>>>31,Jr=re<<12|ee>>>20,Ne=ee<<12|re>>>20,Le=ue<<10|v>>>22,Xr=v<<10|ue>>>22,Be=h<<13|u>>>19,Pe=u<<13|h>>>19,en=b<<2|w>>>30,De=w<<2|b>>>30,Fe=A<<30|S>>>2,tn=S<<30|A>>>2,je=P<<6|p>>>26,$e=p<<6|P>>>26,rn=_<<11|c>>>21,Ue=c<<11|_>>>21,We=Z<<15|V>>>17,nn=V<<15|Z>>>17,He=O<<29|R>>>3,ze=R<<29|O>>>3,sn=j<<28|q>>>4,Ve=q<<28|j>>>4,qe=M<<23|ne>>>9,on=ne<<23|M>>>9,Ge=C<<25|z>>>7,Ze=z<<25|C>>>7,Sr=Q<<21|fe>>>11,xr=fe<<21|Q>>>11,Er=oe<<24|ge>>>8,Mr=ge<<24|oe>>>8,Cr=xe<<27|Ct>>>5,Ir=Ct<<27|xe>>>5,kr=ke<<20|Ce>>>12,Ar=Ce<<20|ke>>>12,Rr=Ee<<7|nt>>>25,Tr=nt<<7|Ee>>>25,Or=Ae<<8|st>>>24,Nr=st<<8|Ae>>>24,Lr=Me<<14|m>>>18,Br=m<<14|Me>>>18;t[0]=l^~Jr&rn,t[1]=f^~Ne&Ue,t[10]=sn^~kr&D,t[11]=Ve^~Ar&U,t[20]=ae^~je&Ge,t[21]=Oe^~$e&Ze,t[30]=Cr^~E&Le,t[31]=Ir^~B&Xr,t[40]=Fe^~qe&Rr,t[41]=tn^~on&Tr,t[2]=Jr^~rn&Sr,t[3]=Ne^~Ue&xr,t[12]=kr^~D&Be,t[13]=Ar^~U&Pe,t[22]=je^~Ge&Or,t[23]=$e^~Ze&Nr,t[32]=E^~Le&We,t[33]=B^~Xr&nn,t[42]=qe^~Rr&de,t[43]=on^~Tr&he,t[4]=rn^~Sr&Lr,t[5]=Ue^~xr&Br,t[14]=D^~Be&He,t[15]=U^~Pe&ze,t[24]=Ge^~Or&ce,t[25]=Ze^~Nr&Re,t[34]=Le^~We&Er,t[35]=Xr^~nn&Mr,t[44]=Rr^~de&en,t[45]=Tr^~he&De,t[6]=Sr^~Lr&l,t[7]=xr^~Br&f,t[16]=Be^~He&sn,t[17]=Pe^~ze&Ve,t[26]=Or^~ce&ae,t[27]=Nr^~Re&Oe,t[36]=We^~Er&Cr,t[37]=nn^~Mr&Ir,t[46]=de^~en&Fe,t[47]=he^~De&tn,t[8]=Lr^~l&Jr,t[9]=Br^~f&Ne,t[18]=He^~sn&kr,t[19]=ze^~Ve&Ar,t[28]=ce^~ae&je,t[29]=Re^~Oe&$e,t[38]=Er^~Cr&E,t[39]=Mr^~Ir&B,t[48]=en^~Fe&qe,t[49]=De^~tn&on,t[0]^=dc[e*2],t[1]^=dc[e*2+1]}};const as=$f;function Un(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}Un.prototype.initialize=function(t,e){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=t/8,this.count=0,this.squeezing=!1};Un.prototype.absorb=function(t){for(let e=0;e<t.length;++e)this.state[~~(this.count/4)]^=t[e]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(as.p1600(this.state),this.count=0)};Un.prototype.absorbLastFewBits=function(t){this.state[~~(this.count/4)]^=t<<8*(this.count%4),t&128&&this.count===this.blockSize-1&&as.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),as.p1600(this.state),this.count=0,this.squeezing=!0};Un.prototype.squeeze=function(t){this.squeezing||this.absorbLastFewBits(1);const e=Buffer.alloc(t);for(let r=0;r<t;++r)e[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(as.p1600(this.state),this.count=0);return e};Un.prototype.copy=function(t){for(let e=0;e<50;++e)t.state[e]=this.state[e];t.blockSize=this.blockSize,t.count=this.count,t.squeezing=this.squeezing};var S_=Un,x_=w_(S_);const E_=x_,M_=di.exports;function Uf(t){return Buffer.allocUnsafe(t).fill(0)}function Wf(t,e,r){const n=Uf(e);return t=As(t),r?t.length<e?(t.copy(n),n):t.slice(0,e):t.length<e?(t.copy(n,e-t.length),n):t.slice(-e)}function C_(t,e){return Wf(t,e,!0)}function As(t){if(!Buffer.isBuffer(t))if(Array.isArray(t))t=Buffer.from(t);else if(typeof t=="string")Hf(t)?t=Buffer.from(A_(zf(t)),"hex"):t=Buffer.from(t);else if(typeof t=="number")t=intToBuffer(t);else if(t==null)t=Buffer.allocUnsafe(0);else if(M_.isBN(t))t=t.toArrayLike(Buffer);else if(t.toArray)t=Buffer.from(t.toArray());else throw new Error("invalid type");return t}function I_(t){return t=As(t),"0x"+t.toString("hex")}function k_(t,e){return t=As(t),e||(e=256),E_("keccak"+e).update(t).digest()}function A_(t){return t.length%2?"0"+t:t}function Hf(t){return typeof t=="string"&&t.match(/^0x[0-9A-Fa-f]*$/)}function zf(t){return typeof t=="string"&&t.startsWith("0x")?t.slice(2):t}var Vf={zeros:Uf,setLength:Wf,setLengthRight:C_,isHexString:Hf,stripHexPrefix:zf,toBuffer:As,bufferToHex:I_,keccak:k_};const Gr=Vf,Wr=di.exports;function qf(t){return t.startsWith("int[")?"int256"+t.slice(3):t==="int"?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):t==="uint"?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):t==="fixed"?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):t==="ufixed"?"ufixed128x128":t}function bn(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function pc(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function Gf(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?e[2]===""?"dynamic":parseInt(e[2],10):null}function jr(t){var e=typeof t;if(e==="string")return Gr.isHexString(t)?new Wr(Gr.stripHexPrefix(t),16):new Wr(t,10);if(e==="number")return new Wr(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function zt(t,e){var r,n,i,s;if(t==="address")return zt("uint160",jr(e));if(t==="bool")return zt("uint8",e?1:0);if(t==="string")return zt("bytes",new Buffer(e,"utf8"));if(T_(t)){if(typeof e.length>"u")throw new Error("Not an array?");if(r=Gf(t),r!=="dynamic"&&r!==0&&e.length>r)throw new Error("Elements exceed array size: "+r);i=[],t=t.slice(0,t.lastIndexOf("[")),typeof e=="string"&&(e=JSON.parse(e));for(s in e)i.push(zt(t,e[s]));if(r==="dynamic"){var o=zt("uint256",e.length);i.unshift(o)}return Buffer.concat(i)}else{if(t==="bytes")return e=new Buffer(e),i=Buffer.concat([zt("uint256",e.length),e]),e.length%32!==0&&(i=Buffer.concat([i,Gr.zeros(32-e.length%32)])),i;if(t.startsWith("bytes")){if(r=bn(t),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return Gr.setLengthRight(e,32)}else if(t.startsWith("uint")){if(r=bn(t),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=jr(e),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(t.startsWith("int")){if(r=bn(t),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=jr(e),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(t.startsWith("ufixed")){if(r=pc(t),n=jr(e),n<0)throw new Error("Supplied ufixed is negative");return zt("uint256",n.mul(new Wr(2).pow(new Wr(r[1]))))}else if(t.startsWith("fixed"))return r=pc(t),zt("int256",jr(e).mul(new Wr(2).pow(new Wr(r[1]))))}throw new Error("Unsupported or invalid type: "+t)}function R_(t){return t==="string"||t==="bytes"||Gf(t)==="dynamic"}function T_(t){return t.lastIndexOf("]")===t.length-1}function O_(t,e){var r=[],n=[],i=32*t.length;for(var s in t){var o=qf(t[s]),a=e[s],d=zt(o,a);R_(o)?(r.push(zt("uint256",i)),n.push(d),i+=d.length):r.push(d)}return Buffer.concat(r.concat(n))}function Zf(t,e){if(t.length!==e.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<t.length;s++){var o=qf(t[s]),a=e[s];if(o==="bytes")i.push(a);else if(o==="string")i.push(new Buffer(a,"utf8"));else if(o==="bool")i.push(new Buffer(a?"01":"00","hex"));else if(o==="address")i.push(Gr.setLength(a,20));else if(o.startsWith("bytes")){if(r=bn(o),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(Gr.setLengthRight(a,r))}else if(o.startsWith("uint")){if(r=bn(o),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=jr(a),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(o.startsWith("int")){if(r=bn(o),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=jr(a),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+o)}return Buffer.concat(i)}function N_(t,e){return Gr.keccak(Zf(t,e))}var L_={rawEncode:O_,solidityPack:Zf,soliditySHA3:N_};const Dt=Vf,ei=L_,Qf={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},Po={encodeData(t,e,r,n=!0){const i=["bytes32"],s=[this.hashType(t,r)];if(n){const o=(a,d,g)=>{if(r[d]!==void 0)return["bytes32",g==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Dt.keccak(this.encodeData(d,g,r,n))];if(g===void 0)throw new Error(`missing value for field ${a} of type ${d}`);if(d==="bytes")return["bytes32",Dt.keccak(g)];if(d==="string")return typeof g=="string"&&(g=Buffer.from(g,"utf8")),["bytes32",Dt.keccak(g)];if(d.lastIndexOf("]")===d.length-1){const y=d.slice(0,d.lastIndexOf("[")),T=g.map(x=>o(a,y,x));return["bytes32",Dt.keccak(ei.rawEncode(T.map(([x])=>x),T.map(([,x])=>x)))]}return[d,g]};for(const a of r[t]){const[d,g]=o(a.name,a.type,e[a.name]);i.push(d),s.push(g)}}else for(const o of r[t]){let a=e[o.name];if(a!==void 0)if(o.type==="bytes")i.push("bytes32"),a=Dt.keccak(a),s.push(a);else if(o.type==="string")i.push("bytes32"),typeof a=="string"&&(a=Buffer.from(a,"utf8")),a=Dt.keccak(a),s.push(a);else if(r[o.type]!==void 0)i.push("bytes32"),a=Dt.keccak(this.encodeData(o.type,a,r,n)),s.push(a);else{if(o.type.lastIndexOf("]")===o.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(o.type),s.push(a)}}return ei.rawEncode(i,s)},encodeType(t,e){let r="",n=this.findTypeDependencies(t,e).filter(i=>i!==t);n=[t].concat(n.sort());for(const i of n){if(!e[i])throw new Error("No type definition specified: "+i);r+=i+"("+e[i].map(({name:o,type:a})=>a+" "+o).join(",")+")"}return r},findTypeDependencies(t,e,r=[]){if(t=t.match(/^\w*/)[0],r.includes(t)||e[t]===void 0)return r;r.push(t);for(const n of e[t])for(const i of this.findTypeDependencies(n.type,e,r))!r.includes(i)&&r.push(i);return r},hashStruct(t,e,r,n=!0){return Dt.keccak(this.encodeData(t,e,r,n))},hashType(t,e){return Dt.keccak(this.encodeType(t,e))},sanitizeData(t){const e={};for(const r in Qf.properties)t[r]&&(e[r]=t[r]);return e.types&&(e.types=Object.assign({EIP712Domain:[]},e.types)),e},hash(t,e=!0){const r=this.sanitizeData(t),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,e)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,e)),Dt.keccak(Buffer.concat(n))}};var B_={TYPED_MESSAGE_SCHEMA:Qf,TypedDataUtils:Po,hashForSignTypedDataLegacy:function(t){return P_(t.data)},hashForSignTypedData_v3:function(t){return Po.hash(t.data,!1)},hashForSignTypedData_v4:function(t){return Po.hash(t.data)}};function P_(t){const e=new Error("Expect argument to be non-empty array");if(typeof t!="object"||!t.length)throw e;const r=t.map(function(s){return s.type==="bytes"?Dt.toBuffer(s.value):s.value}),n=t.map(function(s){return s.type}),i=t.map(function(s){if(!s.name)throw e;return s.type+" "+s.name});return ei.soliditySHA3(["bytes32","bytes32"],[ei.soliditySHA3(new Array(t.length).fill("string"),i),ei.soliditySHA3(n,r)])}var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.filterFromParam=kn.FilterPolyfill=void 0;const fn=Mi,mt=ie,D_=5*60*1e3,$r={jsonrpc:"2.0",id:0};class F_{constructor(e){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,fn.IntNumber)(1),this.provider=e}async newFilter(e){const r=Kf(e),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.log(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,mt.hexStringFromIntNumber)(n)}async newBlockFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.blockFilters.add(e),this.setFilterTimeout(e),(0,mt.hexStringFromIntNumber)(e)}async newPendingTransactionFilter(){const e=this.makeFilterId(),r=await this.setInitialCursorPosition(e,"latest");return console.log(`Installing new block filter (${e}) with initial cursor position:`,r),this.pendingTransactionFilters.add(e),this.setFilterTimeout(e),(0,mt.hexStringFromIntNumber)(e)}uninstallFilter(e){const r=(0,mt.intNumberFromHexString)(e);return console.log(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(e){const r=(0,mt.intNumberFromHexString)(e);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(ji())}async getFilterLogs(e){const r=(0,mt.intNumberFromHexString)(e),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},$r),{method:"eth_getLogs",params:[gc(n)]})):ji()}makeFilterId(){return(0,fn.IntNumber)(++this.nextFilterId)}sendAsyncPromise(e){return new Promise((r,n)=>{this.provider.sendAsync(e,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(e){console.log(`Deleting filter (${e})`),this.logFilters.delete(e),this.blockFilters.delete(e),this.pendingTransactionFilters.delete(e),this.cursors.delete(e),this.timeouts.delete(e)}async getLogFilterChanges(e){const r=this.logFilters.get(e),n=this.cursors.get(e);if(!n||!r)return ji();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>r.toBlock)return $i();console.log(`Fetching logs from ${n} to ${s} for filter ${e}`);const o=await this.sendAsyncPromise(Object.assign(Object.assign({},$r),{method:"eth_getLogs",params:[gc(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(o.result)){const a=o.result.map(g=>(0,mt.intNumberFromHexString)(g.blockNumber||"0x0")),d=Math.max(...a);if(d&&d>n){const g=(0,fn.IntNumber)(d+1);console.log(`Moving cursor position for filter (${e}) from ${n} to ${g}`),this.cursors.set(e,g)}}return o}async getBlockFilterChanges(e){const r=this.cursors.get(e);if(!r)return ji();const n=await this.getCurrentBlockHeight();if(r>n)return $i();console.log(`Fetching blocks from ${r} to ${n} for filter (${e})`);const i=(await Promise.all((0,mt.range)(r,n+1).map(o=>this.getBlockHashByNumber((0,fn.IntNumber)(o))))).filter(o=>!!o),s=(0,fn.IntNumber)(r+i.length);return console.log(`Moving cursor position for filter (${e}) from ${r} to ${s}`),this.cursors.set(e,s),Object.assign(Object.assign({},$r),{result:i})}async getPendingTransactionFilterChanges(e){return Promise.resolve($i())}async setInitialCursorPosition(e,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(e,i),i}setFilterTimeout(e){const r=this.timeouts.get(e);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.log(`Filter (${e}) timed out`),this.deleteFilter(e)},D_);this.timeouts.set(e,n)}async getCurrentBlockHeight(){const{result:e}=await this.sendAsyncPromise(Object.assign(Object.assign({},$r),{method:"eth_blockNumber",params:[]}));return(0,mt.intNumberFromHexString)((0,mt.ensureHexString)(e))}async getBlockHashByNumber(e){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},$r),{method:"eth_getBlockByNumber",params:[(0,mt.hexStringFromIntNumber)(e),!1]}));return r.result&&typeof r.result.hash=="string"?(0,mt.ensureHexString)(r.result.hash):null}}kn.FilterPolyfill=F_;function Kf(t){return{fromBlock:yc(t.fromBlock),toBlock:yc(t.toBlock),addresses:t.address===void 0?null:Array.isArray(t.address)?t.address:[t.address],topics:t.topics||[]}}kn.filterFromParam=Kf;function gc(t){const e={fromBlock:bc(t.fromBlock),toBlock:bc(t.toBlock),topics:t.topics};return t.addresses!==null&&(e.address=t.addresses),e}function yc(t){if(t===void 0||t==="latest"||t==="pending")return"latest";if(t==="earliest")return(0,fn.IntNumber)(0);if((0,mt.isHexString)(t))return(0,mt.intNumberFromHexString)(t);throw new Error(`Invalid block option: ${String(t)}`)}function bc(t){return t==="latest"?t:(0,mt.hexStringFromIntNumber)(t)}function ji(){return Object.assign(Object.assign({},$r),{error:{code:-32e3,message:"filter not found"}})}function $i(){return Object.assign(Object.assign({},$r),{result:[]})}var Yf={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.JSONRPCMethod=void 0,function(e){e.eth_accounts="eth_accounts",e.eth_coinbase="eth_coinbase",e.net_version="net_version",e.eth_chainId="eth_chainId",e.eth_uninstallFilter="eth_uninstallFilter",e.eth_requestAccounts="eth_requestAccounts",e.eth_sign="eth_sign",e.eth_ecRecover="eth_ecRecover",e.personal_sign="personal_sign",e.personal_ecRecover="personal_ecRecover",e.eth_signTransaction="eth_signTransaction",e.eth_sendRawTransaction="eth_sendRawTransaction",e.eth_sendTransaction="eth_sendTransaction",e.eth_signTypedData_v1="eth_signTypedData_v1",e.eth_signTypedData_v2="eth_signTypedData_v2",e.eth_signTypedData_v3="eth_signTypedData_v3",e.eth_signTypedData_v4="eth_signTypedData_v4",e.eth_signTypedData="eth_signTypedData",e.cbWallet_arbitrary="walletlink_arbitrary",e.wallet_addEthereumChain="wallet_addEthereumChain",e.wallet_switchEthereumChain="wallet_switchEthereumChain",e.wallet_watchAsset="wallet_watchAsset",e.eth_subscribe="eth_subscribe",e.eth_unsubscribe="eth_unsubscribe",e.eth_newFilter="eth_newFilter",e.eth_newBlockFilter="eth_newBlockFilter",e.eth_newPendingTransactionFilter="eth_newPendingTransactionFilter",e.eth_getFilterChanges="eth_getFilterChanges",e.eth_getFilterLogs="eth_getFilterLogs"}(t.JSONRPCMethod||(t.JSONRPCMethod={}))})(Yf);var Rs={};const vc=(t,e)=>function(){const r=e.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{e.errorFirst?n.push(function(o,a){if(e.multiArgs){const d=new Array(arguments.length-1);for(let g=1;g<arguments.length;g++)d[g-1]=arguments[g];o?(d.unshift(o),s(d)):i(d)}else o?s(o):i(a)}):n.push(function(o){if(e.multiArgs){const a=new Array(arguments.length-1);for(let d=0;d<arguments.length;d++)a[d]=arguments[d];i(a)}else i(o)}),t.apply(this,n)})};var j_=(t,e)=>{e=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},e);const r=i=>{const s=o=>typeof o=="string"?i===o:o.test(i);return e.include?e.include.some(s):!e.exclude.some(s)};let n;typeof t=="function"?n=function(){return e.excludeMain?t.apply(this,arguments):vc(t,e).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(t));for(const i in t){const s=t[i];n[i]=typeof s=="function"&&r(i)?vc(s,e):s}return n},$_=W_,U_=Object.prototype.hasOwnProperty;function W_(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var n in r)U_.call(r,n)&&(t[n]=r[n])}return t}var H_=z_;function z_(t){t=t||{};var e=t.max||Number.MAX_SAFE_INTEGER,r=typeof t.start<"u"?t.start:Math.floor(Math.random()*e);return function(){return r=r%e,r++}}const V_=$_,q_=H_();var G_=pe;function pe(t){const e=this;e.currentProvider=t}pe.prototype.getBalance=ki(2,"eth_getBalance");pe.prototype.getCode=ki(2,"eth_getCode");pe.prototype.getTransactionCount=ki(2,"eth_getTransactionCount");pe.prototype.getStorageAt=ki(3,"eth_getStorageAt");pe.prototype.call=ki(2,"eth_call");pe.prototype.protocolVersion=_e("eth_protocolVersion");pe.prototype.syncing=_e("eth_syncing");pe.prototype.coinbase=_e("eth_coinbase");pe.prototype.mining=_e("eth_mining");pe.prototype.hashrate=_e("eth_hashrate");pe.prototype.gasPrice=_e("eth_gasPrice");pe.prototype.accounts=_e("eth_accounts");pe.prototype.blockNumber=_e("eth_blockNumber");pe.prototype.getBlockTransactionCountByHash=_e("eth_getBlockTransactionCountByHash");pe.prototype.getBlockTransactionCountByNumber=_e("eth_getBlockTransactionCountByNumber");pe.prototype.getUncleCountByBlockHash=_e("eth_getUncleCountByBlockHash");pe.prototype.getUncleCountByBlockNumber=_e("eth_getUncleCountByBlockNumber");pe.prototype.sign=_e("eth_sign");pe.prototype.sendTransaction=_e("eth_sendTransaction");pe.prototype.sendRawTransaction=_e("eth_sendRawTransaction");pe.prototype.estimateGas=_e("eth_estimateGas");pe.prototype.getBlockByHash=_e("eth_getBlockByHash");pe.prototype.getBlockByNumber=_e("eth_getBlockByNumber");pe.prototype.getTransactionByHash=_e("eth_getTransactionByHash");pe.prototype.getTransactionByBlockHashAndIndex=_e("eth_getTransactionByBlockHashAndIndex");pe.prototype.getTransactionByBlockNumberAndIndex=_e("eth_getTransactionByBlockNumberAndIndex");pe.prototype.getTransactionReceipt=_e("eth_getTransactionReceipt");pe.prototype.getUncleByBlockHashAndIndex=_e("eth_getUncleByBlockHashAndIndex");pe.prototype.getUncleByBlockNumberAndIndex=_e("eth_getUncleByBlockNumberAndIndex");pe.prototype.getCompilers=_e("eth_getCompilers");pe.prototype.compileLLL=_e("eth_compileLLL");pe.prototype.compileSolidity=_e("eth_compileSolidity");pe.prototype.compileSerpent=_e("eth_compileSerpent");pe.prototype.newFilter=_e("eth_newFilter");pe.prototype.newBlockFilter=_e("eth_newBlockFilter");pe.prototype.newPendingTransactionFilter=_e("eth_newPendingTransactionFilter");pe.prototype.uninstallFilter=_e("eth_uninstallFilter");pe.prototype.getFilterChanges=_e("eth_getFilterChanges");pe.prototype.getFilterLogs=_e("eth_getFilterLogs");pe.prototype.getLogs=_e("eth_getLogs");pe.prototype.getWork=_e("eth_getWork");pe.prototype.submitWork=_e("eth_submitWork");pe.prototype.submitHashrate=_e("eth_submitHashrate");pe.prototype.sendAsync=function(t,e){this.currentProvider.sendAsync(Z_(t),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return e(n);e(null,i.result)})};function _e(t){return function(){const e=this;var r=[].slice.call(arguments),n=r.pop();e.sendAsync({method:t,params:r},n)}}function ki(t,e){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<t&&n.push("latest"),r.sendAsync({method:e,params:n},i)}}function Z_(t){return V_({id:q_(),jsonrpc:"2.0",params:[]},t)}var Jf={},Q_=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},ga={exports:{}};typeof Object.create=="function"?ga.exports=function(e,r){e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:ga.exports=function(e,r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e};(function(t){var e=Object.getOwnPropertyDescriptors||function(c){for(var _=Object.keys(c),Z={},V=0;V<_.length;V++)Z[_[V]]=Object.getOwnPropertyDescriptor(c,_[V]);return Z},r=/%[sdj%]/g;t.format=function(p){if(!H(p)){for(var c=[],_=0;_<arguments.length;_++)c.push(s(arguments[_]));return c.join(" ")}for(var _=1,Z=arguments,V=Z.length,R=String(p).replace(r,function(j){if(j==="%%")return"%";if(_>=V)return j;switch(j){case"%s":return String(Z[_++]);case"%d":return Number(Z[_++]);case"%j":try{return JSON.stringify(Z[_++])}catch{return"[Circular]"}default:return j}}),O=Z[_];_<V;O=Z[++_])k(O)||!X(O)?R+=" "+O:R+=" "+s(O);return R},t.deprecate=function(p,c){if(typeof process<"u"&&process.noDeprecation===!0)return p;if(typeof process>"u")return function(){return t.deprecate(p,c).apply(this,arguments)};var _=!1;function Z(){if(!_){if(process.throwDeprecation)throw new Error(c);process.traceDeprecation?console.trace(c):console.error(c),_=!0}return p.apply(this,arguments)}return Z};var n={},i;t.debuglog=function(p){if(Y(i)&&(i={}.NODE_DEBUG||""),p=p.toUpperCase(),!n[p])if(new RegExp("\\b"+p+"\\b","i").test(i)){var c=process.pid;n[p]=function(){var _=t.format.apply(t,arguments);console.error("%s %d: %s",p,c,_)}}else n[p]=function(){};return n[p]};function s(p,c){var _={seen:[],stylize:a};return arguments.length>=3&&(_.depth=arguments[2]),arguments.length>=4&&(_.colors=arguments[3]),W(c)?_.showHidden=c:c&&t._extend(_,c),Y(_.showHidden)&&(_.showHidden=!1),Y(_.depth)&&(_.depth=2),Y(_.colors)&&(_.colors=!1),Y(_.customInspect)&&(_.customInspect=!0),_.colors&&(_.stylize=o),g(_,p,_.depth)}t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(p,c){var _=s.styles[c];return _?"\x1B["+s.colors[_][0]+"m"+p+"\x1B["+s.colors[_][1]+"m":p}function a(p,c){return p}function d(p){var c={};return p.forEach(function(_,Z){c[_]=!0}),c}function g(p,c,_){if(p.customInspect&&c&&re(c.inspect)&&c.inspect!==t.inspect&&!(c.constructor&&c.constructor.prototype===c)){var Z=c.inspect(_,p);return H(Z)||(Z=g(p,Z,_)),Z}var V=y(p,c);if(V)return V;var R=Object.keys(c),O=d(R);if(p.showHidden&&(R=Object.getOwnPropertyNames(c)),ee(c)&&(R.indexOf("message")>=0||R.indexOf("description")>=0))return T(c);if(R.length===0){if(re(c)){var j=c.name?": "+c.name:"";return p.stylize("[Function"+j+"]","special")}if(te(c))return p.stylize(RegExp.prototype.toString.call(c),"regexp");if(J(c))return p.stylize(Date.prototype.toString.call(c),"date");if(ee(c))return T(c)}var q="",ne=!1,M=["{","}"];if($(c)&&(ne=!0,M=["[","]"]),re(c)){var C=c.name?": "+c.name:"";q=" [Function"+C+"]"}if(te(c)&&(q=" "+RegExp.prototype.toString.call(c)),J(c)&&(q=" "+Date.prototype.toUTCString.call(c)),ee(c)&&(q=" "+T(c)),R.length===0&&(!ne||c.length==0))return M[0]+q+M[1];if(_<0)return te(c)?p.stylize(RegExp.prototype.toString.call(c),"regexp"):p.stylize("[Object]","special");p.seen.push(c);var z;return ne?z=x(p,c,_,O,R):z=R.map(function(Q){return I(p,c,_,O,Q,ne)}),p.seen.pop(),N(z,q,M)}function y(p,c){if(Y(c))return p.stylize("undefined","undefined");if(H(c)){var _="'"+JSON.stringify(c).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return p.stylize(_,"string")}if(F(c))return p.stylize(""+c,"number");if(W(c))return p.stylize(""+c,"boolean");if(k(c))return p.stylize("null","null")}function T(p){return"["+Error.prototype.toString.call(p)+"]"}function x(p,c,_,Z,V){for(var R=[],O=0,j=c.length;O<j;++O)w(c,String(O))?R.push(I(p,c,_,Z,String(O),!0)):R.push("");return V.forEach(function(q){q.match(/^\d+$/)||R.push(I(p,c,_,Z,q,!0))}),R}function I(p,c,_,Z,V,R){var O,j,q;if(q=Object.getOwnPropertyDescriptor(c,V)||{value:c[V]},q.get?q.set?j=p.stylize("[Getter/Setter]","special"):j=p.stylize("[Getter]","special"):q.set&&(j=p.stylize("[Setter]","special")),w(Z,V)||(O="["+V+"]"),j||(p.seen.indexOf(q.value)<0?(k(_)?j=g(p,q.value,null):j=g(p,q.value,_-1),j.indexOf(`
`)>-1&&(R?j=j.split(`
`).map(function(ne){return"  "+ne}).join(`
`).substr(2):j=`
`+j.split(`
`).map(function(ne){return"   "+ne}).join(`
`))):j=p.stylize("[Circular]","special")),Y(O)){if(R&&V.match(/^\d+$/))return j;O=JSON.stringify(""+V),O.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(O=O.substr(1,O.length-2),O=p.stylize(O,"name")):(O=O.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),O=p.stylize(O,"string"))}return O+": "+j}function N(p,c,_){var Z=p.reduce(function(V,R){return R.indexOf(`
`)>=0,V+R.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Z>60?_[0]+(c===""?"":c+`
 `)+" "+p.join(`,
  `)+" "+_[1]:_[0]+c+" "+p.join(", ")+" "+_[1]}function $(p){return Array.isArray(p)}t.isArray=$;function W(p){return typeof p=="boolean"}t.isBoolean=W;function k(p){return p===null}t.isNull=k;function L(p){return p==null}t.isNullOrUndefined=L;function F(p){return typeof p=="number"}t.isNumber=F;function H(p){return typeof p=="string"}t.isString=H;function K(p){return typeof p=="symbol"}t.isSymbol=K;function Y(p){return p===void 0}t.isUndefined=Y;function te(p){return X(p)&&v(p)==="[object RegExp]"}t.isRegExp=te;function X(p){return typeof p=="object"&&p!==null}t.isObject=X;function J(p){return X(p)&&v(p)==="[object Date]"}t.isDate=J;function ee(p){return X(p)&&(v(p)==="[object Error]"||p instanceof Error)}t.isError=ee;function re(p){return typeof p=="function"}t.isFunction=re;function ue(p){return p===null||typeof p=="boolean"||typeof p=="number"||typeof p=="string"||typeof p=="symbol"||typeof p>"u"}t.isPrimitive=ue,t.isBuffer=Q_;function v(p){return Object.prototype.toString.call(p)}function u(p){return p<10?"0"+p.toString(10):p.toString(10)}var h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function b(){var p=new Date,c=[u(p.getHours()),u(p.getMinutes()),u(p.getSeconds())].join(":");return[p.getDate(),h[p.getMonth()],c].join(" ")}t.log=function(){console.log("%s - %s",b(),t.format.apply(t,arguments))},t.inherits=ga.exports,t._extend=function(p,c){if(!c||!X(c))return p;for(var _=Object.keys(c),Z=_.length;Z--;)p[_[Z]]=c[_[Z]];return p};function w(p,c){return Object.prototype.hasOwnProperty.call(p,c)}var S=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(c){if(typeof c!="function")throw new TypeError('The "original" argument must be of type Function');if(S&&c[S]){var _=c[S];if(typeof _!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(_,S,{value:_,enumerable:!1,writable:!1,configurable:!0}),_}function _(){for(var Z,V,R=new Promise(function(q,ne){Z=q,V=ne}),O=[],j=0;j<arguments.length;j++)O.push(arguments[j]);O.push(function(q,ne){q?V(q):Z(ne)});try{c.apply(this,O)}catch(q){V(q)}return R}return Object.setPrototypeOf(_,Object.getPrototypeOf(c)),S&&Object.defineProperty(_,S,{value:_,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(_,e(c))},t.promisify.custom=S;function A(p,c){if(!p){var _=new Error("Promise was rejected with a falsy value");_.reason=p,p=_}return c(p)}function P(p){if(typeof p!="function")throw new TypeError('The "original" argument must be of type Function');function c(){for(var _=[],Z=0;Z<arguments.length;Z++)_.push(arguments[Z]);var V=_.pop();if(typeof V!="function")throw new TypeError("The last argument must be of type Function");var R=this,O=function(){return V.apply(R,arguments)};p.apply(this,_).then(function(j){process.nextTick(O,null,j)},function(j){process.nextTick(A,j,O)})}return Object.setPrototypeOf(c,Object.getPrototypeOf(p)),Object.defineProperties(c,e(p)),c}t.callbackify=P})(Jf);const K_=Jf,Xf=ps.exports;var Do=typeof Reflect=="object"?Reflect:null,Y_=Do&&typeof Do.apply=="function"?Do.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},J_=za;function za(){Xf.call(this)}K_.inherits(za,Xf);za.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")mc(a,this,e);else for(var d=a.length,g=X_(a,d),r=0;r<d;++r)mc(g[r],this,e);return!0};function mc(t,e,r){try{Y_(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function X_(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}const ew=J_,tw=1e3,rw=(t,e)=>t+e,_c=["sync","latest"];let nw=class extends ew{constructor(e={}){super(),this._blockResetDuration=e.blockResetDuration||20*tw,this._blockResetTimeout,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(e){e?super.removeAllListeners(e):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener()}_start(){}_end(){}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(e,r){_c.includes(e)&&this._maybeStart()}_onRemoveListener(e,r){this._getBlockTrackerEventCount()>0||this._maybeEnd()}_maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),this._start())}_maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),this._end())}_getBlockTrackerEventCount(){return _c.map(e=>this.listenerCount(e)).reduce(rw)}_newPotentialLatest(e){const r=this._currentBlock;r&&wc(e)<=wc(r)||this._setCurrentBlock(e)}_setCurrentBlock(e){const r=this._currentBlock;this._currentBlock=e,this.emit("latest",e),this.emit("sync",{oldBlock:r,newBlock:e})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}};var iw=nw;function wc(t){return Number.parseInt(t,16)}const sw=j_,ow=iw,aw=1e3;let uw=class extends ow{constructor(e={}){if(!e.provider)throw new Error("PollingBlockTracker - no provider specified.");const r=e.pollingInterval||20*aw,n=e.retryTimeout||r/10,i=e.keepEventLoopActive!==void 0?e.keepEventLoopActive:!0,s=e.setSkipCacheFlag||!1;super(Object.assign({blockResetDuration:r},e)),this._provider=e.provider,this._pollingInterval=r,this._retryTimeout=n,this._keepEventLoopActive=i,this._setSkipCacheFlag=s}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}_start(){this._performSync().catch(e=>this.emit("error",e))}async _performSync(){for(;this._isRunning;)try{await this._updateLatestBlock(),await Sc(this._pollingInterval,!this._keepEventLoopActive)}catch(e){const r=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${e.stack}`);try{this.emit("error",r)}catch{console.error(r)}await Sc(this._retryTimeout,!this._keepEventLoopActive)}}async _updateLatestBlock(){const e=await this._fetchLatestBlock();this._newPotentialLatest(e)}async _fetchLatestBlock(){const e={jsonrpc:"2.0",id:1,method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(e.skipCache=!0);const r=await sw(n=>this._provider.sendAsync(e,n))();if(r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error}`);return r.result}};var cw=uw;function Sc(t,e){return new Promise(r=>{const n=setTimeout(r,t);n.unref&&e&&n.unref()})}var Va={exports:{}},lw=function(e){return(r,n,i,s)=>{const o=e[r.method];return o===void 0?i():typeof o=="function"?o(r,n,i,s):(n.result=o,s())}};(function(t){t.exports=lw})(Va);var qa={},Ts={},Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.getUniqueId=void 0;const eh=4294967295;let Fo=Math.floor(Math.random()*eh);function fw(){return Fo=(Fo+1)%eh,Fo}Ai.getUniqueId=fw;Object.defineProperty(Ts,"__esModule",{value:!0});Ts.createIdRemapMiddleware=void 0;const hw=Ai;function dw(){return(t,e,r,n)=>{const i=t.id,s=hw.getUniqueId();t.id=s,e.id=s,r(o=>{t.id=i,e.id=i,o()})}}Ts.createIdRemapMiddleware=dw;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});Os.createAsyncMiddleware=void 0;function pw(t){return async(e,r,n,i)=>{let s;const o=new Promise(y=>{s=y});let a=null,d=!1;const g=async()=>{d=!0,n(y=>{a=y,s()}),await o};try{await t(e,r,g),d?(await o,a(null)):i(null)}catch(y){a?a(y):i(y)}}}Os.createAsyncMiddleware=pw;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});Ns.createScaffoldMiddleware=void 0;function gw(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}Ns.createScaffoldMiddleware=gw;var Ri={},th={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.EthereumProviderError=vr.EthereumRpcError=void 0;const yw=nl;class rh extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return yw.default(this.serialize(),mw,2)}}vr.EthereumRpcError=rh;class bw extends rh{constructor(e,r,n){if(!vw(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}vr.EthereumProviderError=bw;function vw(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function mw(t,e){if(e!=="[Circular]")return e}var Ga={},mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.errorValues=mr.errorCodes=void 0;mr.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};mr.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=mr,r=vr,n=e.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:o(n)};t.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function o(x,I=i){if(Number.isInteger(x)){const N=x.toString();if(T(e.errorValues,N))return e.errorValues[N].message;if(g(x))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return I}t.getMessageFromCode=o;function a(x){if(!Number.isInteger(x))return!1;const I=x.toString();return!!(e.errorValues[I]||g(x))}t.isValidCode=a;function d(x,{fallbackError:I=s,shouldIncludeStack:N=!1}={}){var $,W;if(!I||!Number.isInteger(I.code)||typeof I.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(x instanceof r.EthereumRpcError)return x.serialize();const k={};if(x&&typeof x=="object"&&!Array.isArray(x)&&T(x,"code")&&a(x.code)){const F=x;k.code=F.code,F.message&&typeof F.message=="string"?(k.message=F.message,T(F,"data")&&(k.data=F.data)):(k.message=o(k.code),k.data={originalError:y(x)})}else{k.code=I.code;const F=($=x)===null||$===void 0?void 0:$.message;k.message=F&&typeof F=="string"?F:I.message,k.data={originalError:y(x)}}const L=(W=x)===null||W===void 0?void 0:W.stack;return N&&x&&L&&typeof L=="string"&&(k.stack=L),k}t.serializeError=d;function g(x){return x>=-32099&&x<=-32e3}function y(x){return x&&typeof x=="object"&&!Array.isArray(x)?Object.assign({},x):x}function T(x,I){return Object.prototype.hasOwnProperty.call(x,I)}})(Ga);var Ls={};Object.defineProperty(Ls,"__esModule",{value:!0});Ls.ethErrors=void 0;const Za=vr,nh=Ga,pt=mr;Ls.ethErrors={rpc:{parse:t=>kt(pt.errorCodes.rpc.parse,t),invalidRequest:t=>kt(pt.errorCodes.rpc.invalidRequest,t),invalidParams:t=>kt(pt.errorCodes.rpc.invalidParams,t),methodNotFound:t=>kt(pt.errorCodes.rpc.methodNotFound,t),internal:t=>kt(pt.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return kt(e,t)},invalidInput:t=>kt(pt.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>kt(pt.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>kt(pt.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>kt(pt.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>kt(pt.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>kt(pt.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>Vn(pt.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>Vn(pt.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>Vn(pt.errorCodes.provider.unsupportedMethod,t),disconnected:t=>Vn(pt.errorCodes.provider.disconnected,t),chainDisconnected:t=>Vn(pt.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Za.EthereumProviderError(e,r,n)}}};function kt(t,e){const[r,n]=ih(e);return new Za.EthereumRpcError(t,r||nh.getMessageFromCode(t),n)}function Vn(t,e){const[r,n]=ih(e);return new Za.EthereumProviderError(t,r||nh.getMessageFromCode(t),n)}function ih(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=vr;Object.defineProperty(t,"EthereumRpcError",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,"EthereumProviderError",{enumerable:!0,get:function(){return e.EthereumProviderError}});const r=Ga;Object.defineProperty(t,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(t,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=Ls;Object.defineProperty(t,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=mr;Object.defineProperty(t,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(th);var _w=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.JsonRpcEngine=void 0;const ww=_w(On),At=th;class Yt extends ww.default{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await Yt._runAllMiddleware(e,r,this._middleware);return o?(await Yt._runReturnHandlers(a),i(s)):n(async d=>{try{await Yt._runReturnHandlers(a)}catch(g){return d(g)}return d()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise(r=>{this._handle(e,(n,i)=>{r(i)})})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const o=new At.EthereumRpcError(At.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof e}`,{request:e});return r(o,{id:void 0,jsonrpc:"2.0",error:o})}if(typeof e.method!="string"){const o=new At.EthereumRpcError(At.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof e.method}`,{request:e});return r(o,{id:e.id,jsonrpc:"2.0",error:o})}const n=Object.assign({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(o){s=o}return s&&(delete i.result,i.error||(i.error=At.serializeError(s))),r(s,i)}async _processRequest(e,r){const[n,i,s]=await Yt._runAllMiddleware(e,r,this._middleware);if(Yt._checkForCompletion(e,r,i),await Yt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Yt._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=d=>{const g=d||r.error;g&&(r.error=At.serializeError(g)),s([g,!0])},a=d=>{r.error?o(r.error):(d&&(typeof d!="function"&&o(new At.EthereumRpcError(At.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof d}" for request:
${jo(e)}`,{request:e})),i.push(d)),s([null,!1]))};try{n(e,r,a,o)}catch(d){o(d)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new At.EthereumRpcError(At.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${jo(e)}`,{request:e});if(!n)throw new At.EthereumRpcError(At.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${jo(e)}`,{request:e})}}Ri.JsonRpcEngine=Yt;function jo(t){return JSON.stringify(t,null,2)}var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});Bs.mergeMiddleware=void 0;const Sw=Ri;function xw(t){const e=new Sw.JsonRpcEngine;return t.forEach(r=>e.push(r)),e.asMiddleware()}Bs.mergeMiddleware=xw;(function(t){var e=be&&be.__createBinding||(Object.create?function(n,i,s,o){o===void 0&&(o=s),Object.defineProperty(n,o,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,o){o===void 0&&(o=s),n[o]=i[s]}),r=be&&be.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&e(i,n,s)};Object.defineProperty(t,"__esModule",{value:!0}),r(Ts,t),r(Os,t),r(Ns,t),r(Ai,t),r(Ri,t),r(Bs,t)})(qa);var sh={},Qa={},Ps={exports:{}};(function(t){var e,r,n,i,s,o,a,d,g,y,T,x,I,N,$,W,k,L,F,H,K,Y,te,X,J;(function(ee){var re=typeof be=="object"?be:typeof self=="object"?self:typeof this=="object"?this:{};ee(ue(re,ue(t.exports)));function ue(v,u){return v!==re&&(typeof Object.create=="function"?Object.defineProperty(v,"__esModule",{value:!0}):v.__esModule=!0),function(h,b){return v[h]=u?u(h,b):b}}})(function(ee){var re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(v[h]=u[h])};e=function(v,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");re(v,u);function h(){this.constructor=v}v.prototype=u===null?Object.create(u):(h.prototype=u.prototype,new h)},r=Object.assign||function(v){for(var u,h=1,b=arguments.length;h<b;h++){u=arguments[h];for(var w in u)Object.prototype.hasOwnProperty.call(u,w)&&(v[w]=u[w])}return v},n=function(v,u){var h={};for(var b in v)Object.prototype.hasOwnProperty.call(v,b)&&u.indexOf(b)<0&&(h[b]=v[b]);if(v!=null&&typeof Object.getOwnPropertySymbols=="function")for(var w=0,b=Object.getOwnPropertySymbols(v);w<b.length;w++)u.indexOf(b[w])<0&&Object.prototype.propertyIsEnumerable.call(v,b[w])&&(h[b[w]]=v[b[w]]);return h},i=function(v,u,h,b){var w=arguments.length,S=w<3?u:b===null?b=Object.getOwnPropertyDescriptor(u,h):b,A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(v,u,h,b);else for(var P=v.length-1;P>=0;P--)(A=v[P])&&(S=(w<3?A(S):w>3?A(u,h,S):A(u,h))||S);return w>3&&S&&Object.defineProperty(u,h,S),S},s=function(v,u){return function(h,b){u(h,b,v)}},o=function(v,u){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(v,u)},a=function(v,u,h,b){function w(S){return S instanceof h?S:new h(function(A){A(S)})}return new(h||(h=Promise))(function(S,A){function P(_){try{c(b.next(_))}catch(Z){A(Z)}}function p(_){try{c(b.throw(_))}catch(Z){A(Z)}}function c(_){_.done?S(_.value):w(_.value).then(P,p)}c((b=b.apply(v,u||[])).next())})},d=function(v,u){var h={label:0,sent:function(){if(S[0]&1)throw S[1];return S[1]},trys:[],ops:[]},b,w,S,A;return A={next:P(0),throw:P(1),return:P(2)},typeof Symbol=="function"&&(A[Symbol.iterator]=function(){return this}),A;function P(c){return function(_){return p([c,_])}}function p(c){if(b)throw new TypeError("Generator is already executing.");for(;A&&(A=0,c[0]&&(h=0)),h;)try{if(b=1,w&&(S=c[0]&2?w.return:c[0]?w.throw||((S=w.return)&&S.call(w),0):w.next)&&!(S=S.call(w,c[1])).done)return S;switch(w=0,S&&(c=[c[0]&2,S.value]),c[0]){case 0:case 1:S=c;break;case 4:return h.label++,{value:c[1],done:!1};case 5:h.label++,w=c[1],c=[0];continue;case 7:c=h.ops.pop(),h.trys.pop();continue;default:if(S=h.trys,!(S=S.length>0&&S[S.length-1])&&(c[0]===6||c[0]===2)){h=0;continue}if(c[0]===3&&(!S||c[1]>S[0]&&c[1]<S[3])){h.label=c[1];break}if(c[0]===6&&h.label<S[1]){h.label=S[1],S=c;break}if(S&&h.label<S[2]){h.label=S[2],h.ops.push(c);break}S[2]&&h.ops.pop(),h.trys.pop();continue}c=u.call(v,h)}catch(_){c=[6,_],w=0}finally{b=S=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},g=function(v,u){for(var h in v)h!=="default"&&!Object.prototype.hasOwnProperty.call(u,h)&&J(u,v,h)},J=Object.create?function(v,u,h,b){b===void 0&&(b=h);var w=Object.getOwnPropertyDescriptor(u,h);(!w||("get"in w?!u.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return u[h]}}),Object.defineProperty(v,b,w)}:function(v,u,h,b){b===void 0&&(b=h),v[b]=u[h]},y=function(v){var u=typeof Symbol=="function"&&Symbol.iterator,h=u&&v[u],b=0;if(h)return h.call(v);if(v&&typeof v.length=="number")return{next:function(){return v&&b>=v.length&&(v=void 0),{value:v&&v[b++],done:!v}}};throw new TypeError(u?"Object is not iterable.":"Symbol.iterator is not defined.")},T=function(v,u){var h=typeof Symbol=="function"&&v[Symbol.iterator];if(!h)return v;var b=h.call(v),w,S=[],A;try{for(;(u===void 0||u-- >0)&&!(w=b.next()).done;)S.push(w.value)}catch(P){A={error:P}}finally{try{w&&!w.done&&(h=b.return)&&h.call(b)}finally{if(A)throw A.error}}return S},x=function(){for(var v=[],u=0;u<arguments.length;u++)v=v.concat(T(arguments[u]));return v},I=function(){for(var v=0,u=0,h=arguments.length;u<h;u++)v+=arguments[u].length;for(var b=Array(v),w=0,u=0;u<h;u++)for(var S=arguments[u],A=0,P=S.length;A<P;A++,w++)b[w]=S[A];return b},N=function(v,u,h){if(h||arguments.length===2)for(var b=0,w=u.length,S;b<w;b++)(S||!(b in u))&&(S||(S=Array.prototype.slice.call(u,0,b)),S[b]=u[b]);return v.concat(S||Array.prototype.slice.call(u))},$=function(v){return this instanceof $?(this.v=v,this):new $(v)},W=function(v,u,h){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b=h.apply(v,u||[]),w,S=[];return w={},A("next"),A("throw"),A("return"),w[Symbol.asyncIterator]=function(){return this},w;function A(V){b[V]&&(w[V]=function(R){return new Promise(function(O,j){S.push([V,R,O,j])>1||P(V,R)})})}function P(V,R){try{p(b[V](R))}catch(O){Z(S[0][3],O)}}function p(V){V.value instanceof $?Promise.resolve(V.value.v).then(c,_):Z(S[0][2],V)}function c(V){P("next",V)}function _(V){P("throw",V)}function Z(V,R){V(R),S.shift(),S.length&&P(S[0][0],S[0][1])}},k=function(v){var u,h;return u={},b("next"),b("throw",function(w){throw w}),b("return"),u[Symbol.iterator]=function(){return this},u;function b(w,S){u[w]=v[w]?function(A){return(h=!h)?{value:$(v[w](A)),done:w==="return"}:S?S(A):A}:S}},L=function(v){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var u=v[Symbol.asyncIterator],h;return u?u.call(v):(v=typeof y=="function"?y(v):v[Symbol.iterator](),h={},b("next"),b("throw"),b("return"),h[Symbol.asyncIterator]=function(){return this},h);function b(S){h[S]=v[S]&&function(A){return new Promise(function(P,p){A=v[S](A),w(P,p,A.done,A.value)})}}function w(S,A,P,p){Promise.resolve(p).then(function(c){S({value:c,done:P})},A)}},F=function(v,u){return Object.defineProperty?Object.defineProperty(v,"raw",{value:u}):v.raw=u,v};var ue=Object.create?function(v,u){Object.defineProperty(v,"default",{enumerable:!0,value:u})}:function(v,u){v.default=u};H=function(v){if(v&&v.__esModule)return v;var u={};if(v!=null)for(var h in v)h!=="default"&&Object.prototype.hasOwnProperty.call(v,h)&&J(u,v,h);return ue(u,v),u},K=function(v){return v&&v.__esModule?v:{default:v}},Y=function(v,u,h,b){if(h==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?v!==u||!b:!u.has(v))throw new TypeError("Cannot read private member from an object whose class did not declare it");return h==="m"?b:h==="a"?b.call(v):b?b.value:u.get(v)},te=function(v,u,h,b,w){if(b==="m")throw new TypeError("Private method is not writable");if(b==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?v!==u||!w:!u.has(v))throw new TypeError("Cannot write private member to an object whose class did not declare it");return b==="a"?w.call(v,h):w?w.value=h:u.set(v,h),h},X=function(v,u){if(u===null||typeof u!="object"&&typeof u!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof v=="function"?u===v:v.has(u)},ee("__extends",e),ee("__assign",r),ee("__rest",n),ee("__decorate",i),ee("__param",s),ee("__metadata",o),ee("__awaiter",a),ee("__generator",d),ee("__exportStar",g),ee("__createBinding",J),ee("__values",y),ee("__read",T),ee("__spread",x),ee("__spreadArrays",I),ee("__spreadArray",N),ee("__await",$),ee("__asyncGenerator",W),ee("__asyncDelegator",k),ee("__asyncValues",L),ee("__makeTemplateObject",F),ee("__importStar",H),ee("__importDefault",K),ee("__classPrivateFieldGet",Y),ee("__classPrivateFieldSet",te),ee("__classPrivateFieldIn",X)})})(Ps);var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});var xc=Ps.exports,Ew=function(){function t(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return t.prototype.acquire=function(){var e=this,r=this.isLocked(),n=new Promise(function(i){return e._queue.push(i)});return r||this._dispatch(),n},t.prototype.runExclusive=function(e){return xc.__awaiter(this,void 0,void 0,function(){var r,n,i;return xc.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},t.prototype.isLocked=function(){return this._value<=0},t.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var e=this._currentReleaser;this._currentReleaser=void 0,e()}},t.prototype._dispatch=function(){var e=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},r([this._value--,this._currentReleaser])}},t}();Ds.default=Ew;Object.defineProperty(Qa,"__esModule",{value:!0});var Ec=Ps.exports,Mw=Ds,Cw=function(){function t(){this._semaphore=new Mw.default(1)}return t.prototype.acquire=function(){return Ec.__awaiter(this,void 0,void 0,function(){var e,r;return Ec.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return e=n.sent(),r=e[1],[2,r]}})})},t.prototype.runExclusive=function(e){return this._semaphore.runExclusive(function(){return e()})},t.prototype.isLocked=function(){return this._semaphore.isLocked()},t.prototype.release=function(){this._semaphore.release()},t}();Qa.default=Cw;var Fs={};Object.defineProperty(Fs,"__esModule",{value:!0});Fs.withTimeout=void 0;var Ui=Ps.exports;function Iw(t,e,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return Ui.__awaiter(n,void 0,void 0,function(){var o,a,d;return Ui.__generator(this,function(g){switch(g.label){case 0:return o=!1,setTimeout(function(){o=!0,s(r)},e),[4,t.acquire()];case 1:return a=g.sent(),o?(d=Array.isArray(a)?a[1]:a,d()):i(a),[2]}})})})},runExclusive:function(i){return Ui.__awaiter(this,void 0,void 0,function(){var s,o;return Ui.__generator(this,function(a){switch(a.label){case 0:s=function(){},a.label=1;case 1:return a.trys.push([1,,7,8]),[4,this.acquire()];case 2:return o=a.sent(),Array.isArray(o)?(s=o[1],[4,i(o[0])]):[3,4];case 3:return[2,a.sent()];case 4:return s=o,[4,i()];case 5:return[2,a.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){t.release()},isLocked:function(){return t.isLocked()}}}Fs.withTimeout=Iw;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.withTimeout=t.Semaphore=t.Mutex=void 0;var e=Qa;Object.defineProperty(t,"Mutex",{enumerable:!0,get:function(){return e.default}});var r=Ds;Object.defineProperty(t,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Fs;Object.defineProperty(t,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(sh);const Mc=(t,e,r,n)=>function(...i){const s=e.promiseModule;return new s((o,a)=>{e.multiArgs?i.push((...g)=>{e.errorFirst?g[0]?a(g):(g.shift(),o(g)):o(g)}):e.errorFirst?i.push((g,y)=>{g?a(g):o(y)}):i.push(o),Reflect.apply(t,this===r?n:this,i)})},Cc=new WeakMap;var kw=(t,e)=>{e={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...e};const r=typeof t;if(!(t!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${t===null?"null":r}\``);const n=(o,a)=>{let d=Cc.get(o);if(d||(d={},Cc.set(o,d)),a in d)return d[a];const g=N=>typeof N=="string"||typeof a=="symbol"?a===N:N.test(a),y=Reflect.getOwnPropertyDescriptor(o,a),T=y===void 0||y.writable||y.configurable,I=(e.include?e.include.some(g):!e.exclude.some(g))&&T;return d[a]=I,I},i=new WeakMap,s=new Proxy(t,{apply(o,a,d){const g=i.get(o);if(g)return Reflect.apply(g,a,d);const y=e.excludeMain?o:Mc(o,e,s,o);return i.set(o,y),Reflect.apply(y,a,d)},get(o,a){const d=o[a];if(!n(o,a)||d===Function.prototype[a])return d;const g=i.get(d);if(g)return g;if(typeof d=="function"){const y=Mc(d,e,s,o);return i.set(d,y),y}return d}});return s};const Aw=On.default;let Rw=class extends Aw{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(e){this.updates=this.updates.concat(e),e.forEach(r=>this.emit("update",r))}addInitialResults(e){}getChangesAndClear(){const e=this.updates;return this.updates=[],e}};var Ka=Rw;const Tw=Ka;let Ow=class extends Tw{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(e){this.allResults=this.allResults.concat(e),super.addResults(e)}addInitialResults(e){this.allResults=this.allResults.concat(e),super.addInitialResults(e)}getAllResults(){return this.allResults}};var Nw=Ow,Ti={minBlockRef:Lw,maxBlockRef:Bw,sortBlockRefs:Ya,bnToHex:Pw,blockRefIsNumber:Dw,hexToInt:us,incrementHexInt:Fw,intToHex:oh,unsafeRandomBytes:jw};function Lw(...t){return Ya(t)[0]}function Bw(...t){const e=Ya(t);return e[e.length-1]}function Ya(t){return t.sort((e,r)=>e==="latest"||r==="earliest"?1:r==="latest"||e==="earliest"?-1:us(e)-us(r))}function Pw(t){return"0x"+t.toString(16)}function Dw(t){return t&&!["earliest","latest","pending"].includes(t)}function us(t){return t==null?t:Number.parseInt(t,16)}function Fw(t){if(t==null)return t;const e=us(t);return oh(e+1)}function oh(t){if(t==null)return t;let e=t.toString(16);return e.length%2&&(e="0"+e),"0x"+e}function jw(t){let e="0x";for(let r=0;r<t;r++)e+=Ic(),e+=Ic();return e}function Ic(){return Math.floor(Math.random()*16).toString(16)}const $w=G_,Uw=kw,Ww=Nw,{bnToHex:ux,hexToInt:Wi,incrementHexInt:Hw,minBlockRef:zw,blockRefIsNumber:Vw}=Ti;let qw=class extends Ww{constructor({provider:e,params:r}){super(),this.type="log",this.ethQuery=new $w(e),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:e}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=e),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=zw(this.params.toBlock,e),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:e,newBlock:r}){const n=r;let i;e?i=Hw(e):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),a=(await this._fetchLogs(s)).filter(d=>this.matchLog(d));this.addResults(a)}async _fetchLogs(e){return await Uw(n=>this.ethQuery.getLogs(e,n))()}matchLog(e){if(Wi(this.params.fromBlock)>=Wi(e.blockNumber)||Vw(this.params.toBlock)&&Wi(this.params.toBlock)<=Wi(e.blockNumber))return!1;const r=e.address&&e.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let o=e.topics[s];if(!o)return!1;o=o.toLowerCase();let a=Array.isArray(i)?i:[i];return a.includes(null)?!0:(a=a.map(y=>y.toLowerCase()),a.includes(o))})}};var Gw=qw,Ja=Zw;async function Zw({provider:t,fromBlock:e,toBlock:r}){e||(e=r);const n=kc(e),s=kc(r)-n+1,o=Array(s).fill().map((d,g)=>n+g).map(Qw);return await Promise.all(o.map(d=>Kw(t,"eth_getBlockByNumber",[d,!1])))}function kc(t){return t==null?t:Number.parseInt(t,16)}function Qw(t){return t==null?t:"0x"+t.toString(16)}function Kw(t,e,r){return new Promise((n,i)=>{t.sendAsync({id:1,jsonrpc:"2.0",method:e,params:r},(s,o)=>{if(s)return i(s);n(o.result)})})}const Yw=Ka,Jw=Ja,{incrementHexInt:Xw}=Ti;let e2=class extends Yw{constructor({provider:e,params:r}){super(),this.type="block",this.provider=e}async update({oldBlock:e,newBlock:r}){const n=r,i=Xw(e),o=(await Jw({provider:this.provider,fromBlock:i,toBlock:n})).map(a=>a.hash);this.addResults(o)}};var t2=e2;const r2=Ka,n2=Ja,{incrementHexInt:i2}=Ti;let s2=class extends r2{constructor({provider:e}){super(),this.type="tx",this.provider=e}async update({oldBlock:e}){const r=e,n=i2(e),i=await n2({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const o of i)s.push(...o.transactions);this.addResults(s)}};var o2=s2;const a2=sh.Mutex,{createAsyncMiddleware:u2}=qa,c2=Va.exports,l2=Gw,f2=t2,h2=o2,{intToHex:ah,hexToInt:$o}=Ti;var d2=p2;function p2({blockTracker:t,provider:e}){let r=0,n={};const i=new a2,s=g2({mutex:i}),o=c2({eth_newFilter:s(Uo(d)),eth_newBlockFilter:s(Uo(g)),eth_newPendingTransactionFilter:s(Uo(y)),eth_uninstallFilter:s(Zi(I)),eth_getFilterChanges:s(Zi(T)),eth_getFilterLogs:s(Zi(x))}),a=async({oldBlock:L,newBlock:F})=>{if(n.length===0)return;const H=await i.acquire();try{await Promise.all(un(n).map(async K=>{try{await K.update({oldBlock:L,newBlock:F})}catch(Y){console.error(Y)}}))}catch(K){console.error(K)}H()};return o.newLogFilter=d,o.newBlockFilter=g,o.newPendingTransactionFilter=y,o.uninstallFilter=I,o.getFilterChanges=T,o.getFilterLogs=x,o.destroy=()=>{W()},o;async function d(L){const F=new l2({provider:e,params:L});return await N(F),F}async function g(){const L=new f2({provider:e});return await N(L),L}async function y(){const L=new h2({provider:e});return await N(L),L}async function T(L){const F=$o(L),H=n[F];if(!H)throw new Error(`No filter for index "${F}"`);return H.getChangesAndClear()}async function x(L){const F=$o(L),H=n[F];if(!H)throw new Error(`No filter for index "${F}"`);return H.type==="log"?results=H.getAllResults():results=[],results}async function I(L){const F=$o(L),H=n[F],K=Boolean(H);return K&&await $(F),K}async function N(L){const F=un(n).length,H=await t.getLatestBlock();await L.initialize({currentBlock:H}),r++,n[r]=L,L.id=r,L.idHex=ah(r);const K=un(n).length;return k({prevFilterCount:F,newFilterCount:K}),r}async function $(L){const F=un(n).length;delete n[L];const H=un(n).length;k({prevFilterCount:F,newFilterCount:H})}async function W(){const L=un(n).length;n={},k({prevFilterCount:L,newFilterCount:0})}function k({prevFilterCount:L,newFilterCount:F}){if(L===0&&F>0){t.on("sync",a);return}if(L>0&&F===0){t.removeListener("sync",a);return}}}function Uo(t){return Zi(async(...e)=>{const r=await t(...e);return ah(r.id)})}function Zi(t){return u2(async(e,r)=>{const n=await t.apply(null,e.params);r.result=n})}function g2({mutex:t}){return e=>async(r,n,i,s)=>{(await t.acquire())(),e(r,n,i,s)}}function un(t,e){const r=[];for(let n in t)r.push(t[n]);return r}const y2=On.default,b2=Va.exports,{createAsyncMiddleware:Ac}=qa,v2=d2,{unsafeRandomBytes:m2,incrementHexInt:_2}=Ti,w2=Ja;var S2=x2;function x2({blockTracker:t,provider:e}){const r={},n=v2({blockTracker:t,provider:e});let i=!1;const s=new y2,o=b2({eth_subscribe:Ac(a),eth_unsubscribe:Ac(d)});return o.destroy=y,{events:s,middleware:o};async function a(T,x){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const I=T.params[0],N=m2(16);let $;switch(I){case"newHeads":$=W({subId:N});break;case"logs":const L=T.params[1],F=await n.newLogFilter(L);$=k({subId:N,filter:F});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${I}"`)}r[N]=$,x.result=N;return;function W({subId:L}){const F={type:I,destroy:async()=>{t.removeListener("sync",F.update)},update:async({oldBlock:H,newBlock:K})=>{const Y=K,te=_2(H);(await w2({provider:e,fromBlock:te,toBlock:Y})).map(E2).forEach(ee=>{g(L,ee)})}};return t.on("sync",F.update),F}function k({subId:L,filter:F}){return F.on("update",K=>g(L,K)),{type:I,destroy:async()=>await n.uninstallFilter(F.idHex)}}}async function d(T,x){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const I=T.params[0],N=r[I];if(!N){x.result=!1;return}delete r[I],await N.destroy(),x.result=!0}function g(T,x){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:T,result:x}})}function y(){s.removeAllListeners();for(const T in r)r[T].destroy(),delete r[T];i=!0}}function E2(t){return{hash:t.hash,parentHash:t.parentHash,sha3Uncles:t.sha3Uncles,miner:t.miner,stateRoot:t.stateRoot,transactionsRoot:t.transactionsRoot,receiptsRoot:t.receiptsRoot,logsBloom:t.logsBloom,difficulty:t.difficulty,number:t.number,gasLimit:t.gasLimit,gasUsed:t.gasUsed,nonce:t.nonce,mixHash:t.mixHash,timestamp:t.timestamp,extraData:t.extraData}}Object.defineProperty(Rs,"__esModule",{value:!0});Rs.SubscriptionManager=void 0;const M2=cw,C2=S2,Rc=()=>{};class I2{constructor(e){const r=new M2({provider:e,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=C2({blockTracker:r,provider:e});this.events=n,this.subscriptionMiddleware=i}async handleRequest(e){const r={};return await this.subscriptionMiddleware(e,r,Rc,Rc),r}destroy(){this.subscriptionMiddleware.destroy()}}Rs.SubscriptionManager=I2;var Xa=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mn,"__esModule",{value:!0});mn.CoinbaseWalletProvider=void 0;const k2=Xa(On),A2=Xa(di.exports),gt=bs,Wo=Nn,Tc=Ln,Oc=jt,ve=ie,Ho=Xa(B_),R2=kn,Ie=Yf,T2=Rs,Nc="DefaultChainId",Lc="DefaultJsonRpcUrl";class O2 extends k2.default{constructor(e){var r,n;super(),this._filterPolyfill=new R2.FilterPolyfill(this),this._subscriptionManager=new T2.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this._send=this.send.bind(this),this._sendAsync=this.sendAsync.bind(this),this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=e.chainId,this._jsonRpcUrlFromOpts=e.jsonRpcUrl,this._overrideIsMetaMask=e.overrideIsMetaMask,this._relayProvider=e.relayProvider,this._storage=e.storage,this._relayEventManager=e.relayEventManager,this.diagnostic=e.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=e.qrUrl,this.supportsAddressSwitching=e.supportsAddressSwitching,this.isLedger=e.isLedger;const i=this.getChainId(),s=(0,ve.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const o=this._storage.getItem(Oc.LOCAL_STORAGE_ADDRESSES_KEY);if(o){const a=o.split(" ");a[0]!==""&&(this._addresses=a.map(d=>(0,ve.ensureAddressString)(d)),this.emit("accountsChanged",a))}this._subscriptionManager.events.on("notification",a=>{this.emit("message",{type:a.method,data:a.params})}),this._addresses.length>0&&this.initializeRelay(),window.addEventListener("message",a=>{var d;if(!(a.origin!==location.origin||a.source!==window)&&a.data.type==="walletLinkMessage"){if(a.data.data.action==="defaultChainChanged"||a.data.data.action==="dappChainSwitched"){const g=a.data.data.chainId,y=(d=a.data.data.jsonRpcUrl)!==null&&d!==void 0?d:this.jsonRpcUrl;this.updateProviderInfo(y,Number(g))}a.data.data.action==="addressChanged"&&this._setAddresses([a.data.data.address])}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,ve.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var e;return(e=this._storage.getItem(Lc))!==null&&e!==void 0?e:this._jsonRpcUrlFromOpts}set jsonRpcUrl(e){this._storage.setItem(Lc,e)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(e,r){this.isLedger||this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=e),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(e,r){this.jsonRpcUrl=e;const n=this.getChainId();this._storage.setItem(Nc,r.toString(10)),((0,ve.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(e,r,n,i,s,o){return!!(await(await this.initializeRelay()).watchAsset(e,r,n,i,s,o==null?void 0:o.toString()).promise).result}async addEthereumChain(e,r,n,i,s,o){var a,d;if((0,ve.ensureIntNumber)(e)===this.getChainId())return!1;const g=await this.initializeRelay(),y=g.inlineAddEthereumChain(e.toString());!this._isAuthorized()&&!y&&await g.requestEthereumAccounts().promise;const T=await g.addEthereumChain(e.toString(),r,s,n,i,o).promise;return((a=T.result)===null||a===void 0?void 0:a.isApproved)===!0&&this.updateProviderInfo(r[0],e),((d=T.result)===null||d===void 0?void 0:d.isApproved)===!0}async switchEthereumChain(e){const n=await(await this.initializeRelay()).switchEthereumChain(e.toString(10),this.selectedAddress||void 0).promise;if(n.errorCode)throw gt.ethErrors.provider.custom({code:n.errorCode});const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,e)}setAppInfo(e,r){this.initializeRelay().then(n=>n.setAppInfo(e,r))}async enable(){var e;return(e=this.diagnostic)===null||e===void 0||e.log(Wo.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?Tc.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0?[...this._addresses]:await this._send(Ie.JSONRPCMethod.eth_requestAccounts)}async close(){(await this.initializeRelay()).resetAndReload()}send(e,r){if(typeof e=="string"){const i=e,s=Array.isArray(r)?r:r!==void 0?[r]:[],o={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(o).then(a=>a.result)}if(typeof r=="function"){const i=e,s=r;return this._sendAsync(i,s)}if(Array.isArray(e))return e.map(s=>this._sendRequest(s));const n=e;return this._sendRequest(n)}async sendAsync(e,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(e)){const i=r;this._sendMultipleRequestsAsync(e).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(e).then(i=>n(null,i)).catch(i=>n(i,null))}async request(e){if(!e||typeof e!="object"||Array.isArray(e))throw gt.ethErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:e});const{method:r,params:n}=e;if(typeof r!="string"||r.length===0)throw gt.ethErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:e});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw gt.ethErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:e});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(e){const n=await(await this.initializeRelay()).scanQRCode((0,ve.ensureRegExpString)(e)).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}async genericRequest(e,r){const i=await(await this.initializeRelay()).genericRequest(e,r).promise;if(typeof i.result!="string")throw new Error("result was not a string");return i.result}async selectProvider(e){const n=await(await this.initializeRelay()).selectProvider(e).promise;if(typeof n.result!="string")throw new Error("result was not a string");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(e){const r={jsonrpc:"2.0",id:e.id},{method:n}=e;if(r.result=this._handleSynchronousMethods(e),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(e,r){if(!Array.isArray(e))throw new Error("addresses is not an array");const n=e.map(i=>(0,ve.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses.length>0&&this.supportsAddressSwitching===!1&&!r||(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Oc.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" "))))}_sendRequestAsync(e){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(e);if(i!==void 0)return r({jsonrpc:"2.0",id:e.id,result:i});const s=this._handleAsynchronousFilterMethods(e);if(s!==void 0){s.then(a=>r(Object.assign(Object.assign({},a),{id:e.id}))).catch(a=>n(a));return}const o=this._handleSubscriptionMethods(e);if(o!==void 0){o.then(a=>r({jsonrpc:"2.0",id:e.id,result:a.result})).catch(a=>n(a));return}}catch(i){return n(i)}this._handleAsynchronousMethods(e).then(i=>i&&r(Object.assign(Object.assign({},i),{id:e.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(e){return Promise.all(e.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Ie.JSONRPCMethod.eth_accounts:return this._eth_accounts();case Ie.JSONRPCMethod.eth_coinbase:return this._eth_coinbase();case Ie.JSONRPCMethod.eth_uninstallFilter:return this._eth_uninstallFilter(n);case Ie.JSONRPCMethod.net_version:return this._net_version();case Ie.JSONRPCMethod.eth_chainId:return this._eth_chainId();default:return}}async _handleAsynchronousMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Ie.JSONRPCMethod.eth_requestAccounts:return this._eth_requestAccounts();case Ie.JSONRPCMethod.eth_sign:return this._eth_sign(n);case Ie.JSONRPCMethod.eth_ecRecover:return this._eth_ecRecover(n);case Ie.JSONRPCMethod.personal_sign:return this._personal_sign(n);case Ie.JSONRPCMethod.personal_ecRecover:return this._personal_ecRecover(n);case Ie.JSONRPCMethod.eth_signTransaction:return this._eth_signTransaction(n);case Ie.JSONRPCMethod.eth_sendRawTransaction:return this._eth_sendRawTransaction(n);case Ie.JSONRPCMethod.eth_sendTransaction:return this._eth_sendTransaction(n);case Ie.JSONRPCMethod.eth_signTypedData_v1:return this._eth_signTypedData_v1(n);case Ie.JSONRPCMethod.eth_signTypedData_v2:return this._throwUnsupportedMethodError();case Ie.JSONRPCMethod.eth_signTypedData_v3:return this._eth_signTypedData_v3(n);case Ie.JSONRPCMethod.eth_signTypedData_v4:case Ie.JSONRPCMethod.eth_signTypedData:return this._eth_signTypedData_v4(n);case Ie.JSONRPCMethod.cbWallet_arbitrary:return this._cbwallet_arbitrary(n);case Ie.JSONRPCMethod.wallet_addEthereumChain:return this._wallet_addEthereumChain(n);case Ie.JSONRPCMethod.wallet_switchEthereumChain:return this._wallet_switchEthereumChain(n);case Ie.JSONRPCMethod.wallet_watchAsset:return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(e,this.jsonRpcUrl)}_handleAsynchronousFilterMethods(e){const{method:r}=e,n=e.params||[];switch(r){case Ie.JSONRPCMethod.eth_newFilter:return this._eth_newFilter(n);case Ie.JSONRPCMethod.eth_newBlockFilter:return this._eth_newBlockFilter();case Ie.JSONRPCMethod.eth_newPendingTransactionFilter:return this._eth_newPendingTransactionFilter();case Ie.JSONRPCMethod.eth_getFilterChanges:return this._eth_getFilterChanges(n);case Ie.JSONRPCMethod.eth_getFilterLogs:return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(e){switch(e.method){case Ie.JSONRPCMethod.eth_subscribe:case Ie.JSONRPCMethod.eth_unsubscribe:return this._subscriptionManager.handleRequest(e)}}_isKnownAddress(e){try{const r=(0,ve.ensureAddressString)(e);return this._addresses.map(i=>(0,ve.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(e){var r;if(!this._isKnownAddress(e))throw(r=this.diagnostic)===null||r===void 0||r.log(Wo.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?(0,ve.ensureAddressString)(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?(0,ve.ensureAddressString)(e.to):null,i=e.value!=null?(0,ve.ensureBN)(e.value):new A2.default(0),s=e.data?(0,ve.ensureBuffer)(e.data):Buffer.alloc(0),o=e.nonce!=null?(0,ve.ensureIntNumber)(e.nonce):null,a=e.gasPrice!=null?(0,ve.ensureBN)(e.gasPrice):null,d=e.maxFeePerGas!=null?(0,ve.ensureBN)(e.maxFeePerGas):null,g=e.maxPriorityFeePerGas!=null?(0,ve.ensureBN)(e.maxPriorityFeePerGas):null,y=e.gas!=null?(0,ve.ensureBN)(e.gas):null,T=this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:o,gasPriceInWei:a,maxFeePerGas:d,maxPriorityFeePerGas:g,gasLimit:y,chainId:T}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw gt.ethErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw gt.ethErrors.provider.unsupportedMethod({})}async _signEthereumMessage(e,r,n,i){this._ensureKnownAddress(r);try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumMessage(e,r,n,i).promise).result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?gt.ethErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(e,r,n){return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).ethereumAddressFromSignedMessage(e,r,n).promise).result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,ve.hexStringFromIntNumber)(this.getChainId())}getChainId(){const e=this._storage.getItem(Nc);if(!e)return(0,ve.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(e,10);return(0,ve.ensureIntNumber)(r)}async _eth_requestAccounts(){var e;if((e=this.diagnostic)===null||e===void 0||e.log(Wo.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?Tc.Session.hash(this._relay.session.id):void 0}),this._addresses.length>0)return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{r=await(await this.initializeRelay()).requestEthereumAccounts().promise}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?gt.ethErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isLedger||this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(e){this._requireAuthorization();const r=(0,ve.ensureAddressString)(e[0]),n=(0,ve.ensureBuffer)(e[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(e){const r=(0,ve.ensureBuffer)(e[0]),n=(0,ve.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(e){this._requireAuthorization();const r=(0,ve.ensureBuffer)(e[0]),n=(0,ve.ensureAddressString)(e[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(e){const r=(0,ve.ensureBuffer)(e[0]),n=(0,ve.ensureBuffer)(e[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?gt.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(e){const r=(0,ve.ensureBuffer)(e[0]);return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise).result}}async _eth_sendTransaction(e){this._requireAuthorization();const r=this._prepareTransactionParams(e[0]||{});try{return{jsonrpc:"2.0",id:0,result:(await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise).result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?gt.ethErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(e){this._requireAuthorization();const r=(0,ve.ensureParsedJSONObject)(e[0]),n=(0,ve.ensureAddressString)(e[1]);this._ensureKnownAddress(n);const i=Ho.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(e){this._requireAuthorization();const r=(0,ve.ensureAddressString)(e[0]),n=(0,ve.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ho.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(e){this._requireAuthorization();const r=(0,ve.ensureAddressString)(e[0]),n=(0,ve.ensureParsedJSONObject)(e[1]);this._ensureKnownAddress(r);const i=Ho.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(e){const r=e[0],n=e[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(e){var r,n,i,s;const o=e[0];if(((r=o.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!o.chainName||o.chainName.trim()==="")throw gt.ethErrors.provider.custom({code:0,message:"chainName is a required field"});if(!o.nativeCurrency)throw gt.ethErrors.provider.custom({code:0,message:"nativeCurrency is a required field"});const a=parseInt(o.chainId,16);return await this.addEthereumChain(a,(n=o.rpcUrls)!==null&&n!==void 0?n:[],(i=o.blockExplorerUrls)!==null&&i!==void 0?i:[],o.chainName,(s=o.iconUrls)!==null&&s!==void 0?s:[],o.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(e){const r=e[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw gt.ethErrors.rpc.invalidParams({message:"Type is required"});if((r==null?void 0:r.type)!=="ERC20")throw gt.ethErrors.rpc.invalidParams({message:`Asset of type '${r.type}' is not supported`});if(!(r!=null&&r.options))throw gt.ethErrors.rpc.invalidParams({message:"Options are required"});if(!(r!=null&&r.options.address))throw gt.ethErrors.rpc.invalidParams({message:"Address is required"});const n=this.getChainId(),{address:i,symbol:s,image:o,decimals:a}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,a,o,n)}}_eth_uninstallFilter(e){const r=(0,ve.ensureHexString)(e[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(e){const r=e[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(e){const r=(0,ve.ensureHexString)(e[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(e){const r=(0,ve.ensureHexString)(e[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(e=>(e.setAccountsCallback((r,n)=>this._setAddresses(r,n)),e.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),e.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=e,e))}}mn.CoinbaseWalletProvider=O2;var js={},$s={},Oi,ye,uh,ch,ti,Bc,lh,cs={},fh=[],N2=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Xt(t,e){for(var r in e)t[r]=e[r];return t}function hh(t){var e=t.parentNode;e&&e.removeChild(t)}function ya(t,e,r){var n,i,s,o={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?Oi.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return ri(t,o,n,i,null)}function ri(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++uh};return i==null&&ye.vnode!=null&&ye.vnode(s),s}function L2(){return{current:null}}function Ni(t){return t.children}function ni(t,e){this.props=t,this.context=e}function li(t,e){if(e==null)return t.__?li(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?li(t):null}function dh(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return dh(t)}}function ba(t){(!t.__d&&(t.__d=!0)&&ti.push(t)&&!ls.__r++||Bc!==ye.debounceRendering)&&((Bc=ye.debounceRendering)||setTimeout)(ls)}function ls(){for(var t;ls.__r=ti.length;)t=ti.sort(function(e,r){return e.__v.__b-r.__v.__b}),ti=[],t.some(function(e){var r,n,i,s,o,a;e.__d&&(o=(s=(r=e).__v).__e,(a=r.__P)&&(n=[],(i=Xt({},s)).__v=s.__v+1,eu(a,s,i,r.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,n,o??li(s),s.__h),vh(n,s),s.__e!=o&&dh(s)))})}function ph(t,e,r,n,i,s,o,a,d,g){var y,T,x,I,N,$,W,k=n&&n.__k||fh,L=k.length;for(r.__k=[],y=0;y<e.length;y++)if((I=r.__k[y]=(I=e[y])==null||typeof I=="boolean"?null:typeof I=="string"||typeof I=="number"||typeof I=="bigint"?ri(null,I,null,null,I):Array.isArray(I)?ri(Ni,{children:I},null,null,null):I.__b>0?ri(I.type,I.props,I.key,I.ref?I.ref:null,I.__v):I)!=null){if(I.__=r,I.__b=r.__b+1,(x=k[y])===null||x&&I.key==x.key&&I.type===x.type)k[y]=void 0;else for(T=0;T<L;T++){if((x=k[T])&&I.key==x.key&&I.type===x.type){k[T]=void 0;break}x=null}eu(t,I,x=x||cs,i,s,o,a,d,g),N=I.__e,(T=I.ref)&&x.ref!=T&&(W||(W=[]),x.ref&&W.push(x.ref,null,I),W.push(T,I.__c||N,I)),N!=null?($==null&&($=N),typeof I.type=="function"&&I.__k===x.__k?I.__d=d=gh(I,d,t):d=bh(t,I,x,k,N,d),typeof r.type=="function"&&(r.__d=d)):d&&x.__e==d&&d.parentNode!=t&&(d=li(x))}for(r.__e=$,y=L;y--;)k[y]!=null&&_h(k[y],k[y]);if(W)for(y=0;y<W.length;y++)mh(W[y],W[++y],W[++y])}function gh(t,e,r){for(var n,i=t.__k,s=0;i&&s<i.length;s++)(n=i[s])&&(n.__=t,e=typeof n.type=="function"?gh(n,e,r):bh(r,n,n,i,n.__e,e));return e}function yh(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(r){yh(r,e)}):e.push(t)),e}function bh(t,e,r,n,i,s){var o,a,d;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(r==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,d=0;(a=a.nextSibling)&&d<n.length;d+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function B2(t,e,r,n,i){var s;for(s in r)s==="children"||s==="key"||s in e||fs(t,s,null,r[s],n);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||r[s]===e[s]||fs(t,s,e[s],r[s],n)}function Pc(t,e,r){e[0]==="-"?t.setProperty(e,r):t[e]=r==null?"":typeof r!="number"||N2.test(e)?r:r+"px"}function fs(t,e,r,n,i){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||Pc(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||Pc(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n||t.addEventListener(e,s?Fc:Dc,s):t.removeEventListener(e,s?Fc:Dc,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,r))}}function Dc(t){this.l[t.type+!1](ye.event?ye.event(t):t)}function Fc(t){this.l[t.type+!0](ye.event?ye.event(t):t)}function eu(t,e,r,n,i,s,o,a,d){var g,y,T,x,I,N,$,W,k,L,F,H,K,Y,te,X=e.type;if(e.constructor!==void 0)return null;r.__h!=null&&(d=r.__h,a=e.__e=r.__e,e.__h=null,s=[a]),(g=ye.__b)&&g(e);try{e:if(typeof X=="function"){if(W=e.props,k=(g=X.contextType)&&n[g.__c],L=g?k?k.props.value:g.__:n,r.__c?$=(y=e.__c=r.__c).__=y.__E:("prototype"in X&&X.prototype.render?e.__c=y=new X(W,L):(e.__c=y=new ni(W,L),y.constructor=X,y.render=D2),k&&k.sub(y),y.props=W,y.state||(y.state={}),y.context=L,y.__n=n,T=y.__d=!0,y.__h=[],y._sb=[]),y.__s==null&&(y.__s=y.state),X.getDerivedStateFromProps!=null&&(y.__s==y.state&&(y.__s=Xt({},y.__s)),Xt(y.__s,X.getDerivedStateFromProps(W,y.__s))),x=y.props,I=y.state,T)X.getDerivedStateFromProps==null&&y.componentWillMount!=null&&y.componentWillMount(),y.componentDidMount!=null&&y.__h.push(y.componentDidMount);else{if(X.getDerivedStateFromProps==null&&W!==x&&y.componentWillReceiveProps!=null&&y.componentWillReceiveProps(W,L),!y.__e&&y.shouldComponentUpdate!=null&&y.shouldComponentUpdate(W,y.__s,L)===!1||e.__v===r.__v){for(y.props=W,y.state=y.__s,e.__v!==r.__v&&(y.__d=!1),y.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach(function(J){J&&(J.__=e)}),F=0;F<y._sb.length;F++)y.__h.push(y._sb[F]);y._sb=[],y.__h.length&&o.push(y);break e}y.componentWillUpdate!=null&&y.componentWillUpdate(W,y.__s,L),y.componentDidUpdate!=null&&y.__h.push(function(){y.componentDidUpdate(x,I,N)})}if(y.context=L,y.props=W,y.__v=e,y.__P=t,H=ye.__r,K=0,"prototype"in X&&X.prototype.render){for(y.state=y.__s,y.__d=!1,H&&H(e),g=y.render(y.props,y.state,y.context),Y=0;Y<y._sb.length;Y++)y.__h.push(y._sb[Y]);y._sb=[]}else do y.__d=!1,H&&H(e),g=y.render(y.props,y.state,y.context),y.state=y.__s;while(y.__d&&++K<25);y.state=y.__s,y.getChildContext!=null&&(n=Xt(Xt({},n),y.getChildContext())),T||y.getSnapshotBeforeUpdate==null||(N=y.getSnapshotBeforeUpdate(x,I)),te=g!=null&&g.type===Ni&&g.key==null?g.props.children:g,ph(t,Array.isArray(te)?te:[te],e,r,n,i,s,o,a,d),y.base=e.__e,e.__h=null,y.__h.length&&o.push(y),$&&(y.__E=y.__=null),y.__e=!1}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=P2(r.__e,e,r,n,i,s,o,d);(g=ye.diffed)&&g(e)}catch(J){e.__v=null,(d||s!=null)&&(e.__e=a,e.__h=!!d,s[s.indexOf(a)]=null),ye.__e(J,e,r)}}function vh(t,e){ye.__c&&ye.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(n){n.call(r)})}catch(n){ye.__e(n,r.__v)}})}function P2(t,e,r,n,i,s,o,a){var d,g,y,T=r.props,x=e.props,I=e.type,N=0;if(I==="svg"&&(i=!0),s!=null){for(;N<s.length;N++)if((d=s[N])&&"setAttribute"in d==!!I&&(I?d.localName===I:d.nodeType===3)){t=d,s[N]=null;break}}if(t==null){if(I===null)return document.createTextNode(x);t=i?document.createElementNS("http://www.w3.org/2000/svg",I):document.createElement(I,x.is&&x),s=null,a=!1}if(I===null)T===x||a&&t.data===x||(t.data=x);else{if(s=s&&Oi.call(t.childNodes),g=(T=r.props||cs).dangerouslySetInnerHTML,y=x.dangerouslySetInnerHTML,!a){if(s!=null)for(T={},N=0;N<t.attributes.length;N++)T[t.attributes[N].name]=t.attributes[N].value;(y||g)&&(y&&(g&&y.__html==g.__html||y.__html===t.innerHTML)||(t.innerHTML=y&&y.__html||""))}if(B2(t,x,T,i,a),y)e.__k=[];else if(N=e.props.children,ph(t,Array.isArray(N)?N:[N],e,r,n,i&&I!=="foreignObject",s,o,s?s[0]:r.__k&&li(r,0),a),s!=null)for(N=s.length;N--;)s[N]!=null&&hh(s[N]);a||("value"in x&&(N=x.value)!==void 0&&(N!==t.value||I==="progress"&&!N||I==="option"&&N!==T.value)&&fs(t,"value",N,T.value,!1),"checked"in x&&(N=x.checked)!==void 0&&N!==t.checked&&fs(t,"checked",N,T.checked,!1))}return t}function mh(t,e,r){try{typeof t=="function"?t(e):t.current=e}catch(n){ye.__e(n,r)}}function _h(t,e,r){var n,i;if(ye.unmount&&ye.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||mh(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){ye.__e(s,e)}n.base=n.__P=null,t.__c=void 0}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&_h(n[i],e,r||typeof t.type!="function");r||t.__e==null||hh(t.__e),t.__=t.__e=t.__d=void 0}function D2(t,e,r){return this.constructor(t,r)}function wh(t,e,r){var n,i,s;ye.__&&ye.__(t,e),i=(n=typeof r=="function")?null:r&&r.__k||e.__k,s=[],eu(e,t=(!n&&r||e).__k=ya(Ni,null,[t]),i||cs,cs,e.ownerSVGElement!==void 0,!n&&r?[r]:i?null:e.firstChild?Oi.call(e.childNodes):null,s,!n&&r?r:i?i.__e:e.firstChild,n),vh(s,t)}function Sh(t,e){wh(t,e,Sh)}function F2(t,e,r){var n,i,s,o=Xt({},t.props);for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:o[s]=e[s];return arguments.length>2&&(o.children=arguments.length>3?Oi.call(arguments,2):r),ri(t.type,o,n||t.key,i||t.ref,null)}function j2(t,e){var r={__c:e="__cC"+lh++,__:t,Consumer:function(n,i){return n.children(i)},Provider:function(n){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(ba)},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),n.children}};return r.Provider.__=r.Consumer.contextType=r}Oi=fh.slice,ye={__e:function(t,e,r,n){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},uh=0,ch=function(t){return t!=null&&t.constructor===void 0},ni.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Xt({},this.state),typeof t=="function"&&(t=t(Xt({},r),this.props)),t&&Xt(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),ba(this))},ni.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),ba(this))},ni.prototype.render=Ni,ti=[],ls.__r=0,lh=0;const $2=Object.freeze(Object.defineProperty({__proto__:null,Component:ni,Fragment:Ni,cloneElement:F2,createContext:j2,createElement:ya,createRef:L2,h:ya,hydrate:Sh,get isValidElement(){return ch},get options(){return ye},render:wh,toChildArray:yh},Symbol.toStringTag,{value:"Module"})),Mt=hi($2);var Us={};function xh(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=xh(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function jc(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=xh(t))&&(n&&(n+=" "),n+=e);return n}const U2=Object.freeze(Object.defineProperty({__proto__:null,clsx:jc,default:jc},Symbol.toStringTag,{value:"Module"})),Ws=hi(U2);var wr,Te,zo,$c,An=0,Eh=[],Qi=[],Uc=ye.__b,Wc=ye.__r,Hc=ye.diffed,zc=ye.__c,Vc=ye.unmount;function Yr(t,e){ye.__h&&ye.__h(Te,t,An||e),An=0;var r=Te.__H||(Te.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({__V:Qi}),r.__[t]}function Mh(t){return An=1,Ch(kh,t)}function Ch(t,e,r){var n=Yr(wr++,2);if(n.t=t,!n.__c&&(n.__=[r?r(e):kh(void 0,e),function(s){var o=n.__N?n.__N[0]:n.__[0],a=n.t(o,s);o!==a&&(n.__N=[a,n.__[1]],n.__c.setState({}))}],n.__c=Te,!Te.u)){Te.u=!0;var i=Te.shouldComponentUpdate;Te.shouldComponentUpdate=function(s,o,a){if(!n.__c.__H)return!0;var d=n.__c.__H.__.filter(function(y){return y.__c});if(d.every(function(y){return!y.__N}))return!i||i.call(this,s,o,a);var g=!1;return d.forEach(function(y){if(y.__N){var T=y.__[0];y.__=y.__N,y.__N=void 0,T!==y.__[0]&&(g=!0)}}),!(!g&&n.__c.props===s)&&(!i||i.call(this,s,o,a))}}return n.__N||n.__}function W2(t,e){var r=Yr(wr++,3);!ye.__s&&ru(r.__H,e)&&(r.__=t,r.i=e,Te.__H.__h.push(r))}function Ih(t,e){var r=Yr(wr++,4);!ye.__s&&ru(r.__H,e)&&(r.__=t,r.i=e,Te.__h.push(r))}function H2(t){return An=5,tu(function(){return{current:t}},[])}function z2(t,e,r){An=6,Ih(function(){return typeof t=="function"?(t(e()),function(){return t(null)}):t?(t.current=e(),function(){return t.current=null}):void 0},r==null?r:r.concat(t))}function tu(t,e){var r=Yr(wr++,7);return ru(r.__H,e)?(r.__V=t(),r.i=e,r.__h=t,r.__V):r.__}function V2(t,e){return An=8,tu(function(){return t},e)}function q2(t){var e=Te.context[t.__c],r=Yr(wr++,9);return r.c=t,e?(r.__==null&&(r.__=!0,e.sub(Te)),e.props.value):t.__}function G2(t,e){ye.useDebugValue&&ye.useDebugValue(e?e(t):t)}function Z2(t){var e=Yr(wr++,10),r=Mh();return e.__=t,Te.componentDidCatch||(Te.componentDidCatch=function(n,i){e.__&&e.__(n,i),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Q2(){var t=Yr(wr++,11);if(!t.__){for(var e=Te.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function K2(){for(var t;t=Eh.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ki),t.__H.__h.forEach(va),t.__H.__h=[]}catch(e){t.__H.__h=[],ye.__e(e,t.__v)}}ye.__b=function(t){Te=null,Uc&&Uc(t)},ye.__r=function(t){Wc&&Wc(t),wr=0;var e=(Te=t.__c).__H;e&&(zo===Te?(e.__h=[],Te.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.__V=Qi,r.__N=r.i=void 0})):(e.__h.forEach(Ki),e.__h.forEach(va),e.__h=[])),zo=Te},ye.diffed=function(t){Hc&&Hc(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Eh.push(e)!==1&&$c===ye.requestAnimationFrame||(($c=ye.requestAnimationFrame)||Y2)(K2)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.__V!==Qi&&(r.__=r.__V),r.i=void 0,r.__V=Qi})),zo=Te=null},ye.__c=function(t,e){e.some(function(r){try{r.__h.forEach(Ki),r.__h=r.__h.filter(function(n){return!n.__||va(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ye.__e(n,r.__v)}}),zc&&zc(t,e)},ye.unmount=function(t){Vc&&Vc(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{Ki(n)}catch(i){e=i}}),r.__H=void 0,e&&ye.__e(e,r.__v))};var qc=typeof requestAnimationFrame=="function";function Y2(t){var e,r=function(){clearTimeout(n),qc&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);qc&&(e=requestAnimationFrame(r))}function Ki(t){var e=Te,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Te=e}function va(t){var e=Te;t.__c=t.__(),Te=e}function ru(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function kh(t,e){return typeof e=="function"?e(t):e}const J2=Object.freeze(Object.defineProperty({__proto__:null,useCallback:V2,useContext:q2,useDebugValue:G2,useEffect:W2,useErrorBoundary:Z2,useId:Q2,useImperativeHandle:z2,useLayoutEffect:Ih,useMemo:tu,useReducer:Ch,useRef:H2,useState:Mh},Symbol.toStringTag,{value:"Module"})),Li=hi(J2);var Gt={},Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});Hs.LIB_VERSION=void 0;Hs.LIB_VERSION="3.6.2";var zs={};Object.defineProperty(zs,"__esModule",{value:!0});zs.CloseIcon=void 0;const Gc=Mt;function X2(t){return(0,Gc.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),(0,Gc.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}zs.CloseIcon=X2;var nu={};Object.defineProperty(nu,"__esModule",{value:!0});nu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMTQuMDM3IDE4LjkyNmMtMi43NSAwLTQuOTA3LTIuMjA1LTQuOTA3LTQuOTI2IDAtMi43MiAyLjIzLTQuOTI2IDQuOTA3LTQuOTI2YTQuODY2IDQuODY2IDAgMCAxIDQuODMzIDQuMTE4aDQuOTgyYy0uNDQ2LTUuMDczLTQuNjg0LTkuMDQ0LTkuODE1LTkuMDQ0QzguNjEgNC4xNDggNC4xNDkgOC41NiA0LjE0OSAxNHM0LjM4NyA5Ljg1MiA5Ljg5IDkuODUyYzUuMjA0IDAgOS4zNjgtMy45NyA5LjgxNC05LjA0M0gxOC44N2E0Ljg2NiA0Ljg2NiAwIDAgMS00LjgzMyA0LjExN1oiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";var iu={};Object.defineProperty(iu,"__esModule",{value:!0});iu.default="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjgiIGhlaWdodD0iMjgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMTQiIGN5PSIxNCIgcj0iMTQiIGZpbGw9IiMwMDUyRkYiLz48cGF0aCBkPSJNMjMuODUyIDE0QTkuODM0IDkuODM0IDAgMCAxIDE0IDIzLjg1MiA5LjgzNCA5LjgzNCAwIDAgMSA0LjE0OCAxNCA5LjgzNCA5LjgzNCAwIDAgMSAxNCA0LjE0OCA5LjgzNCA5LjgzNCAwIDAgMSAyMy44NTIgMTRaIiBmaWxsPSIjZmZmIi8+PHBhdGggZD0iTTExLjE4NSAxMi41MDRjMC0uNDU2IDAtLjcxLjA5OC0uODYyLjA5OC0uMTUyLjE5Ni0uMzA0LjM0My0uMzU1LjE5Ni0uMTAyLjM5Mi0uMTAyLjg4MS0uMTAyaDIuOTg2Yy40OSAwIC42ODYgMCAuODgyLjEwMi4xNDYuMTAxLjI5My4yMDMuMzQyLjM1NS4wOTguMjAzLjA5OC40MDYuMDk4Ljg2MnYyLjk5MmMwIC40NTcgMCAuNzEtLjA5OC44NjMtLjA5OC4xNTItLjE5NS4zMDQtLjM0Mi4zNTUtLjE5Ni4xMDEtLjM5Mi4xMDEtLjg4Mi4xMDFoLTIuOTg2Yy0uNDkgMC0uNjg1IDAtLjg4LS4xMDEtLjE0OC0uMTAyLS4yOTUtLjIwMy0uMzQ0LS4zNTUtLjA5OC0uMjAzLS4wOTgtLjQwNi0uMDk4LS44NjN2LTIuOTkyWiIgZmlsbD0iIzAwNTJGRiIvPjwvc3ZnPg==";var Vs={};Object.defineProperty(Vs,"__esModule",{value:!0});Vs.QRCodeIcon=void 0;const Wt=Mt;function eS(t){return(0,Wt.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Wt.h)("path",{d:"M8.2271 1.77124L7.0271 1.77124V2.97124H8.2271V1.77124Z"}),(0,Wt.h)("path",{d:"M5.44922 0.199219L5.44922 4.54922L9.79922 4.54922V0.199219L5.44922 0.199219ZM8.89922 3.64922L6.34922 3.64922L6.34922 1.09922L8.89922 1.09922V3.64922Z"}),(0,Wt.h)("path",{d:"M2.97124 1.77124L1.77124 1.77124L1.77124 2.97124H2.97124V1.77124Z"}),(0,Wt.h)("path",{d:"M0.199219 4.54922L4.54922 4.54922L4.54922 0.199219L0.199219 0.199219L0.199219 4.54922ZM1.09922 1.09922L3.64922 1.09922L3.64922 3.64922L1.09922 3.64922L1.09922 1.09922Z"}),(0,Wt.h)("path",{d:"M2.97124 7.0271H1.77124L1.77124 8.2271H2.97124V7.0271Z"}),(0,Wt.h)("path",{d:"M0.199219 9.79922H4.54922L4.54922 5.44922L0.199219 5.44922L0.199219 9.79922ZM1.09922 6.34922L3.64922 6.34922L3.64922 8.89922H1.09922L1.09922 6.34922Z"}),(0,Wt.h)("path",{d:"M8.89922 7.39912H7.99922V5.40112H5.44922L5.44922 9.79912H6.34922L6.34922 6.30112H7.09922V8.29912H9.79922V5.40112H8.89922V7.39912Z"}),(0,Wt.h)("path",{d:"M7.99912 8.89917H7.09912V9.79917H7.99912V8.89917Z"}),(0,Wt.h)("path",{d:"M9.79917 8.89917H8.89917V9.79917H9.79917V8.89917Z"}))}Vs.QRCodeIcon=eS;var su={};Object.defineProperty(su,"__esModule",{value:!0});const tS=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M50 100C77.6142 100 100 77.6142 100 50C100 22.3858 77.6142 0 50 0C22.3858 0 0 22.3858 0 50C0 77.6142 22.3858 100 50 100Z" fill="white"/>
        <path d="M50.512 94C74.2907 94 93.5673 74.5244 93.5673 50.5C93.5673 26.4756 74.2907 7 50.512 7C26.7332 7 7.45667 26.4756 7.45667 50.5C7.45667 74.5244 26.7332 94 50.512 94Z" fill="#0052FF"/>
        <path d="M50.6248 65.4335C42.3697 65.4335 35.8996 58.7469 35.8996 50.5C35.8996 42.2531 42.5928 35.5664 50.6248 35.5664C57.9873 35.5664 64.0111 40.9157 65.1267 48.0481H80.0749C78.7363 32.6688 66.0191 20.6328 50.6248 20.6328C34.3379 20.6328 20.9514 34.0062 20.9514 50.5C20.9514 66.9936 34.1148 80.3671 50.6248 80.3671C66.2422 80.3671 78.7363 68.331 80.0749 52.9516H65.1267C64.0111 60.0841 57.9873 65.4335 50.6248 65.4335Z" fill="white"/>
    </svg>
`;su.default=tS;var ou={};Object.defineProperty(ou,"__esModule",{value:!0});ou.default=`
    <svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="50" cy="50" r="50" fill="white"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" fill="#1B53E4"/>
        <circle cx="49.9996" cy="49.9996" r="43.6363" stroke="white"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M19.3379 49.9484C19.3379 66.8508 33.04 80.553 49.9425 80.553C66.8449 80.553 80.5471 66.8508 80.5471 49.9484C80.5471 33.0459 66.8449 19.3438 49.9425 19.3438C33.04 19.3438 19.3379 33.0459 19.3379 49.9484ZM44.0817 40.0799C41.8725 40.0799 40.0817 41.8708 40.0817 44.0799V55.8029C40.0817 58.012 41.8725 59.8029 44.0817 59.8029H55.8046C58.0138 59.8029 59.8046 58.012 59.8046 55.8029V44.0799C59.8046 41.8708 58.0138 40.0799 55.8046 40.0799H44.0817Z" fill="white"/>
    </svg>
`;var qs={};Object.defineProperty(qs,"__esModule",{value:!0});qs.StatusDotIcon=void 0;const Zc=Mt;function rS(t){return(0,Zc.h)("svg",Object.assign({width:"10",height:"10",viewBox:"0 0 10 10",xmlns:"http://www.w3.org/2000/svg"},t),(0,Zc.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.29995 4.99995C2.29995 5.57985 1.82985 6.04995 1.24995 6.04995C0.670052 6.04995 0.199951 5.57985 0.199951 4.99995C0.199951 4.42005 0.670052 3.94995 1.24995 3.94995C1.82985 3.94995 2.29995 4.42005 2.29995 4.99995ZM4.99995 6.04995C5.57985 6.04995 6.04995 5.57985 6.04995 4.99995C6.04995 4.42005 5.57985 3.94995 4.99995 3.94995C4.42005 3.94995 3.94995 4.42005 3.94995 4.99995C3.94995 5.57985 4.42005 6.04995 4.99995 6.04995ZM8.74995 6.04995C9.32985 6.04995 9.79995 5.57985 9.79995 4.99995C9.79995 4.42005 9.32985 3.94995 8.74995 3.94995C8.17005 3.94995 7.69995 4.42005 7.69995 4.99995C7.69995 5.57985 8.17005 6.04995 8.74995 6.04995Z"}))}qs.StatusDotIcon=rS;var Gs={};function Ah(t){this.mode=xt.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(var e=0,r=this.data.length;e<r;e++){var n=[],i=this.data.charCodeAt(e);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Ah.prototype={getLength:function(t){return this.parsedData.length},write:function(t){for(var e=0,r=this.parsedData.length;e<r;e++)t.put(this.parsedData[e],8)}};function Zt(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Zt.prototype={addData:function(t){var e=new Ah(t);this.dataList.push(e),this.dataCache=null},isDark:function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache==null&&(this.dataCache=Zt.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},setupPositionProbePattern:function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var n=-1;n<=7;n++)e+n<=-1||this.moduleCount<=e+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[t+r][e+n]=!0:this.modules[t+r][e+n]=!1)},getBestMaskPattern:function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ye.getLostPoint(this);(r==0||t>n)&&(t=n,e=r)}return e},createMovieClip:function(t,e,r){var n=t.createEmptyMovieClip(e,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var o=s*i,a=0;a<this.modules[s].length;a++){var d=a*i,g=this.modules[s][a];g&&(n.beginFill(0,100),n.moveTo(d,o),n.lineTo(d+i,o),n.lineTo(d+i,o+i),n.lineTo(d,o+i),n.endFill())}return n},setupTimingPattern:function(){for(var t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)this.modules[6][e]==null&&(this.modules[6][e]=e%2==0)},setupPositionAdjustPattern:function(){for(var t=Ye.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var n=t[e],i=t[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var o=-2;o<=2;o++)s==-2||s==2||o==-2||o==2||s==0&&o==0?this.modules[n+s][i+o]=!0:this.modules[n+s][i+o]=!1}},setupTypeNumber:function(t){for(var e=Ye.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!t&&(e>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(t,e){for(var r=this.errorCorrectLevel<<3|e,n=Ye.getBCHTypeInfo(r),i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!t&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!t},mapData:function(t,e){for(var r=-1,n=this.moduleCount-1,i=7,s=0,o=this.moduleCount-1;o>0;o-=2)for(o==6&&o--;;){for(var a=0;a<2;a++)if(this.modules[n][o-a]==null){var d=!1;s<t.length&&(d=(t[s]>>>i&1)==1);var g=Ye.getMask(e,n,o-a);g&&(d=!d),this.modules[n][o-a]=d,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Zt.PAD0=236;Zt.PAD1=17;Zt.createData=function(t,e,r){for(var n=qt.getRSBlocks(t,e),i=new Rh,s=0;s<r.length;s++){var o=r[s];i.put(o.mode,4),i.put(o.getLength(),Ye.getLengthInBits(o.mode,t)),o.write(i)}for(var a=0,s=0;s<n.length;s++)a+=n[s].dataCount;if(i.getLengthInBits()>a*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+a*8+")");for(i.getLengthInBits()+4<=a*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=a*8||(i.put(Zt.PAD0,8),i.getLengthInBits()>=a*8));)i.put(Zt.PAD1,8);return Zt.createBytes(i,n)};Zt.createBytes=function(t,e){for(var r=0,n=0,i=0,s=new Array(e.length),o=new Array(e.length),a=0;a<e.length;a++){var d=e[a].dataCount,g=e[a].totalCount-d;n=Math.max(n,d),i=Math.max(i,g),s[a]=new Array(d);for(var y=0;y<s[a].length;y++)s[a][y]=255&t.buffer[y+r];r+=d;var T=Ye.getErrorCorrectPolynomial(g),x=new vn(s[a],T.getLength()-1),I=x.mod(T);o[a]=new Array(T.getLength()-1);for(var y=0;y<o[a].length;y++){var N=y+I.getLength()-o[a].length;o[a][y]=N>=0?I.get(N):0}}for(var $=0,y=0;y<e.length;y++)$+=e[y].totalCount;for(var W=new Array($),k=0,y=0;y<n;y++)for(var a=0;a<e.length;a++)y<s[a].length&&(W[k++]=s[a][y]);for(var y=0;y<i;y++)for(var a=0;a<e.length;a++)y<o[a].length&&(W[k++]=o[a][y]);return W};var xt={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3},hr={L:1,M:0,Q:3,H:2},ir={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ye={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(t){for(var e=t<<10;Ye.getBCHDigit(e)-Ye.getBCHDigit(Ye.G15)>=0;)e^=Ye.G15<<Ye.getBCHDigit(e)-Ye.getBCHDigit(Ye.G15);return(t<<10|e)^Ye.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;Ye.getBCHDigit(e)-Ye.getBCHDigit(Ye.G18)>=0;)e^=Ye.G18<<Ye.getBCHDigit(e)-Ye.getBCHDigit(Ye.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;t!=0;)e++,t>>>=1;return e},getPatternPosition:function(t){return Ye.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,r){switch(t){case ir.PATTERN000:return(e+r)%2==0;case ir.PATTERN001:return e%2==0;case ir.PATTERN010:return r%3==0;case ir.PATTERN011:return(e+r)%3==0;case ir.PATTERN100:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case ir.PATTERN101:return e*r%2+e*r%3==0;case ir.PATTERN110:return(e*r%2+e*r%3)%2==0;case ir.PATTERN111:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new vn([1],0),r=0;r<t;r++)e=e.multiply(new vn([1,ct.gexp(r)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case xt.MODE_NUMBER:return 10;case xt.MODE_ALPHA_NUM:return 9;case xt.MODE_8BIT_BYTE:return 8;case xt.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case xt.MODE_NUMBER:return 12;case xt.MODE_ALPHA_NUM:return 11;case xt.MODE_8BIT_BYTE:return 16;case xt.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case xt.MODE_NUMBER:return 14;case xt.MODE_ALPHA_NUM:return 13;case xt.MODE_8BIT_BYTE:return 16;case xt.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)},getLostPoint:function(t){for(var e=t.getModuleCount(),r=0,n=0;n<e;n++)for(var i=0;i<e;i++){for(var s=0,o=t.isDark(n,i),a=-1;a<=1;a++)if(!(n+a<0||e<=n+a))for(var d=-1;d<=1;d++)i+d<0||e<=i+d||a==0&&d==0||o==t.isDark(n+a,i+d)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<e-1;n++)for(var i=0;i<e-1;i++){var g=0;t.isDark(n,i)&&g++,t.isDark(n+1,i)&&g++,t.isDark(n,i+1)&&g++,t.isDark(n+1,i+1)&&g++,(g==0||g==4)&&(r+=3)}for(var n=0;n<e;n++)for(var i=0;i<e-6;i++)t.isDark(n,i)&&!t.isDark(n,i+1)&&t.isDark(n,i+2)&&t.isDark(n,i+3)&&t.isDark(n,i+4)&&!t.isDark(n,i+5)&&t.isDark(n,i+6)&&(r+=40);for(var i=0;i<e;i++)for(var n=0;n<e-6;n++)t.isDark(n,i)&&!t.isDark(n+1,i)&&t.isDark(n+2,i)&&t.isDark(n+3,i)&&t.isDark(n+4,i)&&!t.isDark(n+5,i)&&t.isDark(n+6,i)&&(r+=40);for(var y=0,i=0;i<e;i++)for(var n=0;n<e;n++)t.isDark(n,i)&&y++;var T=Math.abs(100*y/e/e-50)/5;return r+=T*10,r}},ct={glog:function(t){if(t<1)throw new Error("glog("+t+")");return ct.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return ct.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var ht=0;ht<8;ht++)ct.EXP_TABLE[ht]=1<<ht;for(var ht=8;ht<256;ht++)ct.EXP_TABLE[ht]=ct.EXP_TABLE[ht-4]^ct.EXP_TABLE[ht-5]^ct.EXP_TABLE[ht-6]^ct.EXP_TABLE[ht-8];for(var ht=0;ht<255;ht++)ct.LOG_TABLE[ct.EXP_TABLE[ht]]=ht;function vn(t,e){if(t.length==null)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&t[r]==0;)r++;this.num=new Array(t.length-r+e);for(var n=0;n<t.length-r;n++)this.num[n]=t[n+r]}vn.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<t.getLength();n++)e[r+n]^=ct.gexp(ct.glog(this.get(r))+ct.glog(t.get(n)));return new vn(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=ct.glog(this.get(0))-ct.glog(t.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<t.getLength();n++)r[n]^=ct.gexp(ct.glog(t.get(n))+e);return new vn(r,0).mod(t)}};function qt(t,e){this.totalCount=t,this.dataCount=e}qt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];qt.getRSBlocks=function(t,e){var r=qt.getRsBlockTable(t,e);if(r==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var o=r[s*3+0],a=r[s*3+1],d=r[s*3+2],g=0;g<o;g++)i.push(new qt(a,d));return i};qt.getRsBlockTable=function(t,e){switch(e){case hr.L:return qt.RS_BLOCK_TABLE[(t-1)*4+0];case hr.M:return qt.RS_BLOCK_TABLE[(t-1)*4+1];case hr.Q:return qt.RS_BLOCK_TABLE[(t-1)*4+2];case hr.H:return qt.RS_BLOCK_TABLE[(t-1)*4+3];default:return}};function Rh(){this.buffer=[],this.length=0}Rh.prototype={get:function(t){var e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1},put:function(t,e){for(var r=0;r<e;r++)this.putBit((t>>>e-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var Vo=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Th(t){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof t=="string"&&(t={content:t}),t)for(var e in t)this.options[e]=t[e];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(d){switch(d){case"L":return hr.L;case"M":return hr.M;case"Q":return hr.Q;case"H":return hr.H;default:throw new Error("Unknwon error correction level: "+d)}}function n(d,g){for(var y=i(d),T=1,x=0,I=0,N=Vo.length;I<=N;I++){var $=Vo[I];if(!$)throw new Error("Content too long: expected "+x+" but got "+y);switch(g){case"L":x=$[0];break;case"M":x=$[1];break;case"Q":x=$[2];break;case"H":x=$[3];break;default:throw new Error("Unknwon error correction level: "+g)}if(y<=x)break;T++}if(T>Vo.length)throw new Error("Content too long");return T}function i(d){var g=encodeURI(d).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return g.length+(g.length!=d?3:0)}var s=this.options.content,o=n(s,this.options.ecl),a=r(this.options.ecl);this.qrcode=new Zt(o,a),this.qrcode.addData(s),this.qrcode.make()}Th.prototype.svg=function(t){var e=this.options||{},r=this.qrcode.modules;typeof t>"u"&&(t={container:e.container||"svg"});for(var n=typeof e.pretty<"u"?!!e.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",o=e.width,a=e.height,d=r.length,g=o/(d+2*e.padding),y=a/(d+2*e.padding),T=typeof e.join<"u"?!!e.join:!1,x=typeof e.swap<"u"?!!e.swap:!1,I=typeof e.xmlDeclaration<"u"?!!e.xmlDeclaration:!0,N=typeof e.predefined<"u"?!!e.predefined:!1,$=N?i+'<defs><path id="qrmodule" d="M0 0 h'+y+" v"+g+' H0 z" style="fill:'+e.color+';shape-rendering:crispEdges;" /></defs>'+s:"",W=i+'<rect x="0" y="0" width="'+o+'" height="'+a+'" style="fill:'+e.background+';shape-rendering:crispEdges;"/>'+s,k="",L="",F=0;F<d;F++)for(var H=0;H<d;H++){var K=r[H][F];if(K){var Y=H*g+e.padding*g,te=F*y+e.padding*y;if(x){var X=Y;Y=te,te=X}if(T){var J=g+Y,ee=y+te;Y=Number.isInteger(Y)?Number(Y):Y.toFixed(2),te=Number.isInteger(te)?Number(te):te.toFixed(2),J=Number.isInteger(J)?Number(J):J.toFixed(2),ee=Number.isInteger(ee)?Number(ee):ee.toFixed(2),L+="M"+Y+","+te+" V"+ee+" H"+J+" V"+te+" H"+Y+" Z "}else N?k+=i+'<use x="'+Y.toString()+'" y="'+te.toString()+'" href="#qrmodule" />'+s:k+=i+'<rect x="'+Y.toString()+'" y="'+te.toString()+'" width="'+g+'" height="'+y+'" style="fill:'+e.color+';shape-rendering:crispEdges;"/>'+s}}T&&(k=i+'<path x="0" y="0" style="fill:'+e.color+';shape-rendering:crispEdges;" d="'+L+'" />');let re="";if(this.options.image!==void 0&&this.options.image.svg){const v=o*this.options.image.width/100,u=a*this.options.image.height/100,h=o/2-v/2,b=a/2-u/2;re+=`<svg x="${h}" y="${b}" width="${v}" height="${u}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,re+=this.options.image.svg+s,re+="</svg>"}var ue="";switch(t.container){case"svg":I&&(ue+='<?xml version="1.0" standalone="yes"?>'+s),ue+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+o+'" height="'+a+'">'+s,ue+=$+W+k,ue+=re,ue+="</svg>";break;case"svg-viewbox":I&&(ue+='<?xml version="1.0" standalone="yes"?>'+s),ue+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+o+" "+a+'">'+s,ue+=$+W+k,ue+=re,ue+="</svg>";break;case"g":ue+='<g width="'+o+'" height="'+a+'">'+s,ue+=$+W+k,ue+=re,ue+="</g>";break;default:ue+=($+W+k+re).replace(/^\s+/,"");break}return ue};var nS=Th,iS=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.QRCode=void 0;const sS=Mt,Qc=Li,oS=iS(nS),aS=t=>{const[e,r]=(0,Qc.useState)("");return(0,Qc.useEffect)(()=>{var n,i;const s=new oS.default({content:t.content,background:t.bgColor||"#ffffff",color:t.fgColor||"#000000",container:"svg",ecl:"M",width:(n=t.width)!==null&&n!==void 0?n:256,height:(i=t.height)!==null&&i!==void 0?i:256,padding:0,image:t.image}),o=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${o}`)}),e?(0,sS.h)("img",{src:e,alt:"QR Code"}):null};Gs.QRCode=aS;var Zs={},au={};Object.defineProperty(au,"__esModule",{value:!0});au.default=".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}";var uS=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.Spinner=void 0;const Hi=Mt,cS=uS(au),lS=t=>{var e;const r=(e=t.size)!==null&&e!==void 0?e:64,n=t.color||"#000";return(0,Hi.h)("div",{class:"-cbwsdk-spinner"},(0,Hi.h)("style",null,cS.default),(0,Hi.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,Hi.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};Zs.Spinner=lS;var uu={};Object.defineProperty(uu,"__esModule",{value:!0});uu.default=".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-item.light.selected{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark.selected{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item.selected{border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}";var Wn=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.CoinbaseAppSteps=Gt.CoinbaseWalletSteps=Gt.ConnectItem=Gt.ConnectContent=void 0;const Ot=Wn(Ws),le=Mt,Kc=Li,fS=ie,hS=Hs,dS=zs,pS=Wn(nu),gS=Wn(iu),Oh=Vs,yS=Wn(su),bS=Wn(ou),vS=qs,mS=Gs,_S=Zs,wS=Wn(uu),Yc={"coinbase-wallet-app":{title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",icon:gS.default,steps:Lh},"coinbase-app":{title:"Coinbase app",description:"Connect with your Coinbase account",icon:pS.default,steps:Bh}},SS=t=>{switch(t){case"coinbase-app":return yS.default;case"coinbase-wallet-app":default:return bS.default}},ma=t=>t==="light"?"#FFFFFF":"#0A0B0D";function xS(t){const{theme:e}=t,[r,n]=(0,Kc.useState)("coinbase-wallet-app"),i=(0,Kc.useCallback)(g=>{n(g)},[]),s=(0,fS.createQrUrl)(t.sessionId,t.sessionSecret,t.linkAPIUrl,t.isParentConnection,t.version,t.chainId),o=Yc[r];if(!r)return null;const a=o.steps,d=r==="coinbase-app";return(0,le.h)("div",{"data-testid":"connect-content",class:(0,Ot.default)("-cbwsdk-connect-content",e)},(0,le.h)("style",null,wS.default),(0,le.h)("div",{class:"-cbwsdk-connect-content-header"},(0,le.h)("h2",{class:(0,Ot.default)("-cbwsdk-connect-content-heading",e)},"Scan to connect with one of our mobile apps"),t.onCancel&&(0,le.h)("button",{type:"button",class:"-cbwsdk-cancel-button",onClick:t.onCancel},(0,le.h)(dS.CloseIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,le.h)("div",{class:"-cbwsdk-connect-content-layout"},(0,le.h)("div",{class:"-cbwsdk-connect-content-column-left"},(0,le.h)("div",null,Object.entries(Yc).map(([g,y])=>(0,le.h)(Nh,{key:g,title:y.title,description:y.description,icon:y.icon,selected:r===g,onClick:()=>i(g),theme:e}))),d&&(0,le.h)("div",{class:(0,Ot.default)("-cbwsdk-connect-content-update-app",e)},"Dont see a ",(0,le.h)("strong",null,"Scan")," option? Update your Coinbase app to the latest version and try again.")),(0,le.h)("div",{class:"-cbwsdk-connect-content-column-right"},(0,le.h)("div",{class:"-cbwsdk-connect-content-qr-wrapper"},(0,le.h)(mS.QRCode,{content:s,width:200,height:200,fgColor:"#000",bgColor:"transparent",image:{svg:SS(r),width:25,height:25}}),(0,le.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:hS.LIB_VERSION}),(0,le.h)("input",{type:"hidden",value:s})),(0,le.h)(a,{theme:e}),!t.isConnected&&(0,le.h)("div",{"data-testid":"connecting-spinner",class:(0,Ot.default)("-cbwsdk-connect-content-qr-connecting",e)},(0,le.h)(_S.Spinner,{size:36,color:e==="dark"?"#FFF":"#000"}),(0,le.h)("p",null,"Connecting...")))))}Gt.ConnectContent=xS;function Nh({title:t,description:e,icon:r,selected:n,theme:i,onClick:s}){return(0,le.h)("div",{onClick:s,class:(0,Ot.default)("-cbwsdk-connect-item",i,{selected:n})},(0,le.h)("div",null,(0,le.h)("img",{src:r,alt:t})),(0,le.h)("div",{class:"-cbwsdk-connect-item-copy-wrapper"},(0,le.h)("h3",{class:"-cbwsdk-connect-item-title"},t),(0,le.h)("p",{class:"-cbwsdk-connect-item-description"},e)))}Gt.ConnectItem=Nh;function Lh({theme:t}){return(0,le.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,le.h)("li",{class:(0,Ot.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,le.h)("li",{class:(0,Ot.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,le.h)("span",null,"Tap ",(0,le.h)("strong",null,"Scan")," "),(0,le.h)("span",{class:(0,Ot.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(Oh.QRCodeIcon,{fill:ma(t)})))))}Gt.CoinbaseWalletSteps=Lh;function Bh({theme:t}){return(0,le.h)("ol",{class:"-cbwsdk-wallet-steps"},(0,le.h)("li",{class:(0,Ot.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase app")),(0,le.h)("li",{class:(0,Ot.default)("-cbwsdk-wallet-steps-item",t)},(0,le.h)("div",{class:"-cbwsdk-wallet-steps-item-wrapper"},(0,le.h)("span",null,"Tap ",(0,le.h)("strong",null,"More")),(0,le.h)("span",{class:(0,Ot.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(vS.StatusDotIcon,{fill:ma(t)})),(0,le.h)("span",{class:"-cbwsdk-wallet-steps-pad-left"},"then ",(0,le.h)("strong",null,"Scan")),(0,le.h)("span",{class:(0,Ot.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",t)},(0,le.h)(Oh.QRCodeIcon,{fill:ma(t)})))))}Gt.CoinbaseAppSteps=Bh;var Qs={},Ks={};Object.defineProperty(Ks,"__esModule",{value:!0});Ks.ArrowLeftIcon=void 0;const Jc=Mt;function ES(t){return(0,Jc.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},t),(0,Jc.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}Ks.ArrowLeftIcon=ES;var Ys={};Object.defineProperty(Ys,"__esModule",{value:!0});Ys.LaptopIcon=void 0;const qo=Mt;function MS(t){return(0,qo.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,qo.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,qo.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}Ys.LaptopIcon=MS;var Js={};Object.defineProperty(Js,"__esModule",{value:!0});Js.SafeIcon=void 0;const Xc=Mt;function CS(t){return(0,Xc.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},t),(0,Xc.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}Js.SafeIcon=CS;var cu={};Object.defineProperty(cu,"__esModule",{value:!0});cu.default=".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}";var Ph=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.TryExtensionContent=void 0;const Pr=Ph(Ws),rt=Mt,Go=Li,IS=Ks,kS=Ys,AS=Js,RS=Ph(cu);function TS({theme:t}){const[e,r]=(0,Go.useState)(!1),n=(0,Go.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,Go.useCallback)(()=>{e?window.location.reload():(n(),r(!0))},[n,e]);return(0,rt.h)("div",{class:(0,Pr.default)("-cbwsdk-try-extension",t)},(0,rt.h)("style",null,RS.default),(0,rt.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,rt.h)("h3",{class:(0,Pr.default)("-cbwsdk-try-extension-heading",t)},"Or try the Coinbase Wallet browser extension"),(0,rt.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,rt.h)("button",{class:(0,Pr.default)("-cbwsdk-try-extension-cta",t),onClick:i},e?"Refresh":"Install"),(0,rt.h)("div",null,!e&&(0,rt.h)(IS.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:t==="light"?"#0052FF":"#588AF5"})))),(0,rt.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,rt.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,rt.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,rt.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,rt.h)("span",{class:(0,Pr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,rt.h)(kS.LaptopIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,rt.h)("div",{class:(0,Pr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Connect with dapps with just one click on your desktop browser")),(0,rt.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,rt.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,rt.h)("span",{class:(0,Pr.default)("-cbwsdk-try-extension-list-item-icon",t)},(0,rt.h)(AS.SafeIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,rt.h)("div",{class:(0,Pr.default)("-cbwsdk-try-extension-list-item-copy",t)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}Qs.TryExtensionContent=TS;var lu={};Object.defineProperty(lu,"__esModule",{value:!0});lu.default=".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}";var Dh=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Us,"__esModule",{value:!0});Us.ConnectDialog=void 0;const Zo=Dh(Ws),Dr=Mt,Qo=Li,OS=Gt,NS=Qs,LS=Dh(lu),BS=t=>{const{isOpen:e,darkMode:r}=t,[n,i]=(0,Qo.useState)(!e),[s,o]=(0,Qo.useState)(!e);(0,Qo.useEffect)(()=>{const d=[window.setTimeout(()=>{o(!e)},10)];return e?i(!1):d.push(window.setTimeout(()=>{i(!0)},360)),()=>{d.forEach(window.clearTimeout)}},[t.isOpen]);const a=r?"dark":"light";return(0,Dr.h)("div",{class:(0,Zo.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,Dr.h)("style",null,LS.default),(0,Dr.h)("div",{class:(0,Zo.default)("-cbwsdk-connect-dialog-backdrop",a,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,Dr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,Dr.h)("div",{class:(0,Zo.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},t.connectDisabled?null:(0,Dr.h)(OS.ConnectContent,{theme:a,version:t.version,sessionId:t.sessionId,sessionSecret:t.sessionSecret,linkAPIUrl:t.linkAPIUrl,isConnected:t.isConnected,isParentConnection:t.isParentConnection,chainId:t.chainId,onCancel:t.onCancel}),(0,Dr.h)(NS.TryExtensionContent,{theme:a}))))};Us.ConnectDialog=BS;Object.defineProperty($s,"__esModule",{value:!0});$s.LinkFlow=void 0;const Ko=Mt,el=Fn,PS=Us;class DS{constructor(e){this.extensionUI$=new el.BehaviorSubject({}),this.subscriptions=new el.Subscription,this.isConnected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=e.darkMode,this.version=e.version,this.sessionId=e.sessionId,this.sessionSecret=e.sessionSecret,this.linkAPIUrl=e.linkAPIUrl,this.isParentConnection=e.isParentConnection,this.connected$=e.connected$,this.chainId$=e.chainId$}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",e.appendChild(this.root),this.render(),this.subscriptions.add(this.connected$.subscribe(r=>{this.isConnected!==r&&(this.isConnected=r,this.render())})),this.subscriptions.add(this.chainId$.subscribe(r=>{this.chainId!==r&&(this.chainId=r,this.render())}))}detach(){var e;this.root&&(this.subscriptions.unsubscribe(),(0,Ko.render)(null,this.root),(e=this.root.parentElement)===null||e===void 0||e.removeChild(this.root))}setConnectDisabled(e){this.connectDisabled=e}open(e){this.isOpen=!0,this.onCancel=e.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){if(!this.root)return;const e=this.extensionUI$.subscribe(()=>{this.root&&(0,Ko.render)((0,Ko.h)(PS.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.isConnected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)});this.subscriptions.add(e)}}$s.LinkFlow=DS;var Fh={},fu={};Object.defineProperty(fu,"__esModule",{value:!0});fu.default=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}";(function(t){var e=be&&be.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(t,"__esModule",{value:!0}),t.SnackbarInstance=t.SnackbarContainer=t.Snackbar=void 0;const r=e(Ws),n=Mt,i=Li,s=e(fu),o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";function a(T){switch(T){case"coinbase-app":return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTE0LjY3NCAxOC44NThjLTIuMDQ1IDAtMy42NDgtMS43MjItMy42NDgtMy44NDVzMS42NTktMy44NDUgMy42NDgtMy44NDVjMS44MjQgMCAzLjMxNyAxLjM3NyAzLjU5MyAzLjIxNGgzLjcwM2MtLjMzMS0zLjk2LTMuNDgyLTcuMDU5LTcuMjk2LTcuMDU5LTQuMDM0IDAtNy4zNSAzLjQ0My03LjM1IDcuNjkgMCA0LjI0NiAzLjI2IDcuNjkgNy4zNSA3LjY5IDMuODcgMCA2Ljk2NS0zLjEgNy4yOTYtNy4wNTloLTMuNzAzYy0uMjc2IDEuODM2LTEuNzY5IDMuMjE0LTMuNTkzIDMuMjE0WiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0wIDEwLjY3OGMwLTMuNzExIDAtNS41OTYuNzQyLTcuMDIzQTYuNTMyIDYuNTMyIDAgMCAxIDMuNjU1Ljc0MkM1LjA4MiAwIDYuOTY3IDAgMTAuNjc4IDBoNy45MzhjMy43MTEgMCA1LjU5NiAwIDcuMDIzLjc0MmE2LjUzMSA2LjUzMSAwIDAgMSAyLjkxMyAyLjkxM2MuNzQyIDEuNDI3Ljc0MiAzLjMxMi43NDIgNy4wMjN2Ny45MzhjMCAzLjcxMSAwIDUuNTk2LS43NDIgNy4wMjNhNi41MzEgNi41MzEgMCAwIDEtMi45MTMgMi45MTNjLTEuNDI3Ljc0Mi0zLjMxMi43NDItNy4wMjMuNzQyaC03LjkzOGMtMy43MTEgMC01LjU5NiAwLTcuMDIzLS43NDJhNi41MzEgNi41MzEgMCAwIDEtMi45MTMtMi45MTNDMCAyNC4yMTIgMCAyMi4zODQgMCAxOC42MTZ2LTcuOTM4WiIgZmlsbD0iIzAwNTJGRiIvPjxwYXRoIGQ9Ik0xNC42ODQgMTkuNzczYy0yLjcyNyAwLTQuODY0LTIuMjk1LTQuODY0LTUuMTI2IDAtMi44MzEgMi4yMS01LjEyNyA0Ljg2NC01LjEyNyAyLjQzMiAwIDQuNDIyIDEuODM3IDQuNzkgNC4yODVoNC45MzhjLS40NDItNS4yOC00LjY0My05LjQxMS05LjcyOC05LjQxMS01LjM4IDAtOS44MDIgNC41OS05LjgwMiAxMC4yNTMgMCA1LjY2MiA0LjM0OCAxMC4yNTMgOS44MDIgMTAuMjUzIDUuMTU5IDAgOS4yODYtNC4xMzIgOS43MjgtOS40MTFoLTQuOTM4Yy0uMzY4IDIuNDQ4LTIuMzU4IDQuMjg0LTQuNzkgNC4yODRaIiBmaWxsPSIjZmZmIi8+PC9zdmc+";case"coinbase-wallet-app":default:return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+"}}class d{constructor(x){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=x.darkMode}attach(x){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",x.appendChild(this.root),this.render()}presentItem(x){const I=this.nextItemKey++;return this.items.set(I,x),this.render(),()=>{this.items.delete(I),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(t.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([x,I])=>(0,n.h)(t.SnackbarInstance,Object.assign({},I,{key:x}))))),this.root)}}t.Snackbar=d;const g=T=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},T.children));t.SnackbarContainer=g;const y=({autoExpand:T,message:x,menuItems:I,appSrc:N})=>{const[$,W]=(0,i.useState)(!0),[k,L]=(0,i.useState)(T??!1);(0,i.useEffect)(()=>{const H=[window.setTimeout(()=>{W(!1)},1),window.setTimeout(()=>{L(!0)},1e4)];return()=>{H.forEach(window.clearTimeout)}});const F=()=>{L(!k)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",$&&"-cbwsdk-snackbar-instance-hidden",k&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:F},(0,n.h)("img",{src:a(N),class:"-cbwsdk-snackbar-instance-header-cblogo"}),(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},x),(0,n.h)("div",{class:"-gear-container"},!k&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),I&&I.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},I.map((H,K)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",H.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:H.onClick,key:K},(0,n.h)("svg",{width:H.svgWidth,height:H.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":H.defaultFillRule,"clip-rule":H.defaultClipRule,d:H.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",H.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},H.info)))))};t.SnackbarInstance=y})(Fh);var Xs={},hu={};Object.defineProperty(hu,"__esModule",{value:!0});hu.default='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';var FS=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.injectCssReset=void 0;const jS=FS(hu);function $S(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(jS.default)),document.documentElement.appendChild(t)}Xs.injectCssReset=$S;Object.defineProperty(js,"__esModule",{value:!0});js.WalletSDKUI=void 0;const US=$s,WS=Fh,HS=Xs;class zS{constructor(e){this.standalone=null,this.attached=!1,this.appSrc=null,this.snackbar=new WS.Snackbar({darkMode:e.darkMode}),this.linkFlow=new US.LinkFlow({darkMode:e.darkMode,version:e.version,sessionId:e.session.id,sessionSecret:e.session.secret,linkAPIUrl:e.linkAPIUrl,connected$:e.connected$,chainId$:e.chainId$,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,HS.injectCssReset)()}setConnectDisabled(e){this.linkFlow.setConnectDisabled(e)}addEthereumChain(e){}watchAsset(e){}switchEthereumChain(e){}requestEthereumAccounts(e){this.linkFlow.open({onCancel:e.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(e){}signEthereumTransaction(e){}submitEthereumTransaction(e){}ethereumAddressFromSignedMessage(e){}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",appSrc:this.appSrc,menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",appSrc:this.appSrc,menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}setAppSrc(e){this.appSrc=e}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(e){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(e){this.standalone=e}isStandalone(){var e;return(e=this.standalone)!==null&&e!==void 0?e:!1}}js.WalletSDKUI=zS;var eo={},to={};Object.defineProperty(to,"__esModule",{value:!0});var dn;(function(t){t.typeOfFunction="function",t.boolTrue=!0})(dn||(dn={}));function jh(t,e,r){if(!r||typeof r.value!==dn.typeOfFunction)throw new TypeError("Only methods can be decorated with @bind. <"+e+"> is not a method!");return{configurable:dn.boolTrue,get:function(){var n=r.value.bind(this);return Object.defineProperty(this,e,{value:n,configurable:dn.boolTrue,writable:dn.boolTrue}),n}}}to.bind=jh;to.default=jh;var ro={},Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});Tt.ClientMessagePublishEvent=Tt.ClientMessageSetSessionConfig=Tt.ClientMessageGetSessionConfig=Tt.ClientMessageIsLinked=Tt.ClientMessageHostSession=void 0;function VS(t){return Object.assign({type:"HostSession"},t)}Tt.ClientMessageHostSession=VS;function qS(t){return Object.assign({type:"IsLinked"},t)}Tt.ClientMessageIsLinked=qS;function GS(t){return Object.assign({type:"GetSessionConfig"},t)}Tt.ClientMessageGetSessionConfig=GS;function ZS(t){return Object.assign({type:"SetSessionConfig"},t)}Tt.ClientMessageSetSessionConfig=ZS;function QS(t){return Object.assign({type:"PublishEvent"},t)}Tt.ClientMessagePublishEvent=QS;var $h={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RxWebSocket=t.ConnectionState=void 0;const e=Fn,r=Ss;var n;(function(s){s[s.DISCONNECTED=0]="DISCONNECTED",s[s.CONNECTING=1]="CONNECTING",s[s.CONNECTED=2]="CONNECTED"})(n=t.ConnectionState||(t.ConnectionState={}));class i{constructor(o,a=WebSocket){this.WebSocketClass=a,this.webSocket=null,this.connectionStateSubject=new e.BehaviorSubject(n.DISCONNECTED),this.incomingDataSubject=new e.Subject,this.url=o.replace(/^http/,"ws")}connect(){return this.webSocket?(0,e.throwError)(new Error("webSocket object is not null")):new e.Observable(o=>{let a;try{this.webSocket=a=new this.WebSocketClass(this.url)}catch(d){o.error(d);return}this.connectionStateSubject.next(n.CONNECTING),a.onclose=d=>{this.clearWebSocket(),o.error(new Error(`websocket error ${d.code}: ${d.reason}`)),this.connectionStateSubject.next(n.DISCONNECTED)},a.onopen=d=>{o.next(),o.complete(),this.connectionStateSubject.next(n.CONNECTED)},a.onmessage=d=>{this.incomingDataSubject.next(d.data)}}).pipe((0,r.take)(1))}disconnect(){const{webSocket:o}=this;if(o){this.clearWebSocket(),this.connectionStateSubject.next(n.DISCONNECTED);try{o.close()}catch{}}}get connectionState$(){return this.connectionStateSubject.asObservable()}get incomingData$(){return this.incomingDataSubject.asObservable()}get incomingJSONData$(){return this.incomingData$.pipe((0,r.flatMap)(o=>{let a;try{a=JSON.parse(o)}catch{return(0,e.empty)()}return(0,e.of)(a)}))}sendData(o){const{webSocket:a}=this;if(!a)throw new Error("websocket is not connected");a.send(o)}clearWebSocket(){const{webSocket:o}=this;o&&(this.webSocket=null,o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null)}}t.RxWebSocket=i})($h);var no={};Object.defineProperty(no,"__esModule",{value:!0});no.isServerMessageFail=void 0;function KS(t){return t&&t.type==="Fail"&&typeof t.id=="number"&&typeof t.sessionId=="string"&&typeof t.error=="string"}no.isServerMessageFail=KS;Object.defineProperty(ro,"__esModule",{value:!0});ro.WalletSDKConnection=void 0;const Pt=Fn,we=Ss,qn=Ln,cn=Mi,Gn=Tt,Zn=Nn,zi=$h,Yo=no,tl=1e4,YS=6e4;class JS{constructor(e,r,n,i,s=WebSocket){this.sessionId=e,this.sessionKey=r,this.diagnostic=i,this.subscriptions=new Pt.Subscription,this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,cn.IntNumber)(1),this.connectedSubject=new Pt.BehaviorSubject(!1),this.linkedSubject=new Pt.BehaviorSubject(!1),this.sessionConfigSubject=new Pt.ReplaySubject(1);const o=new zi.RxWebSocket(n+"/rpc",s);this.ws=o,this.subscriptions.add(o.connectionState$.pipe((0,we.tap)(a=>{var d;return(d=this.diagnostic)===null||d===void 0?void 0:d.log(Zn.EVENTS.CONNECTED_STATE_CHANGE,{state:a,sessionIdHash:qn.Session.hash(e)})}),(0,we.skip)(1),(0,we.filter)(a=>a===zi.ConnectionState.DISCONNECTED&&!this.destroyed),(0,we.delay)(5e3),(0,we.filter)(a=>!this.destroyed),(0,we.flatMap)(a=>o.connect()),(0,we.retry)()).subscribe()),this.subscriptions.add(o.connectionState$.pipe((0,we.skip)(2),(0,we.switchMap)(a=>(0,Pt.iif)(()=>a===zi.ConnectionState.CONNECTED,this.authenticate().pipe((0,we.tap)(d=>this.sendIsLinked()),(0,we.tap)(d=>this.sendGetSessionConfig()),(0,we.map)(d=>!0)),(0,Pt.of)(!1))),(0,we.distinctUntilChanged)(),(0,we.catchError)(a=>(0,Pt.of)(!1))).subscribe(a=>this.connectedSubject.next(a))),this.subscriptions.add(o.connectionState$.pipe((0,we.skip)(1),(0,we.switchMap)(a=>(0,Pt.iif)(()=>a===zi.ConnectionState.CONNECTED,(0,Pt.timer)(0,tl)))).subscribe(a=>a===0?this.updateLastHeartbeat():this.heartbeat())),this.subscriptions.add(o.incomingData$.pipe((0,we.filter)(a=>a==="h")).subscribe(a=>this.updateLastHeartbeat())),this.subscriptions.add(o.incomingJSONData$.pipe((0,we.filter)(a=>["IsLinkedOK","Linked"].includes(a.type))).subscribe(a=>{var d;const g=a;(d=this.diagnostic)===null||d===void 0||d.log(Zn.EVENTS.LINKED,{sessionIdHash:qn.Session.hash(e),linked:g.linked,type:a.type,onlineGuests:g.onlineGuests}),this.linkedSubject.next(g.linked||g.onlineGuests>0)})),this.subscriptions.add(o.incomingJSONData$.pipe((0,we.filter)(a=>["GetSessionConfigOK","SessionConfigUpdated"].includes(a.type))).subscribe(a=>{var d;const g=a;(d=this.diagnostic)===null||d===void 0||d.log(Zn.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:qn.Session.hash(e),metadata_keys:g&&g.metadata?Object.keys(g.metadata):void 0}),this.sessionConfigSubject.next({webhookId:g.webhookId,webhookUrl:g.webhookUrl,metadata:g.metadata})}))}connect(){var e;if(this.destroyed)throw new Error("instance is destroyed");(e=this.diagnostic)===null||e===void 0||e.log(Zn.EVENTS.STARTED_CONNECTING,{sessionIdHash:qn.Session.hash(this.sessionId)}),this.ws.connect().subscribe()}destroy(){var e;this.subscriptions.unsubscribe(),this.ws.disconnect(),(e=this.diagnostic)===null||e===void 0||e.log(Zn.EVENTS.DISCONNECTED,{sessionIdHash:qn.Session.hash(this.sessionId)}),this.destroyed=!0}get isDestroyed(){return this.destroyed}get connected$(){return this.connectedSubject.asObservable()}get onceConnected$(){return this.connected$.pipe((0,we.filter)(e=>e),(0,we.take)(1),(0,we.map)(()=>{}))}get linked$(){return this.linkedSubject.asObservable()}get onceLinked$(){return this.linked$.pipe((0,we.filter)(e=>e),(0,we.take)(1),(0,we.map)(()=>{}))}get sessionConfig$(){return this.sessionConfigSubject.asObservable()}get incomingEvent$(){return this.ws.incomingJSONData$.pipe((0,we.filter)(e=>{if(e.type!=="Event")return!1;const r=e;return typeof r.sessionId=="string"&&typeof r.eventId=="string"&&typeof r.event=="string"&&typeof r.data=="string"}),(0,we.map)(e=>e))}setSessionMetadata(e,r){const n=(0,Gn.ClientMessageSetSessionConfig)({id:(0,cn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,metadata:{[e]:r}});return this.onceConnected$.pipe((0,we.flatMap)(i=>this.makeRequest(n)),(0,we.map)(i=>{if((0,Yo.isServerMessageFail)(i))throw new Error(i.error||"failed to set session metadata")}))}publishEvent(e,r,n=!1){const i=(0,Gn.ClientMessagePublishEvent)({id:(0,cn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,event:e,data:r,callWebhook:n});return this.onceLinked$.pipe((0,we.flatMap)(s=>this.makeRequest(i)),(0,we.map)(s=>{if((0,Yo.isServerMessageFail)(s))throw new Error(s.error||"failed to publish event");return s.eventId}))}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>tl*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}makeRequest(e,r=YS){const n=e.id;try{this.sendData(e)}catch(i){return(0,Pt.throwError)(i)}return this.ws.incomingJSONData$.pipe((0,we.timeoutWith)(r,(0,Pt.throwError)(new Error(`request ${n} timed out`))),(0,we.filter)(i=>i.id===n),(0,we.take)(1))}authenticate(){const e=(0,Gn.ClientMessageHostSession)({id:(0,cn.IntNumber)(this.nextReqId++),sessionId:this.sessionId,sessionKey:this.sessionKey});return this.makeRequest(e).pipe((0,we.map)(r=>{if((0,Yo.isServerMessageFail)(r))throw new Error(r.error||"failed to authentcate")}))}sendIsLinked(){const e=(0,Gn.ClientMessageIsLinked)({id:(0,cn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}sendGetSessionConfig(){const e=(0,Gn.ClientMessageGetSessionConfig)({id:(0,cn.IntNumber)(this.nextReqId++),sessionId:this.sessionId});this.sendData(e)}}ro.WalletSDKConnection=JS;var io={};Object.defineProperty(io,"__esModule",{value:!0});io.WalletUIError=void 0;class fi extends Error{constructor(e,r){super(e),this.message=e,this.errorCode=r}}io.WalletUIError=fi;fi.UserRejectedRequest=new fi("User rejected request");fi.SwitchEthereumChainUnsupportedChainId=new fi("Unsupported chainId",4902);var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0});Rn.decrypt=Rn.encrypt=void 0;const XS=Fn,hs=ie;async function e3(t,e){if(e.length!==64)throw Error("secret must be 256 bits");const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.importKey("raw",(0,hs.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=new TextEncoder,s=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:r},n,i.encode(t)),o=16,a=s.slice(s.byteLength-o),d=s.slice(0,s.byteLength-o),g=new Uint8Array(a),y=new Uint8Array(d),T=new Uint8Array([...r,...g,...y]);return(0,hs.uint8ArrayToHex)(T)}Rn.encrypt=e3;function t3(t,e){if(e.length!==64)throw Error("secret must be 256 bits");return new XS.Observable(r=>{(async function(){const n=await crypto.subtle.importKey("raw",(0,hs.hexStringToUint8Array)(e),{name:"aes-gcm"},!1,["encrypt","decrypt"]),i=(0,hs.hexStringToUint8Array)(t),s=i.slice(0,12),o=i.slice(12,28),a=i.slice(28),d=new Uint8Array([...a,...o]),g={name:"AES-GCM",iv:new Uint8Array(s)};try{const y=await window.crypto.subtle.decrypt(g,n,d),T=new TextDecoder;r.next(T.decode(y)),r.complete()}catch(y){r.error(y)}})()})}Rn.decrypt=t3;var du={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Web3Method=void 0,function(e){e.requestEthereumAccounts="requestEthereumAccounts",e.signEthereumMessage="signEthereumMessage",e.signEthereumTransaction="signEthereumTransaction",e.submitEthereumTransaction="submitEthereumTransaction",e.ethereumAddressFromSignedMessage="ethereumAddressFromSignedMessage",e.scanQRCode="scanQRCode",e.generic="generic",e.childRequestEthereumAccounts="childRequestEthereumAccounts",e.addEthereumChain="addEthereumChain",e.switchEthereumChain="switchEthereumChain",e.makeEthereumJSONRPCRequest="makeEthereumJSONRPCRequest",e.watchAsset="watchAsset",e.selectProvider="selectProvider"}(t.Web3Method||(t.Web3Method={}))})(du);var so={},oo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.RelayMessageType=void 0,function(e){e.SESSION_ID_REQUEST="SESSION_ID_REQUEST",e.SESSION_ID_RESPONSE="SESSION_ID_RESPONSE",e.LINKED="LINKED",e.UNLINKED="UNLINKED",e.WEB3_REQUEST="WEB3_REQUEST",e.WEB3_REQUEST_CANCELED="WEB3_REQUEST_CANCELED",e.WEB3_RESPONSE="WEB3_RESPONSE"}(t.RelayMessageType||(t.RelayMessageType={}))})(oo);Object.defineProperty(so,"__esModule",{value:!0});so.Web3RequestCanceledMessage=void 0;const r3=oo;function n3(t){return{type:r3.RelayMessageType.WEB3_REQUEST_CANCELED,id:t}}so.Web3RequestCanceledMessage=n3;var ao={};Object.defineProperty(ao,"__esModule",{value:!0});ao.Web3RequestMessage=void 0;const i3=oo;function s3(t){return Object.assign({type:i3.RelayMessageType.WEB3_REQUEST},t)}ao.Web3RequestMessage=s3;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.EthereumAddressFromSignedMessageResponse=Ke.SubmitEthereumTransactionResponse=Ke.SignEthereumTransactionResponse=Ke.SignEthereumMessageResponse=Ke.isRequestEthereumAccountsResponse=Ke.SelectProviderResponse=Ke.WatchAssetReponse=Ke.RequestEthereumAccountsResponse=Ke.SwitchEthereumChainResponse=Ke.AddEthereumChainResponse=Ke.ErrorResponse=void 0;const Kt=du;function o3(t,e,r){return{method:t,errorMessage:e,errorCode:r}}Ke.ErrorResponse=o3;function a3(t){return{method:Kt.Web3Method.addEthereumChain,result:t}}Ke.AddEthereumChainResponse=a3;function u3(t){return{method:Kt.Web3Method.switchEthereumChain,result:t}}Ke.SwitchEthereumChainResponse=u3;function c3(t){return{method:Kt.Web3Method.requestEthereumAccounts,result:t}}Ke.RequestEthereumAccountsResponse=c3;function l3(t){return{method:Kt.Web3Method.watchAsset,result:t}}Ke.WatchAssetReponse=l3;function f3(t){return{method:Kt.Web3Method.selectProvider,result:t}}Ke.SelectProviderResponse=f3;function h3(t){return t&&t.method===Kt.Web3Method.requestEthereumAccounts}Ke.isRequestEthereumAccountsResponse=h3;function d3(t){return{method:Kt.Web3Method.signEthereumMessage,result:t}}Ke.SignEthereumMessageResponse=d3;function p3(t){return{method:Kt.Web3Method.signEthereumTransaction,result:t}}Ke.SignEthereumTransactionResponse=p3;function g3(t){return{method:Kt.Web3Method.submitEthereumTransaction,result:t}}Ke.SubmitEthereumTransactionResponse=g3;function y3(t){return{method:Kt.Web3Method.ethereumAddressFromSignedMessage,result:t}}Ke.EthereumAddressFromSignedMessageResponse=y3;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.isWeb3ResponseMessage=Tn.Web3ResponseMessage=void 0;const Uh=oo;function b3(t){return Object.assign({type:Uh.RelayMessageType.WEB3_RESPONSE},t)}Tn.Web3ResponseMessage=b3;function v3(t){return t&&t.type===Uh.RelayMessageType.WEB3_RESPONSE}Tn.isWeb3ResponseMessage=v3;var m3=be&&be.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),_3=be&&be.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Wh=be&&be.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},w3=be&&be.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&m3(e,t,r);return _3(e,t),e},S3=be&&be.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(eo,"__esModule",{value:!0});eo.WalletSDKRelay=void 0;const Hh=S3(to),rl=bs,Qn=Fn,it=Ss,yt=Nn,x3=ro,Jo=io,E3=Mi,Qe=ie,sr=w3(Rn),or=Ln,Vi=jt,at=du,M3=so,C3=ao,St=Ke,vt=Tn;class Ft extends Vi.WalletSDKRelayAbstract{constructor(e){var r;super(),this.accountsCallback=null,this.chainCallback=null,this.dappDefaultChainSubject=new Qn.BehaviorSubject(1),this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.subscriptions=new Qn.Subscription,this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.options=e;const{session:n,ui:i,connection:s}=this.subscribe();if(this._session=n,this.connection=s,this.relayEventManager=e.relayEventManager,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this.diagnostic={log:e.eventListener.onEvent}:this.diagnostic=e.diagnosticLogger,this._reloadOnDisconnect=(r=e.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){this.subscriptions.add(this.dappDefaultChainSubject.subscribe(i=>{this.dappDefaultChain!==i&&(this.dappDefaultChain=i)}));const e=or.Session.load(this.storage)||new or.Session(this.storage).save(),r=new x3.WalletSDKConnection(e.id,e.key,this.linkAPIUrl,this.diagnostic);this.subscriptions.add(r.sessionConfig$.subscribe({next:i=>{this.onSessionConfigChanged(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.GENERAL_ERROR,{message:"error while invoking session config callback"})}})),this.subscriptions.add(r.incomingEvent$.pipe((0,it.filter)(i=>i.event==="Web3Response")).subscribe({next:this.handleIncomingEvent})),this.subscriptions.add(r.linked$.pipe((0,it.skip)(1),(0,it.tap)(i=>{var s;this.isLinked=i;const o=this.storage.getItem(Vi.LOCAL_STORAGE_ADDRESSES_KEY);if(i&&(this.session.linked=i),this.isUnlinkedErrorState=!1,o){const a=o.split(" "),d=this.storage.getItem("IsStandaloneSigning")==="true";if(a[0]!==""&&!i&&this.session.linked&&!d){this.isUnlinkedErrorState=!0;const g=this.getSessionIdHash();(s=this.diagnostic)===null||s===void 0||s.log(yt.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:g})}}})).subscribe()),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>!!i.metadata&&i.metadata.__destroyed==="1")).subscribe(()=>{var i;const s=r.isDestroyed;return(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:s,sessionIdHash:this.getSessionIdHash()}),this.resetAndReload()})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.WalletUsername!==void 0)).pipe((0,it.mergeMap)(i=>sr.decrypt(i.metadata.WalletUsername,e.secret))).subscribe({next:i=>{this.storage.setItem(Vi.WALLET_USER_NAME_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"username"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.AppVersion!==void 0)).pipe((0,it.mergeMap)(i=>sr.decrypt(i.metadata.AppVersion,e.secret))).subscribe({next:i=>{this.storage.setItem(Vi.APP_VERSION_KEY,i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appversion"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.ChainId!==void 0&&i.metadata.JsonRpcUrl!==void 0)).pipe((0,it.mergeMap)(i=>(0,Qn.zip)(sr.decrypt(i.metadata.ChainId,e.secret),sr.decrypt(i.metadata.JsonRpcUrl,e.secret)))).pipe((0,it.distinctUntilChanged)()).subscribe({next:([i,s])=>{this.chainCallback&&this.chainCallback(i,s)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.EthereumAddress!==void 0)).pipe((0,it.mergeMap)(i=>sr.decrypt(i.metadata.EthereumAddress,e.secret))).subscribe({next:i=>{this.accountsCallback&&this.accountsCallback([i]),Ft.accountRequestCallbackIds.size>0&&(Array.from(Ft.accountRequestCallbackIds.values()).forEach(s=>{const o=(0,vt.Web3ResponseMessage)({id:s,response:(0,St.RequestEthereumAccountsResponse)([i])});this.invokeCallback(Object.assign(Object.assign({},o),{id:s}))}),Ft.accountRequestCallbackIds.clear())},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}})),this.subscriptions.add(r.sessionConfig$.pipe((0,it.filter)(i=>i.metadata&&i.metadata.AppSrc!==void 0)).pipe((0,it.mergeMap)(i=>sr.decrypt(i.metadata.AppSrc,e.secret))).subscribe({next:i=>{this.ui.setAppSrc(i)},error:()=>{var i;(i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"appSrc"})}}));const n=this.options.uiConstructor({linkAPIUrl:this.options.linkAPIUrl,version:this.options.version,darkMode:this.options.darkMode,session:e,connected$:r.connected$,chainId$:this.dappDefaultChainSubject});return r.connect(),{session:e,ui:n,connection:r}}attachUI(){this.ui.attach()}resetAndReload(){this.connection.setSessionMetadata("__destroyed","1").pipe((0,it.timeout)(1e3),(0,it.catchError)(e=>(0,Qn.of)(null))).subscribe(e=>{var r,n,i;const s=this.ui.isStandalone();try{this.subscriptions.unsubscribe()}catch{(r=this.diagnostic)===null||r===void 0||r.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error unsubscribing"})}(n=this.diagnostic)===null||n===void 0||n.log(yt.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const o=or.Session.load(this.storage);if((o==null?void 0:o.id)===this._session.id?this.storage.clear():o&&((i=this.diagnostic)===null||i===void 0||i.log(yt.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:or.Session.hash(o.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:a,ui:d,connection:g}=this.subscribe();this._session=a,this.connection=g,this.ui=d,s&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.attachUI()},e=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(yt.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${e}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(e,r){this.appName=e,this.appLogoUrl=r}getStorageItem(e){return this.storage.getItem(e)}get session(){return this._session}setStorageItem(e,r){this.storage.setItem(e,r)}signEthereumMessage(e,r,n,i){return this.sendRequest({method:at.Web3Method.signEthereumMessage,params:{message:(0,Qe.hexStringFromBuffer)(e,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(e,r,n){return this.sendRequest({method:at.Web3Method.ethereumAddressFromSignedMessage,params:{message:(0,Qe.hexStringFromBuffer)(e,!0),signature:(0,Qe.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(e){return this.sendRequest({method:at.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Qe.bigIntStringFromBN)(e.weiValue),data:(0,Qe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Qe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?(0,Qe.bigIntStringFromBN)(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?(0,Qe.bigIntStringFromBN)(e.gasPriceInWei):null,gasLimit:e.gasLimit?(0,Qe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:at.Web3Method.signEthereumTransaction,params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:(0,Qe.bigIntStringFromBN)(e.weiValue),data:(0,Qe.hexStringFromBuffer)(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?(0,Qe.bigIntStringFromBN)(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?(0,Qe.bigIntStringFromBN)(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?(0,Qe.bigIntStringFromBN)(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?(0,Qe.bigIntStringFromBN)(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:at.Web3Method.submitEthereumTransaction,params:{signedTransaction:(0,Qe.hexStringFromBuffer)(e,!0),chainId:r}})}scanQRCode(e){return this.sendRequest({method:at.Web3Method.scanQRCode,params:{regExp:e}})}getQRCodeUrl(){return(0,Qe.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(e,r){return this.sendRequest({method:at.Web3Method.generic,params:{action:r,data:e}})}sendGenericMessage(e){return this.sendRequest(e)}sendRequest(e){let r=null;const n=(0,Qe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,o),r==null||r()};return{promise:new Promise((o,a)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,d=>{if(r==null||r(),d.errorMessage)return a(new Error(d.errorMessage));o(d)}),this.ui.isStandalone()?this.sendRequestStandalone(n,e):this.publishWeb3RequestEvent(n,e)}),cancel:i}}setConnectDisabled(e){this.ui.setConnectDisabled(e)}setAccountsCallback(e){this.accountsCallback=e}setChainCallback(e){this.chainCallback=e}setDappDefaultChainCallback(e){this.dappDefaultChainSubject.next(e)}publishWeb3RequestEvent(e,r){var n;const i=(0,C3.Web3RequestMessage)({id:e,request:r}),s=or.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(yt.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?or.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()}),this.subscriptions.add(this.publishEvent("Web3Request",i,!0).subscribe({next:o=>{var a;(a=this.diagnostic)===null||a===void 0||a.log(yt.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${i.request.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?or.Session.hash(s.id):"",isSessionMismatched:((s==null?void 0:s.id)!==this._session.id).toString()})},error:o=>{this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:i.id,response:{method:i.request.method,errorMessage:o.message}}))}}))}publishWeb3RequestCanceledEvent(e){const r=(0,M3.Web3RequestCanceledMessage)(e);this.subscriptions.add(this.publishEvent("Web3RequestCanceled",r,!1).subscribe())}publishEvent(e,r,n){const i=this.session.secret;return new Qn.Observable(s=>{sr.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin})),i).then(o=>{s.next(o),s.complete()})}).pipe((0,it.mergeMap)(s=>this.connection.publishEvent(e,s,n)))}handleIncomingEvent(e){try{this.subscriptions.add(sr.decrypt(e.data,this.session.secret).pipe((0,it.map)(r=>JSON.parse(r))).subscribe({next:r=>{const n=(0,vt.isWeb3ResponseMessage)(r)?r:null;n&&this.handleWeb3ResponseMessage(n)},error:()=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(yt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}))}catch{return}}handleWeb3ResponseMessage(e){var r;const{response:n}=e;if((r=this.diagnostic)===null||r===void 0||r.log(yt.EVENTS.WEB3_RESPONSE,{eventId:e.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),(0,St.isRequestEthereumAccountsResponse)(n)){Ft.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},e),{id:i}))),Ft.accountRequestCallbackIds.clear();return}this.invokeCallback(e)}handleErrorResponse(e,r,n,i){this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:e,response:(0,St.ErrorResponse)(r,(n??Jo.WalletUIError.UserRejectedRequest).message,i)}))}invokeCallback(e){const r=this.relayEventManager.callbacks.get(e.id);r&&(r(e.response),this.relayEventManager.callbacks.delete(e.id))}requestEthereumAccounts(){const e={method:at.Web3Method.requestEthereumAccounts,params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,Qe.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,e.method,s)};return{promise:new Promise((s,o)=>{var a;this.relayEventManager.callbacks.set(r,g=>{if(this.ui.hideRequestEthereumAccounts(),g.errorMessage)return o(new Error(g.errorMessage));s(g)});const d=((a=window==null?void 0:window.navigator)===null||a===void 0?void 0:a.userAgent)||null;if(d&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(d)){let g;try{(0,Qe.isInIFrame)()&&window.top?g=window.top.location:g=window.location}catch{g=window.location}g.href=`https://www.coinbase.com/connect-dapp?uri=${encodeURIComponent(g.href)}`;return}if(this.ui.inlineAccountsResponse()){const g=y=>{this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:r,response:(0,St.RequestEthereumAccountsResponse)(y)}))};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:g})}else{const g=rl.ethErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(g)})}Ft.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,e)}),cancel:n}}selectProvider(e){const r={method:at.Web3Method.selectProvider,params:{providerOptions:e}},n=(0,Qe.randomBytesHex)(8),i=o=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,o)},s=new Promise((o,a)=>{this.relayEventManager.callbacks.set(n,y=>{if(y.errorMessage)return a(new Error(y.errorMessage));o(y)});const d=y=>{this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:n,response:(0,St.SelectProviderResponse)(E3.ProviderType.Unselected)}))},g=y=>{this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:n,response:(0,St.SelectProviderResponse)(y)}))};this.ui.selectProvider&&this.ui.selectProvider({onApprove:g,onCancel:d,providerOptions:e})});return{cancel:i,promise:s}}watchAsset(e,r,n,i,s,o){const a={method:at.Web3Method.watchAsset,params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:o}};let d=null;const g=(0,Qe.randomBytesHex)(8),y=x=>{this.publishWeb3RequestCanceledEvent(g),this.handleErrorResponse(g,a.method,x),d==null||d()};this.ui.inlineWatchAsset()||(d=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:y,onResetConnection:this.resetAndReload}));const T=new Promise((x,I)=>{this.relayEventManager.callbacks.set(g,W=>{if(d==null||d(),W.errorMessage)return I(new Error(W.errorMessage));x(W)});const N=W=>{this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:g,response:(0,St.WatchAssetReponse)(!1)}))},$=()=>{this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:g,response:(0,St.WatchAssetReponse)(!0)}))};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:$,onCancel:N,type:e,address:r,symbol:n,decimals:i,image:s,chainId:o}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(g,a)});return{cancel:y,promise:T}}addEthereumChain(e,r,n,i,s,o){const a={method:at.Web3Method.addEthereumChain,params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:o}};let d=null;const g=(0,Qe.randomBytesHex)(8),y=x=>{this.publishWeb3RequestCanceledEvent(g),this.handleErrorResponse(g,a.method,x),d==null||d()};return this.ui.inlineAddEthereumChain(e)||(d=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:y,onResetConnection:this.resetAndReload})),{promise:new Promise((x,I)=>{this.relayEventManager.callbacks.set(g,W=>{if(d==null||d(),W.errorMessage)return I(new Error(W.errorMessage));x(W)});const N=W=>{this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:g,response:(0,St.AddEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},$=W=>{this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:g,response:(0,St.AddEthereumChainResponse)({isApproved:!0,rpcUrl:W})}))};this.ui.inlineAddEthereumChain(e)&&this.ui.addEthereumChain({onCancel:N,onApprove:$,chainId:a.params.chainId,rpcUrls:a.params.rpcUrls,blockExplorerUrls:a.params.blockExplorerUrls,chainName:a.params.chainName,iconUrls:a.params.iconUrls,nativeCurrency:a.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(e)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(g,a)}),cancel:y}}switchEthereumChain(e,r){const n={method:at.Web3Method.switchEthereumChain,params:Object.assign({chainId:e},{address:r})},i=(0,Qe.randomBytesHex)(8),s=a=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,a)};return{promise:new Promise((a,d)=>{this.relayEventManager.callbacks.set(i,T=>{if(T.errorMessage&&T.errorCode)return d(rl.ethErrors.provider.custom({code:T.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(T.errorMessage)return d(new Error(T.errorMessage));a(T)});const g=T=>{if(typeof T=="number"){const x=T;this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:i,response:(0,St.ErrorResponse)(at.Web3Method.switchEthereumChain,Jo.WalletUIError.SwitchEthereumChainUnsupportedChainId.message,x)}))}else T instanceof Jo.WalletUIError?this.handleErrorResponse(i,at.Web3Method.switchEthereumChain,T,T.errorCode):this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:i,response:(0,St.SwitchEthereumChainResponse)({isApproved:!1,rpcUrl:""})}))},y=T=>{this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:i,response:(0,St.SwitchEthereumChainResponse)({isApproved:!0,rpcUrl:T})}))};this.ui.switchEthereumChain({onCancel:g,onApprove:y,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(e){return this.ui.inlineAddEthereumChain(e)}getSessionIdHash(){return or.Session.hash(this._session.id)}sendRequestStandalone(e,r){const n=s=>{this.handleErrorResponse(e,r.method,s)},i=s=>{this.handleWeb3ResponseMessage((0,vt.Web3ResponseMessage)({id:e,response:s}))};switch(r.method){case at.Web3Method.signEthereumMessage:this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case at.Web3Method.signEthereumTransaction:this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case at.Web3Method.submitEthereumTransaction:this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case at.Web3Method.ethereumAddressFromSignedMessage:this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}onSessionConfigChanged(e){}}Ft.accountRequestCallbackIds=new Set;Wh([Hh.default],Ft.prototype,"resetAndReload",null);Wh([Hh.default],Ft.prototype,"handleIncomingEvent",null);eo.WalletSDKRelay=Ft;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.WalletSDKRelayEventManager=void 0;const I3=ie;class k3{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=(0,I3.prepend0x)(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}uo.WalletSDKRelayEventManager=k3;const A3="@coinbase/wallet-sdk",R3="3.6.2",T3="Coinbase Wallet JavaScript SDK",O3=["cipher","cipherbrowser","coinbase","coinbasewallet","eth","ether","ethereum","etherium","injection","toshi","wallet","walletlink","web3"],N3="dist/index.js",L3="dist/index.d.ts",B3="https://github.com/coinbase/coinbase-wallet-sdk.git",P3="Coinbase, Inc.",D3="Apache-2.0",F3={"pretest:unit":"node compile-assets.js","test:unit":"jest","test:unit:coverage":"yarn test:unit && open coverage/lcov-report/index.html","test:karma":"yarn build-npm && karma start",prebuild:`rm -rf ./build && node -p "'export const LIB_VERSION = ' + JSON.stringify(require('./package.json').version) + ';'" > src/version.ts`,build:"node compile-assets.js && webpack --config webpack.config.js","build-npm":"tsc -p ./tsconfig.build.json","build:dev":"export LINK_API_URL='http://localhost:3000'; yarn build","build:dev:watch":"nodemon -e 'ts,tsx,js,json,css,scss,svg' --ignore 'src/**/*-css.ts' --ignore 'src/**/*-svg.ts' --watch src/ --exec 'yarn build:dev'","build:prod":`yarn prebuild && yarn build && yarn build-npm && cp ./package.json ../../README.md ./LICENSE build/npm && cp -a src/vendor-js build/npm/dist && sed -i.bak 's|  "private": true,||g' build/npm/package.json && rm -f build/npm/package.json.bak`,"lint:types":"tsc --noEmit","lint:prettier":'prettier --check "{src,__tests__}/**/*.(js|ts|tsx)"',"lint:eslint":"eslint ./src --ext .ts,.tsx",lint:"yarn lint:eslint && yarn lint:types && yarn lint:prettier","fix:eslint":"yarn lint:eslint --fix","fix:prettier":"prettier . --write",release:"./scripts/release.sh"},j3={"@metamask/safe-event-emitter":"2.0.0","@solana/web3.js":"1.52.0","bind-decorator":"^1.0.11","bn.js":"^5.1.1",buffer:"^6.0.3",clsx:"^1.1.0","eth-block-tracker":"4.4.3","eth-json-rpc-filters":"4.2.2","eth-rpc-errors":"4.0.2","json-rpc-engine":"6.1.0",keccak:"^3.0.1",preact:"^10.5.9",qs:"^6.10.3",rxjs:"^6.6.3","sha.js":"^2.4.11","stream-browserify":"^3.0.0",util:"^0.12.4"},$3={"@babel/core":"^7.17.9","@babel/plugin-proposal-decorators":"^7.17.9","@babel/plugin-transform-react-jsx":"^7.17.3","@babel/preset-env":"^7.16.11","@babel/preset-typescript":"^7.16.7","@peculiar/webcrypto":"^1.3.3","@testing-library/jest-dom":"^5.16.4","@testing-library/preact":"^2.0.1","@types/bn.js":"^4.11.6","@types/jest":"^27.4.1","@types/node":"^14.14.20","@types/qs":"^6.9.7","@types/sha.js":"^2.4.0","@typescript-eslint/eslint-plugin":"^5.7.0","@typescript-eslint/eslint-plugin-tslint":"^5.7.0","@typescript-eslint/parser":"^5.7.0","babel-jest":"^27.5.1",browserify:"17.0.0","copy-webpack-plugin":"^6.4.1","core-js":"^3.8.2",eslint:"^8.4.1","eslint-config-prettier":"^8.3.0","eslint-plugin-import":"^2.25.3","eslint-plugin-preact":"^0.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-simple-import-sort":"^7.0.0",jasmine:"3.8.0",jest:"^27.5.1","jest-chrome":"^0.7.2","jest-websocket-mock":"^2.3.0",karma:"^6.3.15","karma-browserify":"8.1.0","karma-chrome-launcher":"^3.1.0","karma-jasmine":"^4.0.1",nodemon:"^2.0.6",prettier:"^2.5.1","raw-loader":"^4.0.2","regenerator-runtime":"^0.13.7",sass:"^1.50.0",svgo:"^2.8.0","ts-jest":"^27.1.4","ts-loader":"^8.0.13","ts-node":"^10.7.0",tslib:"^2.0.3",typescript:"^4.1.3",watchify:"4.0.0",webpack:"^5.72.0","webpack-cli":"^4.9.2","whatwg-fetch":"^3.5.0"},U3={node:">= 10.0.0"},W3={name:A3,version:R3,description:T3,keywords:O3,main:N3,types:L3,repository:B3,author:P3,license:D3,scripts:F3,dependencies:j3,devDependencies:$3,engines:U3};Object.defineProperty(ii,"__esModule",{value:!0});ii.CoinbaseWalletSDK=void 0;const H3=gs,z3=ys,V3=mn,q3=js,G3=eo,Z3=uo,Q3=ie,K3={}.LINK_API_URL||"https://www.walletlink.org",zh={}.SDK_VERSION||W3.version||"unknown";class co{constructor(e){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=e.linkAPIUrl||K3;let o;if(e.uiConstructor?o=e.uiConstructor:o=g=>new q3.WalletSDKUI(g),typeof e.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=e.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=e.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=e.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,e.diagnosticLogger&&e.eventListener)throw new Error("Can't have both eventListener and diagnosticLogger options, use only diagnosticLogger");e.eventListener?this._diagnosticLogger={log:e.eventListener.onEvent}:this._diagnosticLogger=e.diagnosticLogger,this._reloadOnDisconnect=(i=e.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),d=`${a.protocol}//${a.host}`;this._storage=new z3.ScopedLocalStorage(`-walletlink:${d}`),this._storage.setItem("version",co.VERSION),!(this.walletExtension||this.coinbaseBrowser)&&(this._relayEventManager=new Z3.WalletSDKRelayEventManager,this._relay=new G3.WalletSDKRelay({linkAPIUrl:s,version:zh,darkMode:!!e.darkMode,uiConstructor:o,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger}),this.setAppInfo(e.appName,e.appLogoUrl),!e.headlessMode&&this._relay.attachUI())}makeWeb3Provider(e="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(e,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return e||s.setConnectDisabled(!0),new V3.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:e,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(e,r){var n;this._appName=e||"DApp",this._appLogoUrl=r||(0,Q3.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var e;const r=this.walletExtension;r?r.close():(e=this._relay)===null||e===void 0||e.resetAndReload()}getQrUrl(){var e,r;return(r=(e=this._relay)===null||e===void 0?void 0:e.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(e,r=240){return(0,H3.walletLogo)(e,r)}get walletExtension(){var e;return(e=window.coinbaseWalletExtension)!==null&&e!==void 0?e:window.walletLinkExtension}get coinbaseBrowser(){var e,r;try{const n=(e=window.ethereum)!==null&&e!==void 0?e:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(e){return typeof e.isCipher=="boolean"&&e.isCipher}}ii.CoinbaseWalletSDK=co;co.VERSION=zh;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CoinbaseWalletProvider=t.CoinbaseWalletSDK=void 0;const e=ii,r=mn;var n=ii;Object.defineProperty(t,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=mn;Object.defineProperty(t,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),t.default=e.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=e.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=e.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(_a);const Y3=Vh(_a),hx=Zh({__proto__:null,default:Y3},[_a]);export{hx as i};
